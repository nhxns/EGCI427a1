function e(e,t){const n=Object.create(null),r=e.split(",");for(let e=0;e<r.length;e++)n[r[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}const t=e("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt"),n=e("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function r(e){if(_(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],o=r(S(i)?a(i):i);if(o)for(const e in o)t[e]=o[e]}return t}if(k(e))return e}const i=/;(?![^(]*\))/g,o=/:(.+)/;function a(e){const t={};return e.split(i).forEach((e=>{if(e){const n=e.split(o);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function s(e){let t="";if(S(e))t=e;else if(_(e))for(let n=0;n<e.length;n++){const r=s(e[n]);r&&(t+=r+" ")}else if(k(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const u=e=>null==e?"":k(e)?JSON.stringify(e,c,2):String(e),c=(e,t)=>T(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:E(t)?{[`Set(${t.size})`]:[...t.values()]}:!k(t)||_(t)||D(t)?t:String(t),l={},h=[],f=()=>{},p=()=>!1,d=/^on[^a-z]/,v=e=>d.test(e),g=e=>e.startsWith("onUpdate:"),m=Object.assign,y=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},b=Object.prototype.hasOwnProperty,w=(e,t)=>b.call(e,t),_=Array.isArray,T=e=>"[object Map]"===N(e),E=e=>"[object Set]"===N(e),I=e=>"function"==typeof e,S=e=>"string"==typeof e,C=e=>"symbol"==typeof e,k=e=>null!==e&&"object"==typeof e,x=e=>k(e)&&I(e.then)&&I(e.catch),A=Object.prototype.toString,N=e=>A.call(e),D=e=>"[object Object]"===N(e),R=e=>S(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,P=e(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),O=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},L=/-(\w)/g,M=O((e=>e.replace(L,((e,t)=>t?t.toUpperCase():"")))),F=/\B([A-Z])/g,j=O((e=>e.replace(F,"-$1").toLowerCase())),U=O((e=>e.charAt(0).toUpperCase()+e.slice(1))),q=O((e=>e?`on${U(e)}`:"")),V=(e,t)=>e!==t&&(e==e||t==t),B=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},K=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},H=e=>{const t=parseFloat(e);return isNaN(t)?e:t},W=new WeakMap,G=[];let z;const Q=Symbol(""),$=Symbol("");function Y(e,t=l){(function(e){return e&&!0===e._isEffect})(e)&&(e=e.raw);const n=function(e,t){const n=function(){if(!n.active)return t.scheduler?void 0:e();if(!G.includes(n)){Z(n);try{return te.push(ee),ee=!0,G.push(n),z=n,e()}finally{G.pop(),re(),z=G[G.length-1]}}};return n.id=J++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}(e,t);return t.lazy||n(),n}function X(e){e.active&&(Z(e),e.options.onStop&&e.options.onStop(),e.active=!1)}let J=0;function Z(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let ee=!0;const te=[];function ne(){te.push(ee),ee=!1}function re(){const e=te.pop();ee=void 0===e||e}function ie(e,t,n){if(!ee||void 0===z)return;let r=W.get(e);r||W.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=new Set),i.has(z)||(i.add(z),z.deps.push(i))}function oe(e,t,n,r,i,o){const a=W.get(e);if(!a)return;const s=new Set,u=e=>{e&&e.forEach((e=>{(e!==z||e.allowRecurse)&&s.add(e)}))};if("clear"===t)a.forEach(u);else if("length"===n&&_(e))a.forEach(((e,t)=>{("length"===t||t>=r)&&u(e)}));else switch(void 0!==n&&u(a.get(n)),t){case"add":_(e)?R(n)&&u(a.get("length")):(u(a.get(Q)),T(e)&&u(a.get($)));break;case"delete":_(e)||(u(a.get(Q)),T(e)&&u(a.get($)));break;case"set":T(e)&&u(a.get(Q))}s.forEach((e=>{e.options.scheduler?e.options.scheduler(e):e()}))}const ae=e("__proto__,__v_isRef,__isVue"),se=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(C)),ue=pe(),ce=pe(!1,!0),le=pe(!0),he=pe(!0,!0),fe={};function pe(e=!1,t=!1){return function(n,r,i){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_raw"===r&&i===(e?qe:Ue).get(n))return n;const o=_(n);if(!e&&o&&w(fe,r))return Reflect.get(fe,r,i);const a=Reflect.get(n,r,i);if(C(r)?se.has(r):ae(r))return a;if(e||ie(n,0,r),t)return a;if(Ye(a)){return!o||!R(r)?a.value:a}return k(a)?e?Ke(a):Be(a):a}}["includes","indexOf","lastIndexOf"].forEach((e=>{const t=Array.prototype[e];fe[e]=function(...e){const n=Qe(this);for(let e=0,t=this.length;e<t;e++)ie(n,0,e+"");const r=t.apply(n,e);return-1===r||!1===r?t.apply(n,e.map(Qe)):r}})),["push","pop","shift","unshift","splice"].forEach((e=>{const t=Array.prototype[e];fe[e]=function(...e){ne();const n=t.apply(this,e);return re(),n}}));function de(e=!1){return function(t,n,r,i){const o=t[n];if(!e&&(r=Qe(r),!_(t)&&Ye(o)&&!Ye(r)))return o.value=r,!0;const a=_(t)&&R(n)?Number(n)<t.length:w(t,n),s=Reflect.set(t,n,r,i);return t===Qe(i)&&(a?V(r,o)&&oe(t,"set",n,r):oe(t,"add",n,r)),s}}const ve={get:ue,set:de(),deleteProperty:function(e,t){const n=w(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&oe(e,"delete",t,void 0),r},has:function(e,t){const n=Reflect.has(e,t);return C(t)&&se.has(t)||ie(e,0,t),n},ownKeys:function(e){return ie(e,0,_(e)?"length":Q),Reflect.ownKeys(e)}},ge={get:le,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},me=m({},ve,{get:ce,set:de(!0)});m({},ge,{get:he});const ye=e=>k(e)?Be(e):e,be=e=>k(e)?Ke(e):e,we=e=>e,_e=e=>Reflect.getPrototypeOf(e);function Te(e,t,n=!1,r=!1){const i=Qe(e=e.__v_raw),o=Qe(t);t!==o&&!n&&ie(i,0,t),!n&&ie(i,0,o);const{has:a}=_e(i),s=n?be:r?we:ye;return a.call(i,t)?s(e.get(t)):a.call(i,o)?s(e.get(o)):void 0}function Ee(e,t=!1){const n=this.__v_raw,r=Qe(n),i=Qe(e);return e!==i&&!t&&ie(r,0,e),!t&&ie(r,0,i),e===i?n.has(e):n.has(e)||n.has(i)}function Ie(e,t=!1){return e=e.__v_raw,!t&&ie(Qe(e),0,Q),Reflect.get(e,"size",e)}function Se(e){e=Qe(e);const t=Qe(this);return _e(t).has.call(t,e)||(t.add(e),oe(t,"add",e,e)),this}function Ce(e,t){t=Qe(t);const n=Qe(this),{has:r,get:i}=_e(n);let o=r.call(n,e);o||(e=Qe(e),o=r.call(n,e));const a=i.call(n,e);return n.set(e,t),o?V(t,a)&&oe(n,"set",e,t):oe(n,"add",e,t),this}function ke(e){const t=Qe(this),{has:n,get:r}=_e(t);let i=n.call(t,e);i||(e=Qe(e),i=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return i&&oe(t,"delete",e,void 0),o}function xe(){const e=Qe(this),t=0!==e.size,n=e.clear();return t&&oe(e,"clear",void 0,void 0),n}function Ae(e,t){return function(n,r){const i=this,o=i.__v_raw,a=Qe(o),s=e?be:t?we:ye;return!e&&ie(a,0,Q),o.forEach(((e,t)=>n.call(r,s(e),s(t),i)))}}function Ne(e,t,n){return function(...r){const i=this.__v_raw,o=Qe(i),a=T(o),s="entries"===e||e===Symbol.iterator&&a,u="keys"===e&&a,c=i[e](...r),l=t?be:n?we:ye;return!t&&ie(o,0,u?$:Q),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:s?[l(e[0]),l(e[1])]:l(e),done:t}},[Symbol.iterator](){return this}}}}function De(e){return function(...t){return"delete"!==e&&this}}const Re={get(e){return Te(this,e)},get size(){return Ie(this)},has:Ee,add:Se,set:Ce,delete:ke,clear:xe,forEach:Ae(!1,!1)},Pe={get(e){return Te(this,e,!1,!0)},get size(){return Ie(this)},has:Ee,add:Se,set:Ce,delete:ke,clear:xe,forEach:Ae(!1,!0)},Oe={get(e){return Te(this,e,!0)},get size(){return Ie(this,!0)},has(e){return Ee.call(this,e,!0)},add:De("add"),set:De("set"),delete:De("delete"),clear:De("clear"),forEach:Ae(!0,!1)};function Le(e,t){const n=t?Pe:e?Oe:Re;return(t,r,i)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(w(n,r)&&r in t?n:t,r,i)}["keys","values","entries",Symbol.iterator].forEach((e=>{Re[e]=Ne(e,!1,!1),Oe[e]=Ne(e,!0,!1),Pe[e]=Ne(e,!1,!0)}));const Me={get:Le(!1,!1)},Fe={get:Le(!1,!0)},je={get:Le(!0,!1)},Ue=new WeakMap,qe=new WeakMap;function Ve(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>N(e).slice(8,-1))(e))}function Be(e){return e&&e.__v_isReadonly?e:He(e,!1,ve,Me)}function Ke(e){return He(e,!0,ge,je)}function He(e,t,n,r){if(!k(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const i=t?qe:Ue,o=i.get(e);if(o)return o;const a=Ve(e);if(0===a)return e;const s=new Proxy(e,2===a?r:n);return i.set(e,s),s}function We(e){return Ge(e)?We(e.__v_raw):!(!e||!e.__v_isReactive)}function Ge(e){return!(!e||!e.__v_isReadonly)}function ze(e){return We(e)||Ge(e)}function Qe(e){return e&&Qe(e.__v_raw)||e}const $e=e=>k(e)?Be(e):e;function Ye(e){return Boolean(e&&!0===e.__v_isRef)}class Xe{constructor(e,t=!1){this._rawValue=e,this._shallow=t,this.__v_isRef=!0,this._value=t?e:$e(e)}get value(){return ie(Qe(this),0,"value"),this._value}set value(e){V(Qe(e),this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:$e(e),oe(Qe(this),"set","value",e))}}function Je(e,t=!1){return Ye(e)?e:new Xe(e,t)}function Ze(e){return Ye(e)?e.value:e}const et={get:(e,t,n)=>Ze(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Ye(i)&&!Ye(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function tt(e){return We(e)?e:new Proxy(e,et)}class nt{constructor(e,t){this._object=e,this._key=t,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(e){this._object[this._key]=e}}class rt{constructor(e,t,n){this._setter=t,this._dirty=!0,this.__v_isRef=!0,this.effect=Y(e,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,oe(Qe(this),"set","value"))}}),this.__v_isReadonly=n}get value(){return this._dirty&&(this._value=this.effect(),this._dirty=!1),ie(Qe(this),0,"value"),this._value}set value(e){this._setter(e)}}function it(e,t,n,r){let i;try{i=r?e(...r):e()}catch(e){at(e,t,n)}return i}function ot(e,t,n,r){if(I(e)){const i=it(e,t,n,r);return i&&x(i)&&i.catch((e=>{at(e,t,n)})),i}const i=[];for(let o=0;o<e.length;o++)i.push(ot(e[o],t,n,r));return i}function at(e,t,n,r=!0){t&&t.vnode;if(t){let r=t.parent;const i=t.proxy,o=n;for(;r;){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,i,o))return;r=r.parent}const a=t.appContext.config.errorHandler;if(a)return void it(a,null,10,[e,i,o])}!function(e,t,n,r=!0){console.error(e)}(e,0,0,r)}let st=!1,ut=!1;const ct=[];let lt=0;const ht=[];let ft=null,pt=0;const dt=[];let vt=null,gt=0;const mt=Promise.resolve();let yt=null,bt=null;function wt(e){const t=yt||mt;return e?t.then(this?e.bind(this):e):t}function _t(e){if(!(ct.length&&ct.includes(e,st&&e.allowRecurse?lt+1:lt)||e===bt)){const t=function(e){let t=lt+1,n=ct.length;const r=Ct(e);for(;t<n;){const e=t+n>>>1;Ct(ct[e])<r?t=e+1:n=e}return t}(e);t>-1?ct.splice(t,0,e):ct.push(e),Tt()}}function Tt(){st||ut||(ut=!0,yt=mt.then(kt))}function Et(e,t,n,r){_(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?r+1:r)||n.push(e),Tt()}function It(e,t=null){if(ht.length){for(bt=t,ft=[...new Set(ht)],ht.length=0,pt=0;pt<ft.length;pt++)ft[pt]();ft=null,pt=0,bt=null,It(e,t)}}function St(e){if(dt.length){const e=[...new Set(dt)];if(dt.length=0,vt)return void vt.push(...e);for(vt=e,vt.sort(((e,t)=>Ct(e)-Ct(t))),gt=0;gt<vt.length;gt++)vt[gt]();vt=null,gt=0}}const Ct=e=>null==e.id?1/0:e.id;function kt(e){ut=!1,st=!0,It(e),ct.sort(((e,t)=>Ct(e)-Ct(t)));try{for(lt=0;lt<ct.length;lt++){const e=ct[lt];e&&it(e,null,14)}}finally{lt=0,ct.length=0,St(),st=!1,yt=null,(ct.length||dt.length)&&kt(e)}}function xt(e,t,...n){const r=e.vnode.props||l;let i=n;const o=t.startsWith("update:"),a=o&&t.slice(7);if(a&&a in r){const e=`${"modelValue"===a?"model":a}Modifiers`,{number:t,trim:o}=r[e]||l;o?i=n.map((e=>e.trim())):t&&(i=n.map(H))}let s=q(M(t)),u=r[s];!u&&o&&(s=q(j(t)),u=r[s]),u&&ot(u,e,6,i);const c=r[s+"Once"];if(c){if(e.emitted){if(e.emitted[s])return}else(e.emitted={})[s]=!0;ot(c,e,6,i)}}function At(e,t,n=!1){if(!t.deopt&&void 0!==e.__emits)return e.__emits;const r=e.emits;let i={},o=!1;if(!I(e)){const r=e=>{o=!0,m(i,At(e,t,!0))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return r||o?(_(r)?r.forEach((e=>i[e]=null)):m(i,r),e.__emits=i):e.__emits=null}function Nt(e,t){return!(!e||!v(t))&&(t=t.slice(2).replace(/Once$/,""),w(e,t[0].toLowerCase()+t.slice(1))||w(e,j(t))||w(e,t))}let Dt=null;function Rt(e){Dt=e}function Pt(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[a],slots:s,attrs:u,emit:c,render:l,renderCache:h,data:f,setupState:p,ctx:d}=e;let v;Dt=e;try{let e;if(4&n.shapeFlag){const t=i||r;v=er(l.call(t,t,h,o,p,f,d)),e=u}else{const n=t;0,v=er(n.length>1?n(o,{attrs:u,slots:s,emit:c}):n(o,null)),e=t.props?u:Lt(u)}let m=v;if(!1!==t.inheritAttrs&&e){const t=Object.keys(e),{shapeFlag:n}=m;t.length&&(1&n||6&n)&&(a&&t.some(g)&&(e=Mt(e,a)),m=Xn(m,e))}n.dirs&&(m.dirs=m.dirs?m.dirs.concat(n.dirs):n.dirs),n.transition&&(m.transition=n.transition),v=m}catch(t){at(t,e,1),v=Yn(jn)}return Dt=null,v}function Ot(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(!Wn(r))return;if(r.type!==jn||"v-if"===r.children){if(t)return;t=r}}return t}const Lt=e=>{let t;for(const n in e)("class"===n||"style"===n||v(n))&&((t||(t={}))[n]=e[n]);return t},Mt=(e,t)=>{const n={};for(const r in e)g(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function Ft(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!Nt(n,o))return!0}return!1}function jt(e){if(I(e)&&(e=e()),_(e)){e=Ot(e)}return er(e)}let Ut=0;const qt=e=>Ut+=e;function Vt(e,t=Dt){if(!t)return e;const n=(...n)=>{Ut||Bn(!0);const r=Dt;Rt(t);const i=e(...n);return Rt(r),Ut||Kn(),i};return n._c=!0,n}function Bt(e,t,n,r=!1){const i={},o={};K(o,zn,1),Kt(e,t,i,o),n?e.props=r?i:He(i,!1,me,Fe):e.type.props?e.props=i:e.props=o,e.attrs=o}function Kt(e,t,n,r){const[i,o]=e.propsOptions;if(t)for(const o in t){const a=t[o];if(P(o))continue;let s;i&&w(i,s=M(o))?n[s]=a:Nt(e.emitsOptions,o)||(r[o]=a)}if(o){const t=Qe(n);for(let r=0;r<o.length;r++){const a=o[r];n[a]=Ht(i,t,a,t[a],e)}}}function Ht(e,t,n,r,i){const o=e[n];if(null!=o){const e=w(o,"default");if(e&&void 0===r){const e=o.default;o.type!==Function&&I(e)?(_r(i),r=e(t),_r(null)):r=e}o[0]&&(w(t,n)||e?!o[1]||""!==r&&r!==j(n)||(r=!0):r=!1)}return r}function Wt(e,t,n=!1){if(!t.deopt&&e.__props)return e.__props;const r=e.props,i={},o=[];let a=!1;if(!I(e)){const r=e=>{a=!0;const[n,r]=Wt(e,t,!0);m(i,n),r&&o.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!r&&!a)return e.__props=h;if(_(r))for(let e=0;e<r.length;e++){const t=M(r[e]);Gt(t)&&(i[t]=l)}else if(r)for(const e in r){const t=M(e);if(Gt(t)){const n=r[e],a=i[t]=_(n)||I(n)?{type:n}:n;if(a){const e=$t(Boolean,a.type),n=$t(String,a.type);a[0]=e>-1,a[1]=n<0||e<n,(e>-1||w(a,"default"))&&o.push(t)}}}return e.__props=[i,o]}function Gt(e){return"$"!==e[0]}function zt(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function Qt(e,t){return zt(e)===zt(t)}function $t(e,t){if(_(t)){for(let n=0,r=t.length;n<r;n++)if(Qt(t[n],e))return n}else if(I(t))return Qt(t,e)?0:-1;return-1}function Yt(e,t,n=wr,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;ne(),_r(n);const i=ot(t,n,e,r);return _r(null),re(),i});return r?i.unshift(o):i.push(o),o}}const Xt=e=>(t,n=wr)=>!Er&&Yt(e,t,n),Jt=Xt("bm"),Zt=Xt("m"),en=Xt("bu"),tn=Xt("u"),nn=Xt("bum"),rn=Xt("um"),on=Xt("rtg"),an=Xt("rtc"),sn={};function un(e,t,n){return cn(e,t,n)}function cn(e,t,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:a}=l,s=wr){let u,c,h=!1;if(Ye(e)?(u=()=>e.value,h=!!e._shallow):We(e)?(u=()=>e,r=!0):u=_(e)?()=>e.map((e=>Ye(e)?e.value:We(e)?hn(e):I(e)?it(e,s,2,[s&&s.proxy]):void 0)):I(e)?t?()=>it(e,s,2,[s&&s.proxy]):()=>{if(!s||!s.isUnmounted)return c&&c(),it(e,s,3,[p])}:f,t&&r){const e=u;u=()=>hn(e())}const p=e=>{c=m.options.onStop=()=>{it(e,s,4)}};let d=_(e)?[]:sn;const v=()=>{if(m.active)if(t){const e=m();(r||h||V(e,d))&&(c&&c(),ot(t,s,3,[e,d===sn?void 0:d,p]),d=e)}else m()};let g;v.allowRecurse=!!t,g="sync"===i?v:"post"===i?()=>kn(v,s&&s.suspense):()=>{!s||s.isMounted?function(e){Et(e,ft,ht,pt)}(v):v()};const m=Y(u,{lazy:!0,onTrack:o,onTrigger:a,scheduler:g});return Cr(m,s),t?n?v():d=m():"post"===i?kn(m,s&&s.suspense):m(),()=>{X(m),s&&y(s.effects,m)}}function ln(e,t,n){const r=this.proxy;return cn(S(e)?()=>r[e]:e.bind(r),t.bind(r),n,this)}function hn(e,t=new Set){if(!k(e)||t.has(e))return e;if(t.add(e),Ye(e))hn(e.value,t);else if(_(e))for(let n=0;n<e.length;n++)hn(e[n],t);else if(E(e)||T(e))e.forEach((e=>{hn(e,t)}));else for(const n in e)hn(e[n],t);return e}const fn=e=>e.type.__isKeepAlive;function pn(e,t,n=wr){const r=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}e()});if(Yt(t,r,n),n){let e=n.parent;for(;e&&e.parent;)fn(e.parent.vnode)&&dn(r,t,n,e),e=e.parent}}function dn(e,t,n,r){const i=Yt(t,e,r,!0);rn((()=>{y(r[t],i)}),n)}const vn=e=>"_"===e[0]||"$stable"===e,gn=e=>_(e)?e.map(er):[er(e)],mn=(e,t,n)=>Vt((e=>gn(t(e))),n),yn=(e,t)=>{const n=e._ctx;for(const r in e){if(vn(r))continue;const i=e[r];if(I(i))t[r]=mn(0,i,n);else if(null!=i){const e=gn(i);t[r]=()=>e}}},bn=(e,t)=>{const n=gn(t);e.slots.default=()=>n};function wn(e,t){if(null===Dt)return e;const n=Dt.proxy,r=e.dirs||(e.dirs=[]);for(let e=0;e<t.length;e++){let[i,o,a,s=l]=t[e];I(i)&&(i={mounted:i,updated:i}),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:s})}return e}function _n(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let a=0;a<i.length;a++){const s=i[a];o&&(s.oldValue=o[a].value);const u=s.dir[r];u&&ot(u,n,8,[e.el,s,e,t])}}function Tn(){return{app:null,config:{isNativeTag:p,performance:!1,globalProperties:{},optionMergeStrategies:{},isCustomElement:p,errorHandler:void 0,warnHandler:void 0},mixins:[],components:{},directives:{},provides:Object.create(null)}}let En=0;function In(e,t){return function(n,r=null){null==r||k(r)||(r=null);const i=Tn(),o=new Set;let a=!1;const s=i.app={_uid:En++,_component:n,_props:r,_container:null,_context:i,version:Dr,get config(){return i.config},set config(e){},use:(e,...t)=>(o.has(e)||(e&&I(e.install)?(o.add(e),e.install(s,...t)):I(e)&&(o.add(e),e(s,...t))),s),mixin:e=>(i.mixins.includes(e)||(i.mixins.push(e),(e.props||e.emits)&&(i.deopt=!0)),s),component:(e,t)=>t?(i.components[e]=t,s):i.components[e],directive:(e,t)=>t?(i.directives[e]=t,s):i.directives[e],mount(o,u){if(!a){const c=Yn(n,r);return c.appContext=i,u&&t?t(c,o):e(c,o),a=!0,s._container=o,o.__vue_app__=s,c.component.proxy}},unmount(){a&&(e(null,s._container),delete s._container.__vue_app__)},provide:(e,t)=>(i.provides[e]=t,s)};return s}}function Sn(e){return I(e)?{setup:e,name:e.name}:e}const Cn={scheduler:_t,allowRecurse:!0},kn=function(e,t){t&&t.pendingBranch?_(e)?t.effects.push(...e):t.effects.push(e):Et(e,vt,dt,gt)},xn=(e,t,n,r)=>{if(_(e))return void e.forEach(((e,i)=>xn(e,t&&(_(t)?t[i]:t),n,r)));let i;i=!r||r.type.__asyncLoader?null:4&r.shapeFlag?r.component.exposed||r.component.proxy:r.el;const{i:o,r:a}=e,s=t&&t.r,u=o.refs===l?o.refs={}:o.refs,c=o.setupState;if(null!=s&&s!==a&&(S(s)?(u[s]=null,w(c,s)&&(c[s]=null)):Ye(s)&&(s.value=null)),S(a)){const e=()=>{u[a]=i,w(c,a)&&(c[a]=i)};i?(e.id=-1,kn(e,n)):e()}else if(Ye(a)){const e=()=>{a.value=i};i?(e.id=-1,kn(e,n)):e()}else I(a)&&it(a,o,12,[i,u])};function An(e){return function(e,t){const{insert:n,remove:r,patchProp:i,forcePatchProp:o,createElement:a,createText:s,createComment:u,setText:c,setElementText:p,parentNode:d,nextSibling:v,setScopeId:g=f,cloneNode:y,insertStaticContent:b}=e,_=(e,t,n,r=null,i=null,o=null,a=!1,s=!1)=>{e&&!Gn(e,t)&&(r=ae(e),J(e,i,o,!0),e=null),-2===t.patchFlag&&(s=!1,t.dynamicChildren=null);const{type:u,ref:c,shapeFlag:l}=t;switch(u){case Fn:T(e,t,n,r);break;case jn:E(e,t,n,r);break;case Un:null==e&&I(t,n,r,a);break;case Mn:F(e,t,n,r,i,o,a,s);break;default:1&l?k(e,t,n,r,i,o,a,s):6&l?U(e,t,n,r,i,o,a,s):(64&l||128&l)&&u.process(e,t,n,r,i,o,a,s,ue)}null!=c&&i&&xn(c,e&&e.ref,o,t)},T=(e,t,r,i)=>{if(null==e)n(t.el=s(t.children),r,i);else{const n=t.el=e.el;t.children!==e.children&&c(n,t.children)}},E=(e,t,r,i)=>{null==e?n(t.el=u(t.children||""),r,i):t.el=e.el},I=(e,t,n,r)=>{[e.el,e.anchor]=b(e.children,t,n,r)},S=({el:e,anchor:t},r,i)=>{let o;for(;e&&e!==t;)o=v(e),n(e,r,i),e=o;n(t,r,i)},C=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=v(e),r(e),e=n;r(t)},k=(e,t,n,r,i,o,a,s)=>{a=a||"svg"===t.type,null==e?A(t,n,r,i,o,a,s):R(e,t,i,o,a,s)},A=(e,t,r,o,s,u,c)=>{let l,h;const{type:f,props:d,shapeFlag:v,transition:g,scopeId:m,patchFlag:b,dirs:w}=e;if(e.el&&void 0!==y&&-1===b)l=e.el=y(e.el);else{if(l=e.el=a(e.type,u,d&&d.is),8&v?p(l,e.children):16&v&&D(e.children,l,null,o,s,u&&"foreignObject"!==f,c||!!e.dynamicChildren),w&&_n(e,null,o,"created"),d){for(const t in d)P(t)||i(l,t,null,d[t],u,e.children,o,s,ie);(h=d.onVnodeBeforeMount)&&Nn(h,o,e)}N(l,m,e,o)}w&&_n(e,null,o,"beforeMount");const _=(!s||s&&!s.pendingBranch)&&g&&!g.persisted;_&&g.beforeEnter(l),n(l,t,r),((h=d&&d.onVnodeMounted)||_||w)&&kn((()=>{h&&Nn(h,o,e),_&&g.enter(l),w&&_n(e,null,o,"mounted")}),s)},N=(e,t,n,r)=>{if(t&&g(e,t),r){const i=r.type.__scopeId;i&&i!==t&&g(e,i+"-s"),n===r.subTree&&N(e,r.vnode.scopeId,r.vnode,r.parent)}},D=(e,t,n,r,i,o,a,s=0)=>{for(let u=s;u<e.length;u++){const s=e[u]=a?tr(e[u]):er(e[u]);_(null,s,t,n,r,i,o,a)}},R=(e,t,n,r,a,s)=>{const u=t.el=e.el;let{patchFlag:c,dynamicChildren:h,dirs:f}=t;c|=16&e.patchFlag;const d=e.props||l,v=t.props||l;let g;if((g=v.onVnodeBeforeUpdate)&&Nn(g,n,t,e),f&&_n(t,e,n,"beforeUpdate"),c>0){if(16&c)L(u,t,d,v,n,r,a);else if(2&c&&d.class!==v.class&&i(u,"class",null,v.class,a),4&c&&i(u,"style",d.style,v.style,a),8&c){const s=t.dynamicProps;for(let t=0;t<s.length;t++){const c=s[t],l=d[c],h=v[c];(h!==l||o&&o(u,c))&&i(u,c,l,h,a,e.children,n,r,ie)}}1&c&&e.children!==t.children&&p(u,t.children)}else s||null!=h||L(u,t,d,v,n,r,a);const m=a&&"foreignObject"!==t.type;h?O(e.dynamicChildren,h,u,n,r,m):s||G(e,t,u,null,n,r,m),((g=v.onVnodeUpdated)||f)&&kn((()=>{g&&Nn(g,n,t,e),f&&_n(t,e,n,"updated")}),r)},O=(e,t,n,r,i,o)=>{for(let a=0;a<t.length;a++){const s=e[a],u=t[a],c=s.type===Mn||!Gn(s,u)||6&s.shapeFlag||64&s.shapeFlag?d(s.el):n;_(s,u,c,null,r,i,o,!0)}},L=(e,t,n,r,a,s,u)=>{if(n!==r){for(const c in r){if(P(c))continue;const l=r[c],h=n[c];(l!==h||o&&o(e,c))&&i(e,c,h,l,u,t.children,a,s,ie)}if(n!==l)for(const o in n)P(o)||o in r||i(e,o,n[o],null,u,t.children,a,s,ie)}},F=(e,t,r,i,o,a,u,c)=>{const l=t.el=e?e.el:s(""),h=t.anchor=e?e.anchor:s("");let{patchFlag:f,dynamicChildren:p}=t;f>0&&(c=!0),null==e?(n(l,r,i),n(h,r,i),D(t.children,r,h,o,a,u,c)):f>0&&64&f&&p&&e.dynamicChildren?(O(e.dynamicChildren,p,r,o,a,u),(null!=t.key||o&&t===o.subTree)&&Dn(e,t,!0)):G(e,t,r,h,o,a,u,c)},U=(e,t,n,r,i,o,a,s)=>{null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,a,s):q(t,n,r,i,o,a,s):V(e,t,s)},q=(e,t,n,r,i,o,a)=>{const s=e.component=function(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||yr,o={uid:br++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,withProxy:null,effects:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Wt(r,i),emitsOptions:At(r,i),emit:null,emitted:null,ctx:l,data:l,props:l,attrs:l,slots:l,refs:l,setupState:l,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=xt.bind(null,o),o}(e,r,i);if(fn(e)&&(s.ctx.renderer=ue),function(e,t=!1){Er=t;const{props:n,children:r}=e.vnode,i=Tr(e);Bt(e,n,i,t),((e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=t,K(t,"_",n)):yn(t,e.slots={})}else e.slots={},t&&bn(e,t);K(e.slots,zn,1)})(e,r);const o=i?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,gr);const{setup:r}=n;if(r){const n=e.setupContext=r.length>1?function(e){const t=t=>{e.exposed=tt(t)};return{attrs:e.attrs,slots:e.slots,emit:e.emit,expose:t}}(e):null;wr=e,ne();const i=it(r,e,0,[e.props,n]);if(re(),wr=null,x(i)){if(t)return i.then((t=>{Ir(e,t)}));e.asyncDep=i}else Ir(e,i)}else Sr(e)}(e,t):void 0;Er=!1}(s),s.asyncDep){if(i&&i.registerDep(s,H),!e.el){const e=s.subTree=Yn(jn);E(null,e,t,n)}}else H(s,e,t,n,i,o,a)},V=(e,t,n)=>{const r=t.component=e.component;if(function(e,t,n){const{props:r,children:i,component:o}=e,{props:a,children:s,patchFlag:u}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&u>=0))return!(!i&&!s||s&&s.$stable)||r!==a&&(r?!a||Ft(r,a,c):!!a);if(1024&u)return!0;if(16&u)return r?Ft(r,a,c):!!a;if(8&u){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(a[n]!==r[n]&&!Nt(c,n))return!0}}return!1}(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void W(r,t,n);r.next=t,function(e){const t=ct.indexOf(e);t>-1&&ct.splice(t,1)}(r.update),r.update()}else t.component=e.component,t.el=e.el,r.vnode=t},H=(e,t,n,r,i,o,a)=>{e.update=Y((function(){if(e.isMounted){let t,{next:n,bu:r,u:s,parent:u,vnode:c}=e,l=n;n?(n.el=c.el,W(e,n,a)):n=c,r&&B(r),(t=n.props&&n.props.onVnodeBeforeUpdate)&&Nn(t,u,n,c);const h=Pt(e),f=e.subTree;e.subTree=h,_(f,h,d(f.el),ae(f),e,i,o),n.el=h.el,null===l&&function({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}(e,h.el),s&&kn(s,i),(t=n.props&&n.props.onVnodeUpdated)&&kn((()=>{Nn(t,u,n,c)}),i)}else{let a;const{el:s,props:u}=t,{bm:c,m:l,parent:h}=e;c&&B(c),(a=u&&u.onVnodeBeforeMount)&&Nn(a,h,t);const f=e.subTree=Pt(e);if(s&&le?le(t.el,f,e,i):(_(null,f,n,r,e,i,o),t.el=f.el),l&&kn(l,i),a=u&&u.onVnodeMounted){const e=t;kn((()=>{Nn(a,h,e)}),i)}const{a:p}=e;p&&256&t.shapeFlag&&kn(p,i),e.isMounted=!0,t=n=r=null}}),Cn)},W=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,r){const{props:i,attrs:o,vnode:{patchFlag:a}}=e,s=Qe(i),[u]=e.propsOptions;if(!(r||a>0)||16&a){let r;Kt(e,t,i,o);for(const o in s)t&&(w(t,o)||(r=j(o))!==o&&w(t,r))||(u?!n||void 0===n[o]&&void 0===n[r]||(i[o]=Ht(u,t||l,o,void 0,e)):delete i[o]);if(o!==s)for(const e in o)t&&w(t,e)||delete o[e]}else if(8&a){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){const a=n[r],c=t[a];if(u)if(w(o,a))o[a]=c;else{const t=M(a);i[t]=Ht(u,s,t,c,e)}else o[a]=c}}oe(e,"set","$attrs")}(e,t.props,r,n),((e,t)=>{const{vnode:n,slots:r}=e;let i=!0,o=l;if(32&n.shapeFlag){const e=t._;e?1===e?i=!1:m(r,t):(i=!t.$stable,yn(t,r)),o=t}else t&&(bn(e,t),o={default:1});if(i)for(const e in r)vn(e)||e in o||delete r[e]})(e,t.children),It(void 0,e.update)},G=(e,t,n,r,i,o,a,s=!1)=>{const u=e&&e.children,c=e?e.shapeFlag:0,l=t.children,{patchFlag:h,shapeFlag:f}=t;if(h>0){if(128&h)return void Q(u,l,n,r,i,o,a,s);if(256&h)return void z(u,l,n,r,i,o,a,s)}8&f?(16&c&&ie(u,i,o),l!==u&&p(n,l)):16&c?16&f?Q(u,l,n,r,i,o,a,s):ie(u,i,o,!0):(8&c&&p(n,""),16&f&&D(l,n,r,i,o,a,s))},z=(e,t,n,r,i,o,a,s)=>{t=t||h;const u=(e=e||h).length,c=t.length,l=Math.min(u,c);let f;for(f=0;f<l;f++){const r=t[f]=s?tr(t[f]):er(t[f]);_(e[f],r,n,null,i,o,a,s)}u>c?ie(e,i,o,!0,!1,l):D(t,n,r,i,o,a,s,l)},Q=(e,t,n,r,i,o,a,s)=>{let u=0;const c=t.length;let l=e.length-1,f=c-1;for(;u<=l&&u<=f;){const r=e[u],c=t[u]=s?tr(t[u]):er(t[u]);if(!Gn(r,c))break;_(r,c,n,null,i,o,a,s),u++}for(;u<=l&&u<=f;){const r=e[l],u=t[f]=s?tr(t[f]):er(t[f]);if(!Gn(r,u))break;_(r,u,n,null,i,o,a,s),l--,f--}if(u>l){if(u<=f){const e=f+1,l=e<c?t[e].el:r;for(;u<=f;)_(null,t[u]=s?tr(t[u]):er(t[u]),n,l,i,o,a),u++}}else if(u>f)for(;u<=l;)J(e[u],i,o,!0),u++;else{const p=u,d=u,v=new Map;for(u=d;u<=f;u++){const e=t[u]=s?tr(t[u]):er(t[u]);null!=e.key&&v.set(e.key,u)}let g,m=0;const y=f-d+1;let b=!1,w=0;const T=new Array(y);for(u=0;u<y;u++)T[u]=0;for(u=p;u<=l;u++){const r=e[u];if(m>=y){J(r,i,o,!0);continue}let c;if(null!=r.key)c=v.get(r.key);else for(g=d;g<=f;g++)if(0===T[g-d]&&Gn(r,t[g])){c=g;break}void 0===c?J(r,i,o,!0):(T[c-d]=u+1,c>=w?w=c:b=!0,_(r,t[c],n,null,i,o,a,s),m++)}const E=b?function(e){const t=e.slice(),n=[0];let r,i,o,a,s;const u=e.length;for(r=0;r<u;r++){const u=e[r];if(0!==u){if(i=n[n.length-1],e[i]<u){t[r]=i,n.push(r);continue}for(o=0,a=n.length-1;o<a;)s=(o+a)/2|0,e[n[s]]<u?o=s+1:a=s;u<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}o=n.length,a=n[o-1];for(;o-- >0;)n[o]=a,a=t[a];return n}(T):h;for(g=E.length-1,u=y-1;u>=0;u--){const e=d+u,s=t[e],l=e+1<c?t[e+1].el:r;0===T[u]?_(null,s,n,l,i,o,a):b&&(g<0||u!==E[g]?$(s,n,l,2):g--)}}},$=(e,t,r,i,o=null)=>{const{el:a,type:s,transition:u,children:c,shapeFlag:l}=e;if(6&l)return void $(e.component.subTree,t,r,i);if(128&l)return void e.suspense.move(t,r,i);if(64&l)return void s.move(e,t,r,ue);if(s===Mn){n(a,t,r);for(let e=0;e<c.length;e++)$(c[e],t,r,i);return void n(e.anchor,t,r)}if(s===Un)return void S(e,t,r);if(2!==i&&1&l&&u)if(0===i)u.beforeEnter(a),n(a,t,r),kn((()=>u.enter(a)),o);else{const{leave:e,delayLeave:i,afterLeave:o}=u,s=()=>n(a,t,r),c=()=>{e(a,(()=>{s(),o&&o()}))};i?i(a,s,c):c()}else n(a,t,r)},J=(e,t,n,r=!1,i=!1)=>{const{type:o,props:a,ref:s,children:u,dynamicChildren:c,shapeFlag:l,patchFlag:h,dirs:f}=e;if(null!=s&&xn(s,null,n,null),256&l)return void t.ctx.deactivate(e);const p=1&l&&f;let d;if((d=a&&a.onVnodeBeforeUnmount)&&Nn(d,t,e),6&l)te(e.component,n,r);else{if(128&l)return void e.suspense.unmount(n,r);p&&_n(e,null,t,"beforeUnmount"),c&&(o!==Mn||h>0&&64&h)?ie(c,t,n,!1,!0):(o===Mn&&(128&h||256&h)||!i&&16&l)&&ie(u,t,n),64&l&&(r||!Rn(e.props))&&e.type.remove(e,ue),r&&Z(e)}((d=a&&a.onVnodeUnmounted)||p)&&kn((()=>{d&&Nn(d,t,e),p&&_n(e,null,t,"unmounted")}),n)},Z=e=>{const{type:t,el:n,anchor:i,transition:o}=e;if(t===Mn)return void ee(n,i);if(t===Un)return void C(e);const a=()=>{r(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&e.shapeFlag&&o&&!o.persisted){const{leave:t,delayLeave:r}=o,i=()=>t(n,a);r?r(e.el,a,i):i()}else a()},ee=(e,t)=>{let n;for(;e!==t;)n=v(e),r(e),e=n;r(t)},te=(e,t,n)=>{const{bum:r,effects:i,update:o,subTree:a,um:s}=e;if(r&&B(r),i)for(let e=0;e<i.length;e++)X(i[e]);o&&(X(o),J(a,e,t,n)),s&&kn(s,t),kn((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},ie=(e,t,n,r=!1,i=!1,o=0)=>{for(let a=o;a<e.length;a++)J(e[a],t,n,r,i)},ae=e=>6&e.shapeFlag?ae(e.component.subTree):128&e.shapeFlag?e.suspense.next():v(e.anchor||e.el),se=(e,t)=>{null==e?t._vnode&&J(t._vnode,null,null,!0):_(t._vnode||null,e,t),St(),t._vnode=e},ue={p:_,um:J,m:$,r:Z,mt:q,mc:D,pc:G,pbc:O,n:ae,o:e};let ce,le;t&&([ce,le]=t(ue));return{render:se,hydrate:ce,createApp:In(se,ce)}}(e)}function Nn(e,t,n,r=null){ot(e,t,7,[n,r])}function Dn(e,t,n=!1){const r=e.children,i=t.children;if(_(r)&&_(i))for(let e=0;e<r.length;e++){const t=r[e];let o=i[e];1&o.shapeFlag&&!o.dynamicChildren&&((o.patchFlag<=0||32===o.patchFlag)&&(o=i[e]=tr(i[e]),o.el=t.el),n||Dn(t,o))}}const Rn=e=>e&&(e.disabled||""===e.disabled);function Pn(e){return function(e,t,n=!0){const r=Dt||wr;if(r){const n=r.type;if("components"===e){if("_self"===t)return n;const e=kr(n);if(e&&(e===t||e===M(t)||e===U(M(t))))return n}return Ln(r[e]||n[e],t)||Ln(r.appContext[e],t)}}("components",e)||e}const On=Symbol();function Ln(e,t){return e&&(e[t]||e[M(t)]||e[U(M(t))])}const Mn=Symbol(void 0),Fn=Symbol(void 0),jn=Symbol(void 0),Un=Symbol(void 0),qn=[];let Vn=null;function Bn(e=!1){qn.push(Vn=e?null:[])}function Kn(){qn.pop(),Vn=qn[qn.length-1]||null}function Hn(e,t,n,r,i){const o=Yn(e,t,n,r,i,!0);return o.dynamicChildren=Vn||h,Kn(),Vn&&Vn.push(o),o}function Wn(e){return!!e&&!0===e.__v_isVNode}function Gn(e,t){return e.type===t.type&&e.key===t.key}const zn="__vInternal",Qn=({key:e})=>null!=e?e:null,$n=({ref:e})=>null!=e?S(e)||Ye(e)||I(e)?{i:Dt,r:e}:e:null,Yn=function(e,t=null,n=null,i=0,o=null,a=!1){e&&e!==On||(e=jn);if(Wn(e)){const r=Xn(e,t,!0);return n&&nr(r,n),r}u=e,I(u)&&"__vccOpts"in u&&(e=e.__vccOpts);var u;if(t){(ze(t)||zn in t)&&(t=m({},t));let{class:e,style:n}=t;e&&!S(e)&&(t.class=s(e)),k(n)&&(ze(n)&&!_(n)&&(n=m({},n)),t.style=r(n))}const c=S(e)?1:(e=>e.__isSuspense)(e)?128:(e=>e.__isTeleport)(e)?64:k(e)?4:I(e)?2:0,l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Qn(t),ref:t&&$n(t),scopeId:null,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null};if(nr(l,n),128&c){const{content:e,fallback:t}=function(e){const{shapeFlag:t,children:n}=e;let r,i;return 32&t?(r=jt(n.default),i=jt(n.fallback)):(r=jt(n),i=er(null)),{content:r,fallback:i}}(l);l.ssContent=e,l.ssFallback=t}!a&&Vn&&(i>0||6&c)&&32!==i&&Vn.push(l);return l};function Xn(e,t,n=!1){const{props:i,ref:o,patchFlag:a,children:u}=e,c=t?function(...e){const t=m({},e[0]);for(let n=1;n<e.length;n++){const i=e[n];for(const e in i)if("class"===e)t.class!==i.class&&(t.class=s([t.class,i.class]));else if("style"===e)t.style=r([t.style,i.style]);else if(v(e)){const n=t[e],r=i[e];n!==r&&(t[e]=n?[].concat(n,i[e]):r)}else""!==e&&(t[e]=i[e])}return t}(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Qn(c),ref:t&&t.ref?n&&o?_(o)?o.concat($n(t)):[o,$n(t)]:$n(t):o,scopeId:e.scopeId,children:u,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Mn?-1===a?16:16|a:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Xn(e.ssContent),ssFallback:e.ssFallback&&Xn(e.ssFallback),el:e.el,anchor:e.anchor}}function Jn(e=" ",t=0){return Yn(Fn,null,e,t)}function Zn(e,t){const n=Yn(Un,null,e);return n.staticCount=t,n}function er(e){return null==e||"boolean"==typeof e?Yn(jn):_(e)?Yn(Mn,null,e):"object"==typeof e?null===e.el?e:Xn(e):Yn(Fn,null,String(e))}function tr(e){return null===e.el?e:Xn(e)}function nr(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if(_(t))n=16;else if("object"==typeof t){if(1&r||64&r){const n=t.default;return void(n&&(n._c&&qt(1),nr(e,n()),n._c&&qt(-1)))}{n=32;const r=t._;r||zn in t?3===r&&Dt&&(1024&Dt.vnode.patchFlag?(t._=2,e.patchFlag|=1024):t._=1):t._ctx=Dt}}else I(t)?(t={default:t,_ctx:Dt},n=32):(t=String(t),64&r?(n=16,t=[Jn(t)]):n=8);e.children=t,e.shapeFlag|=n}function rr(e,t){if(wr){let n=wr.provides;const r=wr.parent&&wr.parent.provides;r===n&&(n=wr.provides=Object.create(r)),n[e]=t}else;}function ir(e,t,n=!1){const r=wr||Dt;if(r){const i=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&I(t)?t():t}}let or=!1;function ar(e,t,n=[],r=[],i=[],o=!1){const{mixins:a,extends:s,data:u,computed:c,methods:h,watch:p,provide:d,inject:v,components:g,directives:y,beforeMount:b,mounted:w,beforeUpdate:T,updated:E,activated:S,deactivated:C,beforeDestroy:x,beforeUnmount:A,destroyed:N,unmounted:D,render:R,renderTracked:P,renderTriggered:O,errorCaptured:L,expose:M}=t,F=e.proxy,j=e.ctx,U=e.appContext.mixins;if(o&&R&&e.render===f&&(e.render=R),o||(or=!0,sr("beforeCreate","bc",t,e,U),or=!1,lr(e,U,n,r,i)),s&&ar(e,s,n,r,i,!0),a&&lr(e,a,n,r,i),v)if(_(v))for(let e=0;e<v.length;e++){const t=v[e];j[t]=ir(t)}else for(const e in v){const t=v[e];k(t)?j[e]=ir(t.from||e,t.default,!0):j[e]=ir(t)}if(h)for(const e in h){const t=h[e];I(t)&&(j[e]=t.bind(F))}if(o?u&&n.push(u):(n.length&&n.forEach((t=>hr(e,t,F))),u&&hr(e,u,F)),c)for(const e in c){const t=c[e],n=xr({get:I(t)?t.bind(F,F):I(t.get)?t.get.bind(F,F):f,set:!I(t)&&I(t.set)?t.set.bind(F):f});Object.defineProperty(j,e,{enumerable:!0,configurable:!0,get:()=>n.value,set:e=>n.value=e})}var q;if(p&&r.push(p),!o&&r.length&&r.forEach((e=>{for(const t in e)fr(e[t],j,F,t)})),d&&i.push(d),!o&&i.length&&i.forEach((e=>{const t=I(e)?e.call(F):e;Reflect.ownKeys(t).forEach((e=>{rr(e,t[e])}))})),o&&(g&&m(e.components||(e.components=m({},e.type.components)),g),y&&m(e.directives||(e.directives=m({},e.type.directives)),y)),o||sr("created","c",t,e,U),b&&Jt(b.bind(F)),w&&Zt(w.bind(F)),T&&en(T.bind(F)),E&&tn(E.bind(F)),S&&pn(S.bind(F),"a",q),C&&function(e,t){pn(e,"da",t)}(C.bind(F)),L&&((e,t=wr)=>{Yt("ec",e,t)})(L.bind(F)),P&&an(P.bind(F)),O&&on(O.bind(F)),A&&nn(A.bind(F)),D&&rn(D.bind(F)),_(M)&&!o)if(M.length){const t=e.exposed||(e.exposed=tt({}));M.forEach((e=>{t[e]=function(e,t){return Ye(e[t])?e[t]:new nt(e,t)}(F,e)}))}else e.exposed||(e.exposed=l)}function sr(e,t,n,r,i){cr(e,t,i,r);const{extends:o,mixins:a}=n;o&&ur(e,t,o,r),a&&cr(e,t,a,r);const s=n[e];s&&ot(s.bind(r.proxy),r,t)}function ur(e,t,n,r){n.extends&&ur(e,t,n.extends,r);const i=n[e];i&&ot(i.bind(r.proxy),r,t)}function cr(e,t,n,r){for(let i=0;i<n.length;i++){const o=n[i].mixins;o&&cr(e,t,o,r);const a=n[i][e];a&&ot(a.bind(r.proxy),r,t)}}function lr(e,t,n,r,i){for(let o=0;o<t.length;o++)ar(e,t[o],n,r,i,!0)}function hr(e,t,n){const r=t.call(n,n);k(r)&&(e.data===l?e.data=Be(r):m(e.data,r))}function fr(e,t,n,r){const i=r.includes(".")?function(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}(n,r):()=>n[r];if(S(e)){const n=t[e];I(n)&&un(i,n)}else if(I(e))un(i,e.bind(n));else if(k(e))if(_(e))e.forEach((e=>fr(e,t,n,r)));else{const r=I(e.handler)?e.handler.bind(n):t[e.handler];I(r)&&un(i,r,e)}}function pr(e,t,n){const r=n.appContext.config.optionMergeStrategies,{mixins:i,extends:o}=t;o&&pr(e,o,n),i&&i.forEach((t=>pr(e,t,n)));for(const i in t)r&&w(r,i)?e[i]=r[i](e[i],t[i],n.proxy,i):e[i]=t[i]}const dr=e=>e?Tr(e)?e.exposed?e.exposed:e.proxy:dr(e.parent):null,vr=m(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>dr(e.parent),$root:e=>dr(e.root),$emit:e=>e.emit,$options:e=>function(e){const t=e.type,{__merged:n,mixins:r,extends:i}=t;if(n)return n;const o=e.appContext.mixins;if(!o.length&&!r&&!i)return t;const a={};return o.forEach((t=>pr(a,t,e))),pr(a,t,e),t.__merged=a}(e),$forceUpdate:e=>()=>_t(e.update),$nextTick:e=>wt.bind(e.proxy),$watch:e=>ln.bind(e)}),gr={get({_:e},t){const{ctx:n,setupState:r,data:i,props:o,accessCache:a,type:s,appContext:u}=e;if("__v_skip"===t)return!0;let c;if("$"!==t[0]){const s=a[t];if(void 0!==s)switch(s){case 0:return r[t];case 1:return i[t];case 3:return n[t];case 2:return o[t]}else{if(r!==l&&w(r,t))return a[t]=0,r[t];if(i!==l&&w(i,t))return a[t]=1,i[t];if((c=e.propsOptions[0])&&w(c,t))return a[t]=2,o[t];if(n!==l&&w(n,t))return a[t]=3,n[t];or||(a[t]=4)}}const h=vr[t];let f,p;return h?("$attrs"===t&&ie(e,0,t),h(e)):(f=s.__cssModules)&&(f=f[t])?f:n!==l&&w(n,t)?(a[t]=3,n[t]):(p=u.config.globalProperties,w(p,t)?p[t]:void 0)},set({_:e},t,n){const{data:r,setupState:i,ctx:o}=e;if(i!==l&&w(i,t))i[t]=n;else if(r!==l&&w(r,t))r[t]=n;else if(w(e.props,t))return!1;return("$"!==t[0]||!(t.slice(1)in e))&&(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:o}},a){let s;return void 0!==n[a]||e!==l&&w(e,a)||t!==l&&w(t,a)||(s=o[0])&&w(s,a)||w(r,a)||w(vr,a)||w(i.config.globalProperties,a)}},mr=m({},gr,{get(e,t){if(t!==Symbol.unscopables)return gr.get(e,t,e)},has:(e,n)=>"_"!==n[0]&&!t(n)}),yr=Tn();let br=0;let wr=null;const _r=e=>{wr=e};function Tr(e){return 4&e.vnode.shapeFlag}let Er=!1;function Ir(e,t,n){I(t)?e.render=t:k(t)&&(e.setupState=tt(t)),Sr(e)}function Sr(e,t){const n=e.type;e.render||(e.render=n.render||f,e.render._rc&&(e.withProxy=new Proxy(e.ctx,mr))),wr=e,ne(),ar(e,n),re(),wr=null}function Cr(e,t=wr){t&&(t.effects||(t.effects=[])).push(e)}function kr(e){return I(e)&&e.displayName||e.name}function xr(e){const t=function(e){let t,n;return I(e)?(t=e,n=f):(t=e.get,n=e.set),new rt(t,n,I(e)||!e.set)}(e);return Cr(t.effect),t}function Ar(e,t,n){const r=arguments.length;return 2===r?k(t)&&!_(t)?Wn(t)?Yn(e,null,[t]):Yn(e,t):Yn(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&Wn(n)&&(n=[n]),Yn(e,t,n))}function Nr(e,t){let n;if(_(e)||S(e)){n=new Array(e.length);for(let r=0,i=e.length;r<i;r++)n[r]=t(e[r],r)}else if("number"==typeof e){n=new Array(e);for(let r=0;r<e;r++)n[r]=t(r+1,r)}else if(k(e))if(e[Symbol.iterator])n=Array.from(e,t);else{const r=Object.keys(e);n=new Array(r.length);for(let i=0,o=r.length;i<o;i++){const o=r[i];n[i]=t(e[o],o,i)}}else n=[];return n}const Dr="3.0.7",Rr="http://www.w3.org/2000/svg",Pr="undefined"!=typeof document?document:null;let Or,Lr;const Mr={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n)=>t?Pr.createElementNS(Rr,e):Pr.createElement(e,n?{is:n}:void 0),createText:e=>Pr.createTextNode(e),createComment:e=>Pr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Pr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode:e=>e.cloneNode(!0),insertStaticContent(e,t,n,r){const i=r?Lr||(Lr=Pr.createElementNS(Rr,"svg")):Or||(Or=Pr.createElement("div"));i.innerHTML=e;const o=i.firstChild;let a=o,s=a;for(;a;)s=a,Mr.insert(a,t,n),a=i.firstChild;return[o,s]}};const Fr=/\s*!important$/;function jr(e,t,n){if(_(n))n.forEach((n=>jr(e,t,n)));else if(t.startsWith("--"))e.setProperty(t,n);else{const r=function(e,t){const n=qr[t];if(n)return n;let r=M(t);if("filter"!==r&&r in e)return qr[t]=r;r=U(r);for(let n=0;n<Ur.length;n++){const i=Ur[n]+r;if(i in e)return qr[t]=i}return t}(e,t);Fr.test(n)?e.setProperty(j(r),n.replace(Fr,""),"important"):e[r]=n}}const Ur=["Webkit","Moz","ms"],qr={};const Vr="http://www.w3.org/1999/xlink";let Br=Date.now;"undefined"!=typeof document&&Br()>document.createEvent("Event").timeStamp&&(Br=()=>performance.now());let Kr=0;const Hr=Promise.resolve(),Wr=()=>{Kr=0};function Gr(e,t,n,r){e.addEventListener(t,n,r)}function zr(e,t,n,r,i=null){const o=e._vei||(e._vei={}),a=o[t];if(r&&a)a.value=r;else{const[n,s]=function(e){let t;if(Qr.test(e)){let n;for(t={};n=e.match(Qr);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[j(e.slice(2)),t]}(t);if(r){Gr(e,n,o[t]=function(e,t){const n=e=>{(e.timeStamp||Br())>=n.attached-1&&ot(function(e,t){if(_(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=(()=>Kr||(Hr.then(Wr),Kr=Br()))(),n}(r,i),s)}else a&&(!function(e,t,n,r){e.removeEventListener(t,n,r)}(e,n,a,s),o[t]=void 0)}}const Qr=/(?:Once|Passive|Capture)$/;const $r=/^on[a-z]/;const Yr=e=>{const t=e.props["onUpdate:modelValue"];return _(t)?e=>B(t,e):t};function Xr(e){e.target.composing=!0}function Jr(e){const t=e.target;t.composing&&(t.composing=!1,function(e,t){const n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}(t,"input"))}const Zr={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e._assign=Yr(i);const o=r||"number"===e.type;Gr(e,t?"change":"input",(t=>{if(t.target.composing)return;let r=e.value;n?r=r.trim():o&&(r=H(r)),e._assign(r)})),n&&Gr(e,"change",(()=>{e.value=e.value.trim()})),t||(Gr(e,"compositionstart",Xr),Gr(e,"compositionend",Jr),Gr(e,"change",Jr))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{trim:n,number:r}},i){if(e._assign=Yr(i),e.composing)return;if(document.activeElement===e){if(n&&e.value.trim()===t)return;if((r||"number"===e.type)&&H(e.value)===t)return}const o=null==t?"":t;e.value!==o&&(e.value=o)}},ei=["ctrl","shift","alt","meta"],ti={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>ei.some((n=>e[`${n}Key`]&&!t.includes(n)))},ni=(e,t)=>(n,...r)=>{for(let e=0;e<t.length;e++){const r=ti[t[e]];if(r&&r(n,t))return}return e(n,...r)},ri={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):ii(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),ii(e,!0),r.enter(e)):r.leave(e,(()=>{ii(e,!1)})):ii(e,t))},beforeUnmount(e,{value:t}){ii(e,t)}};function ii(e,t){e.style.display=t?e._vod:"none"}const oi=m({patchProp:(e,t,r,i,o=!1,a,s,u,c)=>{switch(t){case"class":!function(e,t,n){if(null==t&&(t=""),n)e.setAttribute("class",t);else{const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),e.className=t}}(e,i,o);break;case"style":!function(e,t,n){const r=e.style;if(n)if(S(n)){if(t!==n){const t=r.display;r.cssText=n,"_vod"in e&&(r.display=t)}}else{for(const e in n)jr(r,e,n[e]);if(t&&!S(t))for(const e in t)null==n[e]&&jr(r,e,"")}else e.removeAttribute("style")}(e,r,i);break;default:v(t)?g(t)||zr(e,t,0,i,s):function(e,t,n,r){if(r)return"innerHTML"===t||!!(t in e&&$r.test(t)&&I(n));if("spellcheck"===t||"draggable"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if($r.test(t)&&S(n))return!1;return t in e}(e,t,i,o)?function(e,t,n,r,i,o,a){if("innerHTML"===t||"textContent"===t)return r&&a(r,i,o),void(e[t]=null==n?"":n);if("value"!==t||"PROGRESS"===e.tagName){if(""===n||null==n){const r=typeof e[t];if(""===n&&"boolean"===r)return void(e[t]=!0);if(null==n&&"string"===r)return e[t]="",void e.removeAttribute(t);if("number"===r)return e[t]=0,void e.removeAttribute(t)}try{e[t]=n}catch(e){}}else{e._value=n;const t=null==n?"":n;e.value!==t&&(e.value=t)}}(e,t,i,a,s,u,c):("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),function(e,t,r,i){if(i&&t.startsWith("xlink:"))null==r?e.removeAttributeNS(Vr,t.slice(6,t.length)):e.setAttributeNS(Vr,t,r);else{const i=n(t);null==r||i&&!1===r?e.removeAttribute(t):e.setAttribute(t,i?"":r)}}(e,t,i,o))}},forcePatchProp:(e,t)=>"value"===t},Mr);let ai;const si=(...e)=>{const t=(ai||(ai=An(oi))).createApp(...e),{mount:n}=t;return t.mount=e=>{const r=function(e){if(S(e)){return document.querySelector(e)}return e}(e);if(!r)return;const i=t._component;I(i)||i.render||i.template||(i.template=r.innerHTML),r.innerHTML="";const o=n(r);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};var ui={name:"HelloWorld",props:{msg:String},data:()=>({count:0,name:""})};const ci=Yn("p",null,[Jn("Edit "),Yn("code",null,"components/HelloWorld.vue"),Jn(" to test hot module replacement.")],-1);ui.render=function(e,t,n,r,i,o){return Bn(),Hn("div",null,[Yn("h1",null,u(n.msg),1),Yn("button",{onClick:t[1]||(t[1]=e=>i.count++)},"count is: "+u(i.count),1),ci,wn(Yn("input",{type:"text",placeholder:"name","onUpdate:modelValue":t[2]||(t[2]=e=>i.name=e)},null,512),[[Zr,i.name]]),Yn("p",null,u(i.name),1)])};var li={name:"App",components:{HelloWorld:ui}};const hi={id:""},fi={class:"ui inverted menu"},pi=Yn("div",{class:"header item"},[Yn("img",{alt:"Vue logo",src:"/_assets/logo.3b714202.png"})],-1),di=Jn("Contacts"),vi={class:"right menu"},gi=Yn("i",{class:"user icon large"},null,-1),mi={id:"nav"},yi={class:"card"},bi={class:"card-body",id:"card-body"};li.render=function(e,t,n,r,i,o){const a=Pn("router-link"),s=Pn("router-view");return Bn(),Hn("div",hi,[Yn("div",fi,[pi,Yn(a,{to:"/contact",class:"item"},{default:Vt((()=>[di])),_:1}),Yn("div",vi,[Yn(a,{to:"/",class:"item"},{default:Vt((()=>[gi])),_:1})])]),Yn("div",mi,[Yn("div",yi,[Yn("div",bi,[Yn(s)])])])])};
/*!
  * vue-router v4.0.5
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */
const wi="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,_i=e=>wi?Symbol(e):"_vr_"+e,Ti=_i("rvlm"),Ei=_i("rvd"),Ii=_i("r"),Si=_i("rl"),Ci=_i("rvl"),ki="undefined"!=typeof window;const xi=Object.assign;function Ai(e,t){const n={};for(const r in t){const i=t[r];n[r]=Array.isArray(i)?i.map(e):e(i)}return n}let Ni=()=>{};const Di=/\/$/;function Ri(e,t,n="/"){let r,i={},o="",a="";const s=t.indexOf("?"),u=t.indexOf("#",s>-1?s:0);return s>-1&&(r=t.slice(0,s),o=t.slice(s+1,u>-1?u:t.length),i=e(o)),u>-1&&(r=r||t.slice(0,u),a=t.slice(u,t.length)),r=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let i,o,a=n.length-1;for(i=0;i<r.length;i++)if(o=r[i],1!==a&&"."!==o){if(".."!==o)break;a--}return n.slice(0,a).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}(null!=r?r:t,n),{fullPath:r+(o&&"?")+o+a,path:r,query:i,hash:a}}function Pi(e,t){return!t||e.toLowerCase().indexOf(t.toLowerCase())?e:e.slice(t.length)||"/"}function Oi(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Li(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(!Mi(e[n],t[n]))return!1;return!0}function Mi(e,t){return Array.isArray(e)?Fi(e,t):Array.isArray(t)?Fi(t,e):e===t}function Fi(e,t){return Array.isArray(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}var ji,Ui,qi,Vi;function Bi(e){if(!e)if(ki){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(Di,"")}(Ui=ji||(ji={})).pop="pop",Ui.push="push",(Vi=qi||(qi={})).back="back",Vi.forward="forward",Vi.unknown="";const Ki=/^[^#]+#/;function Hi(e,t){return e.replace(Ki,"#")+t}const Wi=()=>({left:window.pageXOffset,top:window.pageYOffset});function Gi(e){let t;if("el"in e){let n=e.el;const r="string"==typeof n&&n.startsWith("#"),i="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=function(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function zi(e,t){return(history.state?history.state.position-t:-1)+e}const Qi=new Map;function $i(e,t){const{pathname:n,search:r,hash:i}=t;if(e.indexOf("#")>-1){let e=i.slice(1);return"/"!==e[0]&&(e="/"+e),Pi(e,"")}return Pi(n,e)+r+i}function Yi(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?Wi():null}}function Xi(e){const{history:t,location:n}=window;let r={value:$i(e,n)},i={value:t.state};function o(r,o,a){const s=e.indexOf("#"),u=s>-1?(n.host&&document.querySelector("base")?e:e.slice(s))+r:location.protocol+"//"+location.host+e+r;try{t[a?"replaceState":"pushState"](o,"",u),i.value=o}catch(e){console.error(e),n[a?"replace":"assign"](u)}}return i.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:function(e,n){const a=xi({},i.value,t.state,{forward:e,scroll:Wi()});o(a.current,a,!0),o(e,xi({},Yi(r.value,e,null),{position:a.position+1},n),!1),r.value=e},replace:function(e,n){o(e,xi({},t.state,Yi(i.value.back,e,i.value.forward,!0),n,{position:i.value.position}),!0),r.value=e}}}function Ji(e){const t=Xi(e=Bi(e)),n=function(e,t,n,r){let i=[],o=[],a=null;const s=({state:o})=>{const s=$i(e,location),u=n.value,c=t.value;let l=0;if(o){if(n.value=s,t.value=o,a&&a===u)return void(a=null);l=c?o.position-c.position:0}else r(s);i.forEach((e=>{e(n.value,u,{delta:l,type:ji.pop,direction:l?l>0?qi.forward:qi.back:qi.unknown})}))};function u(){const{history:e}=window;e.state&&e.replaceState(xi({},e.state,{scroll:Wi()}),"")}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",u),{pauseListeners:function(){a=n.value},listen:function(e){i.push(e);const t=()=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)};return o.push(t),t},destroy:function(){for(const e of o)e();o=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",u)}}}(e,t.state,t.location,t.replace);const r=xi({location:"",base:e,go:function(e,t=!0){t||n.pauseListeners(),history.go(e)},createHref:Hi.bind(null,e)},t,n);return Object.defineProperty(r,"location",{get:()=>t.location.value}),Object.defineProperty(r,"state",{get:()=>t.state.value}),r}function Zi(e){return"string"==typeof e||"symbol"==typeof e}const eo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},to=_i("nf");var no,ro;function io(e,t){return xi(new Error,{type:e,[to]:!0},t)}function oo(e,t){return e instanceof Error&&to in e&&(null==t||!!(e.type&t))}(ro=no||(no={}))[ro.aborted=4]="aborted",ro[ro.cancelled=8]="cancelled",ro[ro.duplicated=16]="duplicated";const ao={sensitive:!1,strict:!1,start:!0,end:!0},so=/[.+*?^${}()[\]/\\]/g;function uo(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function co(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const e=uo(r[n],i[n]);if(e)return e;n++}return i.length-r.length}const lo={type:0,value:""},ho=/[a-zA-Z0-9_]/;function fo(e,t,n){const r=function(e,t){const n=xi({},ao,t);let r=[],i=n.start?"^":"";const o=[];for(const t of e){const e=t.length?[]:[90];n.strict&&!t.length&&(i+="/");for(let r=0;r<t.length;r++){const a=t[r];let s=40+(n.sensitive?.25:0);if(0===a.type)r||(i+="/"),i+=a.value.replace(so,"\\$&"),s+=40;else if(1===a.type){const{value:e,repeatable:n,optional:u,regexp:c}=a;o.push({name:e,repeatable:n,optional:u});const l=c||"[^/]+?";if("[^/]+?"!==l){s+=10;try{new RegExp(`(${l})`)}catch(t){throw new Error(`Invalid custom RegExp for param "${e}" (${l}): `+t.message)}}let h=n?`((?:${l})(?:/(?:${l}))*)`:`(${l})`;r||(h=u&&t.length<2?`(?:/${h})`:"/"+h),u&&(h+="?"),i+=h,s+=20,u&&(s+=-8),n&&(s+=-20),".*"===l&&(s+=-50)}e.push(s)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");return{re:a,score:r,keys:o,parse:function(e){const t=e.match(a),n={};if(!t)return null;for(let e=1;e<t.length;e++){const r=t[e]||"",i=o[e-1];n[i.name]=r&&i.repeatable?r.split("/"):r}return n},stringify:function(t){let n="",r=!1;for(const i of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of i)if(0===e.type)n+=e.value;else if(1===e.type){const{value:o,repeatable:a,optional:s}=e,u=o in t?t[o]:"";if(Array.isArray(u)&&!a)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const c=Array.isArray(u)?u.join("/"):u;if(!c){if(!s)throw new Error(`Missing required param "${o}"`);i.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n}}}(function(e){if(!e)return[[]];if("/"===e)return[[lo]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${c}": ${e}`)}let n=0,r=n;const i=[];let o;function a(){o&&i.push(o),o=[]}let s,u=0,c="",l="";function h(){c&&(0===n?o.push({type:0,value:c}):1===n||2===n||3===n?(o.length>1&&("*"===s||"+"===s)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:l,repeatable:"*"===s||"+"===s,optional:"*"===s||"?"===s})):t("Invalid state to consume buffer"),c="")}function f(){c+=s}for(;u<e.length;)if(s=e[u++],"\\"!==s||2===n)switch(n){case 0:"/"===s?(c&&h(),a()):":"===s?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:"("===s?n=2:ho.test(s)?f():(h(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&u--);break;case 2:")"===s?"\\"==l[l.length-1]?l=l.slice(0,-1)+s:n=3:l+=s;break;case 3:h(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&u--,l="";break;default:t("Unknown state")}else r=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${c}"`),h(),a(),i}(e.path),n),i=xi(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function po(e,t){const n=[],r=new Map;function i(e,n,r){let s=!r,u=function(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:vo(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}(e);u.aliasOf=r&&r.record;const c=yo(t,e),l=[u];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)l.push(xi({},u,{components:r?r.record.components:u.components,path:e,aliasOf:r?r.record:u}))}let h,f;for(const t of l){let{path:l}=t;if(n&&"/"!==l[0]){let e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(l&&r+l)}if(h=fo(t,n,c),r?r.alias.push(h):(f=f||h,f!==h&&f.alias.push(h),s&&e.name&&!go(h)&&o(e.name)),"children"in u){let e=u.children;for(let t=0;t<e.length;t++)i(e[t],h,r&&r.children[t])}r=r||h,a(h)}return f?()=>{o(f)}:Ni}function o(e){if(Zi(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(o),t.alias.forEach(o))}else{let t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(o),e.alias.forEach(o))}}function a(e){let t=0;for(;t<n.length&&co(e,n[t])>=0;)t++;n.splice(t,0,e),e.record.name&&!go(e)&&r.set(e.record.name,e)}return t=yo({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>i(e))),{addRoute:i,resolve:function(e,t){let i,o,a,s={};if("name"in e&&e.name){if(i=r.get(e.name),!i)throw io(1,{location:e});a=i.record.name,s=xi(function(e,t){let n={};for(let r of t)r in e&&(n[r]=e[r]);return n}(t.params,i.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params),o=i.stringify(s)}else if("path"in e)o=e.path,i=n.find((e=>e.re.test(o))),i&&(s=i.parse(o),a=i.record.name);else{if(i=t.name?r.get(t.name):n.find((e=>e.re.test(t.path))),!i)throw io(1,{location:e,currentLocation:t});a=i.record.name,s=xi({},t.params,e.params),o=i.stringify(s)}const u=[];let c=i;for(;c;)u.unshift(c.record),c=c.parent;return{name:a,path:o,params:s,matched:u,meta:mo(u)}},removeRoute:o,getRoutes:function(){return n},getRecordMatcher:function(e){return r.get(e)}}}function vo(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(let r in e.components)t[r]="boolean"==typeof n?n:n[r];return t}function go(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function mo(e){return e.reduce(((e,t)=>xi(e,t.meta)),{})}function yo(e,t){let n={};for(let r in e)n[r]=r in t?t[r]:e[r];return n}const bo=/#/g,wo=/&/g,_o=/\//g,To=/=/g,Eo=/\?/g,Io=/\+/g,So=/%5B/g,Co=/%5D/g,ko=/%5E/g,xo=/%60/g,Ao=/%7B/g,No=/%7C/g,Do=/%7D/g,Ro=/%20/g;function Po(e){return encodeURI(""+e).replace(No,"|").replace(So,"[").replace(Co,"]")}function Oo(e){return Po(e).replace(Io,"%2B").replace(Ro,"+").replace(bo,"%23").replace(wo,"%26").replace(xo,"`").replace(Ao,"{").replace(Do,"}").replace(ko,"^")}function Lo(e){return function(e){return Po(e).replace(bo,"%23").replace(Eo,"%3F")}(e).replace(_o,"%2F")}function Mo(e){try{return decodeURIComponent(""+e)}catch(e){}return""+e}function Fo(e){const t={};if(""===e||"?"===e)return t;const n=("?"===e[0]?e.slice(1):e).split("&");for(let e=0;e<n.length;++e){const r=n[e].replace(Io," ");let i=r.indexOf("="),o=Mo(i<0?r:r.slice(0,i)),a=i<0?null:Mo(r.slice(i+1));if(o in t){let e=t[o];Array.isArray(e)||(e=t[o]=[e]),e.push(a)}else t[o]=a}return t}function jo(e){let t="";for(let n in e){t.length&&(t+="&");const r=e[n];if(n=Oo(n).replace(To,"%3D"),null==r){void 0!==r&&(t+=n);continue}let i=Array.isArray(r)?r.map((e=>e&&Oo(e))):[r&&Oo(r)];for(let e=0;e<i.length;e++)t+=(e?"&":"")+n,null!=i[e]&&(t+="="+i[e])}return t}function Uo(e){const t={};for(let n in e){let r=e[n];void 0!==r&&(t[n]=Array.isArray(r)?r.map((e=>null==e?null:""+e)):null==r?r:""+r)}return t}function qo(){let e=[];return{add:function(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}},list:()=>e,reset:function(){e=[]}}}function Vo(e,t,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise(((a,s)=>{const u=e=>{var u;!1===e?s(io(4,{from:n,to:t})):e instanceof Error?s(e):"string"==typeof(u=e)||u&&"object"==typeof u?s(io(2,{from:t,to:e})):(o&&r.enterCallbacks[i]===o&&"function"==typeof e&&o.push(e),a())},c=e.call(r&&r.instances[i],t,n,u);let l=Promise.resolve(c);e.length<3&&(l=l.then(u)),l.catch((e=>s(e)))}))}function Bo(e,t,n,r){const i=[];for(const a of e)for(const e in a.components){let s=a.components[e];if("beforeRouteEnter"===t||a.instances[e])if("object"==typeof(o=s)||"displayName"in o||"props"in o||"__vccOpts"in o){const o=(s.__vccOpts||s)[t];o&&i.push(Vo(o,n,r,a,e))}else{let o=s();o=o.catch(console.error),i.push((()=>o.then((i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${a.path}"`));const o=(s=i).__esModule||wi&&"Module"===s[Symbol.toStringTag]?i.default:i;var s;a.components[e]=o;const u=(o.__vccOpts||o)[t];return u&&Vo(u,n,r,a,e)()}))))}}var o;return i}function Ko(e){const t=ir(Ii),n=ir(Si),r=xr((()=>t.resolve(Ze(e.to)))),i=xr((()=>{let{matched:e}=r.value,{length:t}=e;const i=e[t-1];let o=n.matched;if(!i||!o.length)return-1;let a=o.findIndex(Oi.bind(null,i));if(a>-1)return a;let s=Wo(e[t-2]);return t>1&&Wo(i)===s&&o[o.length-1].path!==s?o.findIndex(Oi.bind(null,e[t-2])):a})),o=xr((()=>i.value>-1&&function(e,t){for(let n in t){let r=t[n],i=e[n];if("string"==typeof r){if(r!==i)return!1}else if(!Array.isArray(i)||i.length!==r.length||r.some(((e,t)=>e!==i[t])))return!1}return!0}(n.params,r.value.params))),a=xr((()=>i.value>-1&&i.value===n.matched.length-1&&Li(n.params,r.value.params)));return{route:r,href:xr((()=>r.value.href)),isActive:o,isExactActive:a,navigate:function(n={}){return function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;if(void 0!==e.button&&0!==e.button)return;if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}e.preventDefault&&e.preventDefault();return!0}(n)?t[Ze(e.replace)?"replace":"push"](Ze(e.to)):Promise.resolve()}}}const Ho=Sn({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},setup(e,{slots:t,attrs:n}){const r=Be(Ko(e)),{options:i}=ir(Ii),o=xr((()=>({[Go(e.activeClass,i.linkActiveClass,"router-link-active")]:r.isActive,[Go(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive})));return()=>{const i=t.default&&t.default(r);return e.custom?i:Ar("a",xi({"aria-current":r.isExactActive?e.ariaCurrentValue:null,onClick:r.navigate,href:r.href},n,{class:o.value}),i)}}});function Wo(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Go=(e,t,n)=>null!=e?e:null!=t?t:n;function zo(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const Qo=Sn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:n}){const r=ir(Ci),i=xr((()=>e.route||r.value)),o=ir(Ei,0),a=xr((()=>i.value.matched[o]));rr(Ei,o+1),rr(Ti,a),rr(Ci,i);const s=Je(u);var u;return un((()=>[s.value,a.value,e.name]),(([e,t,n],[r,i,o])=>{t&&(t.instances[n]=e,i&&i!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=i.leaveGuards),t.updateGuards.size||(t.updateGuards=i.updateGuards))),!e||!t||i&&Oi(t,i)&&r||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const r=i.value,o=a.value,u=o&&o.components[e.name],c=e.name;if(!u)return zo(n.default,{Component:u,route:r});const l=o.props[e.name],h=l?!0===l?r.params:"function"==typeof l?l(r):l:null,f=Ar(u,xi({},h,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(o.instances[c]=null)},ref:s}));return zo(n.default,{Component:f,route:r})||f}}});function $o(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}var Yo=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},Xo=Object.prototype.toString;function Jo(e){return"[object Array]"===Xo.call(e)}function Zo(e){return void 0===e}function ea(e){return null!==e&&"object"==typeof e}function ta(e){if("[object Object]"!==Xo.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function na(e){return"[object Function]"===Xo.call(e)}function ra(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),Jo(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var ia={isArray:Jo,isArrayBuffer:function(e){return"[object ArrayBuffer]"===Xo.call(e)},isBuffer:function(e){return null!==e&&!Zo(e)&&null!==e.constructor&&!Zo(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:ea,isPlainObject:ta,isUndefined:Zo,isDate:function(e){return"[object Date]"===Xo.call(e)},isFile:function(e){return"[object File]"===Xo.call(e)},isBlob:function(e){return"[object Blob]"===Xo.call(e)},isFunction:na,isStream:function(e){return ea(e)&&na(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:ra,merge:function e(){var t={};function n(n,r){ta(t[r])&&ta(n)?t[r]=e(t[r],n):ta(n)?t[r]=e({},n):Jo(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)ra(arguments[r],n);return t},extend:function(e,t,n){return ra(t,(function(t,r){e[r]=n&&"function"==typeof t?Yo(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}};function oa(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var aa=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(ia.isURLSearchParams(t))r=t.toString();else{var i=[];ia.forEach(t,(function(e,t){null!=e&&(ia.isArray(e)?t+="[]":e=[e],ia.forEach(e,(function(e){ia.isDate(e)?e=e.toISOString():ia.isObject(e)&&(e=JSON.stringify(e)),i.push(oa(t)+"="+oa(e))})))})),r=i.join("&")}if(r){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e};function sa(){this.handlers=[]}sa.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},sa.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},sa.prototype.forEach=function(e){ia.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var ua=sa,ca=function(e,t,n){return ia.forEach(n,(function(n){e=n(e,t)})),e},la=function(e){return!(!e||!e.__CANCEL__)},ha=function(e,t){ia.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},fa=function(e,t,n,r,i){return function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}(new Error(e),t,n,r,i)},pa=ia.isStandardBrowserEnv()?{write:function(e,t,n,r,i,o){var a=[];a.push(e+"="+encodeURIComponent(t)),ia.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),ia.isString(r)&&a.push("path="+r),ia.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},da=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],va=ia.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=ia.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},ga=function(e){return new Promise((function(t,n){var r=e.data,i=e.headers;ia.isFormData(r)&&delete i["Content-Type"];var o=new XMLHttpRequest;if(e.auth){var a=e.auth.username||"",s=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.Authorization="Basic "+btoa(a+":"+s)}var u,c,l=(u=e.baseURL,c=e.url,u&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(c)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(u,c):c);if(o.open(e.method.toUpperCase(),aa(l,e.params,e.paramsSerializer),!0),o.timeout=e.timeout,o.onreadystatechange=function(){if(o&&4===o.readyState&&(0!==o.status||o.responseURL&&0===o.responseURL.indexOf("file:"))){var r,i,a,s,u,c="getAllResponseHeaders"in o?(r=o.getAllResponseHeaders(),u={},r?(ia.forEach(r.split("\n"),(function(e){if(s=e.indexOf(":"),i=ia.trim(e.substr(0,s)).toLowerCase(),a=ia.trim(e.substr(s+1)),i){if(u[i]&&da.indexOf(i)>=0)return;u[i]="set-cookie"===i?(u[i]?u[i]:[]).concat([a]):u[i]?u[i]+", "+a:a}})),u):u):null,l={data:e.responseType&&"text"!==e.responseType?o.response:o.responseText,status:o.status,statusText:o.statusText,headers:c,config:e,request:o};!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(fa("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}(t,n,l),o=null}},o.onabort=function(){o&&(n(fa("Request aborted",e,"ECONNABORTED",o)),o=null)},o.onerror=function(){n(fa("Network Error",e,null,o)),o=null},o.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(fa(t,e,"ECONNABORTED",o)),o=null},ia.isStandardBrowserEnv()){var h=(e.withCredentials||va(l))&&e.xsrfCookieName?pa.read(e.xsrfCookieName):void 0;h&&(i[e.xsrfHeaderName]=h)}if("setRequestHeader"in o&&ia.forEach(i,(function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete i[t]:o.setRequestHeader(t,e)})),ia.isUndefined(e.withCredentials)||(o.withCredentials=!!e.withCredentials),e.responseType)try{o.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&o.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&o.upload&&o.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){o&&(o.abort(),n(e),o=null)})),r||(r=null),o.send(r)}))},ma={"Content-Type":"application/x-www-form-urlencoded"};function ya(e,t){!ia.isUndefined(e)&&ia.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var ba,wa={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(ba=ga),ba),transformRequest:[function(e,t){return ha(t,"Accept"),ha(t,"Content-Type"),ia.isFormData(e)||ia.isArrayBuffer(e)||ia.isBuffer(e)||ia.isStream(e)||ia.isFile(e)||ia.isBlob(e)?e:ia.isArrayBufferView(e)?e.buffer:ia.isURLSearchParams(e)?(ya(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):ia.isObject(e)?(ya(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};wa.headers={common:{Accept:"application/json, text/plain, */*"}},ia.forEach(["delete","get","head"],(function(e){wa.headers[e]={}})),ia.forEach(["post","put","patch"],(function(e){wa.headers[e]=ia.merge(ma)}));var _a=wa;function Ta(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var Ea=function(e){return Ta(e),e.headers=e.headers||{},e.data=ca(e.data,e.headers,e.transformRequest),e.headers=ia.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),ia.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||_a.adapter)(e).then((function(t){return Ta(e),t.data=ca(t.data,t.headers,e.transformResponse),t}),(function(t){return la(t)||(Ta(e),t&&t.response&&(t.response.data=ca(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},Ia=function(e,t){t=t||{};var n={},r=["url","method","data"],i=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function s(e,t){return ia.isPlainObject(e)&&ia.isPlainObject(t)?ia.merge(e,t):ia.isPlainObject(t)?ia.merge({},t):ia.isArray(t)?t.slice():t}function u(r){ia.isUndefined(t[r])?ia.isUndefined(e[r])||(n[r]=s(void 0,e[r])):n[r]=s(e[r],t[r])}ia.forEach(r,(function(e){ia.isUndefined(t[e])||(n[e]=s(void 0,t[e]))})),ia.forEach(i,u),ia.forEach(o,(function(r){ia.isUndefined(t[r])?ia.isUndefined(e[r])||(n[r]=s(void 0,e[r])):n[r]=s(void 0,t[r])})),ia.forEach(a,(function(r){r in t?n[r]=s(e[r],t[r]):r in e&&(n[r]=s(void 0,e[r]))}));var c=r.concat(i).concat(o).concat(a),l=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===c.indexOf(e)}));return ia.forEach(l,u),n};function Sa(e){this.defaults=e,this.interceptors={request:new ua,response:new ua}}Sa.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=Ia(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[Ea,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},Sa.prototype.getUri=function(e){return e=Ia(this.defaults,e),aa(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},ia.forEach(["delete","get","head","options"],(function(e){Sa.prototype[e]=function(t,n){return this.request(Ia(n||{},{method:e,url:t,data:(n||{}).data}))}})),ia.forEach(["post","put","patch"],(function(e){Sa.prototype[e]=function(t,n,r){return this.request(Ia(r||{},{method:e,url:t,data:n}))}}));var Ca=Sa;function ka(e){this.message=e}ka.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},ka.prototype.__CANCEL__=!0;var xa=ka;function Aa(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new xa(e),t(n.reason))}))}Aa.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Aa.source=function(){var e;return{token:new Aa((function(t){e=t})),cancel:e}};var Na=Aa;function Da(e){var t=new Ca(e),n=Yo(Ca.prototype.request,t);return ia.extend(n,Ca.prototype,t),ia.extend(n,t),n}var Ra=Da(_a);Ra.Axios=Ca,Ra.create=function(e){return Da(Ia(Ra.defaults,e))},Ra.Cancel=xa,Ra.CancelToken=Na,Ra.isCancel=la,Ra.all=function(e){return Promise.all(e)},Ra.spread=function(e){return function(t){return e.apply(null,t)}},Ra.isAxiosError=function(e){return"object"==typeof e&&!0===e.isAxiosError};var Pa=Ra;Ra.default=Pa;var Oa,La,Ma="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};(function(e){
/*!
   * jQuery JavaScript Library v3.6.0
   * https://jquery.com/
   *
   * Includes Sizzle.js
   * https://sizzlejs.com/
   *
   * Copyright OpenJS Foundation and other contributors
   * Released under the MIT license
   * https://jquery.org/license
   *
   * Date: 2021-03-02T17:08Z
   */
var t,n;t="undefined"!=typeof window?window:Ma,n=function(e,t){var n=[],r=Object.getPrototypeOf,i=n.slice,o=n.flat?function(e){return n.flat.call(e)}:function(e){return n.concat.apply([],e)},a=n.push,s=n.indexOf,u={},c=u.toString,l=u.hasOwnProperty,h=l.toString,f=h.call(Object),p={},d=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},v=function(e){return null!=e&&e===e.window},g=e.document,m={type:!0,src:!0,nonce:!0,noModule:!0};function y(e,t,n){var r,i,o=(n=n||g).createElement("script");if(o.text=e,t)for(r in m)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function b(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[c.call(e)]||"object":typeof e}var w="3.6.0",_=function(e,t){return new _.fn.init(e,t)};function T(e){var t=!!e&&"length"in e&&e.length,n=b(e);return!d(e)&&!v(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}_.fn=_.prototype={jquery:w,constructor:_,length:0,toArray:function(){return i.call(this)},get:function(e){return null==e?i.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=_.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return _.each(this,e)},map:function(e){return this.pushStack(_.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(_.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(_.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},_.extend=_.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||d(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(c&&r&&(_.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||_.isPlainObject(n)?n:{},i=!1,a[t]=_.extend(c,o,r)):void 0!==r&&(a[t]=r));return a},_.extend({expando:"jQuery"+(w+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==c.call(e)||(t=r(e))&&("function"!=typeof(n=l.call(t,"constructor")&&t.constructor)||h.call(n)!==f))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){y(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(T(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(T(Object(e))?_.merge(n,"string"==typeof e?[e]:e):a.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:s.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,a=0,s=[];if(T(e))for(r=e.length;a<r;a++)null!=(i=t(e[a],a,n))&&s.push(i);else for(a in e)null!=(i=t(e[a],a,n))&&s.push(i);return o(s)},guid:1,support:p}),"function"==typeof Symbol&&(_.fn[Symbol.iterator]=n[Symbol.iterator]),_.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){u["[object "+t+"]"]=t.toLowerCase()}));var E=function(e){var t,n,r,i,o,a,s,u,c,l,h,f,p,d,v,g,m,y,b,w="sizzle"+1*new Date,_=e.document,T=0,E=0,I=ue(),S=ue(),C=ue(),k=ue(),x=function(e,t){return e===t&&(h=!0),0},A={}.hasOwnProperty,N=[],D=N.pop,R=N.push,P=N.push,O=N.slice,L=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",j="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",U="\\[[\\x20\\t\\r\\n\\f]*("+j+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+F+"*\\]",q=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",V=new RegExp(F+"+","g"),B=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),K=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),H=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),W=new RegExp(F+"|>"),G=new RegExp(q),z=new RegExp("^"+j+"$"),Q={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},$=/HTML$/i,Y=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){f()},ae=we((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{P.apply(N=O.call(_.childNodes),_.childNodes),N[_.childNodes.length].nodeType}catch(e){P={apply:N.length?function(e,t){R.apply(e,O.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(e,t,r,i){var o,s,c,l,h,d,m,y=t&&t.ownerDocument,_=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==_&&9!==_&&11!==_)return r;if(!i&&(f(t),t=t||p,v)){if(11!==_&&(h=Z.exec(e)))if(o=h[1]){if(9===_){if(!(c=t.getElementById(o)))return r;if(c.id===o)return r.push(c),r}else if(y&&(c=y.getElementById(o))&&b(t,c)&&c.id===o)return r.push(c),r}else{if(h[2])return P.apply(r,t.getElementsByTagName(e)),r;if((o=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return P.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!k[e+" "]&&(!g||!g.test(e))&&(1!==_||"object"!==t.nodeName.toLowerCase())){if(m=e,y=t,1===_&&(W.test(e)||H.test(e))){for((y=ee.test(e)&&me(t.parentNode)||t)===t&&n.scope||((l=t.getAttribute("id"))?l=l.replace(re,ie):t.setAttribute("id",l=w)),s=(d=a(e)).length;s--;)d[s]=(l?"#"+l:":scope")+" "+be(d[s]);m=d.join(",")}try{return P.apply(r,y.querySelectorAll(m)),r}catch(t){k(e,!0)}finally{l===w&&t.removeAttribute("id")}}}return u(e.replace(B,"$1"),t,r,i)}function ue(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function ce(e){return e[w]=!0,e}function le(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function he(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function fe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function pe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function de(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ve(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return ce((function(t){return t=+t,ce((function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},o=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!$.test(t||n&&n.nodeName||"HTML")},f=se.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:_;return a!=p&&9===a.nodeType&&a.documentElement?(d=(p=a).documentElement,v=!o(p),_!=p&&(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",oe,!1):i.attachEvent&&i.attachEvent("onunload",oe)),n.scope=le((function(e){return d.appendChild(e).appendChild(p.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=le((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=le((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=J.test(p.getElementsByClassName),n.getById=le((function(e){return d.appendChild(e).id=w,!p.getElementsByName||!p.getElementsByName(w).length})),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&v){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&v){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&v)return t.getElementsByClassName(e)},m=[],g=[],(n.qsa=J.test(p.querySelectorAll))&&(le((function(e){var t;d.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+M+")"),e.querySelectorAll("[id~="+w+"-]").length||g.push("~="),(t=p.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),le((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),d.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=J.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&le((function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),m.push("!=",q)})),g=g.length&&new RegExp(g.join("|")),m=m.length&&new RegExp(m.join("|")),t=J.test(d.compareDocumentPosition),b=t||J.test(d.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},x=t?function(e,t){if(e===t)return h=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==p||e.ownerDocument==_&&b(_,e)?-1:t==p||t.ownerDocument==_&&b(_,t)?1:l?L(l,e)-L(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return h=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==p?-1:t==p?1:i?-1:o?1:l?L(l,e)-L(l,t):0;if(i===o)return fe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?fe(a[r],s[r]):a[r]==_?-1:s[r]==_?1:0},p):p},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(f(e),n.matchesSelector&&v&&!k[t+" "]&&(!m||!m.test(t))&&(!g||!g.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){k(t,!0)}return se(t,p,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!=p&&f(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=p&&f(e);var i=r.attrHandle[t.toLowerCase()],o=i&&A.call(r.attrHandle,t.toLowerCase())?i(e,t,!v):void 0;return void 0!==o?o:n.attributes||!v?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,r=[],i=0,o=0;if(h=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(x),h){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return l=null,e},i=se.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=se.selectors={cacheLength:50,createPseudo:ce,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&G.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=I[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+F+"|$)"))&&I(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=se.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(V," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var c,l,h,f,p,d,v=o!==a?"nextSibling":"previousSibling",g=t.parentNode,m=s&&t.nodeName.toLowerCase(),y=!u&&!s,b=!1;if(g){if(o){for(;v;){for(f=t;f=f[v];)if(s?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;d=v="only"===e&&!d&&"nextSibling"}return!0}if(d=[a?g.firstChild:g.lastChild],a&&y){for(b=(p=(c=(l=(h=(f=g)[w]||(f[w]={}))[f.uniqueID]||(h[f.uniqueID]={}))[e]||[])[0]===T&&c[1])&&c[2],f=p&&g.childNodes[p];f=++p&&f&&f[v]||(b=p=0)||d.pop();)if(1===f.nodeType&&++b&&f===t){l[e]=[T,p,b];break}}else if(y&&(b=p=(c=(l=(h=(f=t)[w]||(f[w]={}))[f.uniqueID]||(h[f.uniqueID]={}))[e]||[])[0]===T&&c[1]),!1===b)for(;(f=++p&&f&&f[v]||(b=p=0)||d.pop())&&((s?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++b||(y&&((l=(h=f[w]||(f[w]={}))[f.uniqueID]||(h[f.uniqueID]={}))[e]=[T,b]),f!==t)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=L(e,o[a])]=!(n[r]=o[a])})):function(e){return i(e,0,n)}):i}},pseudos:{not:ce((function(e){var t=[],n=[],r=s(e.replace(B,"$1"));return r[w]?ce((function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:ce((function(e){return function(t){return se(e,t).length>0}})),contains:ce((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||i(t)).indexOf(e)>-1}})),lang:ce((function(e){return z.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ve(!1),disabled:ve(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge((function(){return[0]})),last:ge((function(e,t){return[t-1]})),eq:ge((function(e,t,n){return[n<0?n+t:n]})),even:ge((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ge((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ge((function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:ge((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=pe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=de(t);function ye(){}function be(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function we(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=E++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var c,l,h,f=[T,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(l=(h=t[w]||(t[w]={}))[t.uniqueID]||(h[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[o])&&c[0]===T&&c[1]===s)return f[2]=c[2];if(l[o]=f,f[2]=e(t,n,u))return!0}return!1}}function _e(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),c&&t.push(s)));return a}function Ee(e,t,n,r,i,o){return r&&!r[w]&&(r=Ee(r)),i&&!i[w]&&(i=Ee(i,o)),ce((function(o,a,s,u){var c,l,h,f=[],p=[],d=a.length,v=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!o&&t?v:Te(v,f,e,s,u),m=n?i||(o?e:d||r)?[]:a:g;if(n&&n(g,m,s,u),r)for(c=Te(m,p),r(c,[],s,u),l=c.length;l--;)(h=c[l])&&(m[p[l]]=!(g[p[l]]=h));if(o){if(i||e){if(i){for(c=[],l=m.length;l--;)(h=m[l])&&c.push(g[l]=h);i(null,m=[],c,u)}for(l=m.length;l--;)(h=m[l])&&(c=i?L(o,h):f[l])>-1&&(o[c]=!(a[c]=h))}}else m=Te(m===a?m.splice(d,m.length):m),i?i(null,a,m,u):P.apply(a,m)}))}function Ie(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,l=we((function(e){return e===t}),s,!0),h=we((function(e){return L(t,e)>-1}),s,!0),f=[function(e,n,r){var i=!a&&(r||n!==c)||((t=n).nodeType?l(e,n,r):h(e,n,r));return t=null,i}];u<o;u++)if(n=r.relative[e[u].type])f=[we(_e(f),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[w]){for(i=++u;i<o&&!r.relative[e[i].type];i++);return Ee(u>1&&_e(f),u>1&&be(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(B,"$1"),n,u<i&&Ie(e.slice(u,i)),i<o&&Ie(e=e.slice(i)),i<o&&be(e))}f.push(n)}return _e(f)}return ye.prototype=r.filters=r.pseudos,r.setFilters=new ye,a=se.tokenize=function(e,t){var n,i,o,a,s,u,c,l=S[e+" "];if(l)return t?0:l.slice(0);for(s=e,u=[],c=r.preFilter;s;){for(a in n&&!(i=K.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=H.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(B," ")}),s=s.slice(n.length)),r.filter)!(i=Q[a].exec(s))||c[a]&&!(i=c[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):S(e,u).slice(0)},s=se.compile=function(e,t){var n,i=[],o=[],s=C[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=Ie(t[n]))[w]?i.push(s):o.push(s);(s=C(e,function(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,u,l){var h,d,g,m=0,y="0",b=o&&[],w=[],_=c,E=o||i&&r.find.TAG("*",l),I=T+=null==_?1:Math.random()||.1,S=E.length;for(l&&(c=a==p||a||l);y!==S&&null!=(h=E[y]);y++){if(i&&h){for(d=0,a||h.ownerDocument==p||(f(h),s=!v);g=e[d++];)if(g(h,a||p,s)){u.push(h);break}l&&(T=I)}n&&((h=!g&&h)&&m--,o&&b.push(h))}if(m+=y,n&&y!==m){for(d=0;g=t[d++];)g(b,w,a,s);if(o){if(m>0)for(;y--;)b[y]||w[y]||(w[y]=D.call(u));w=Te(w)}P.apply(u,w),l&&!o&&w.length>0&&m+t.length>1&&se.uniqueSort(u)}return l&&(T=I,c=_),b};return n?ce(o):o}(o,i))).selector=e}return s},u=se.select=function(e,t,n,i){var o,u,c,l,h,f="function"==typeof e&&e,p=!i&&a(e=f.selector||e);if(n=n||[],1===p.length){if((u=p[0]=p[0].slice(0)).length>2&&"ID"===(c=u[0]).type&&9===t.nodeType&&v&&r.relative[u[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(u.shift().value.length)}for(o=Q.needsContext.test(e)?0:u.length;o--&&(c=u[o],!r.relative[l=c.type]);)if((h=r.find[l])&&(i=h(c.matches[0].replace(te,ne),ee.test(u[0].type)&&me(t.parentNode)||t))){if(u.splice(o,1),!(e=i.length&&be(u)))return P.apply(n,i),n;break}}return(f||s(e,p))(i,t,!v,n,!t||ee.test(e)&&me(t.parentNode)||t),n},n.sortStable=w.split("").sort(x).join("")===w,n.detectDuplicates=!!h,f(),n.sortDetached=le((function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))})),le((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||he("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&le((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||he("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),le((function(e){return null==e.getAttribute("disabled")}))||he(M,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),se}(e);_.find=E,_.expr=E.selectors,_.expr[":"]=_.expr.pseudos,_.uniqueSort=_.unique=E.uniqueSort,_.text=E.getText,_.isXMLDoc=E.isXML,_.contains=E.contains,_.escapeSelector=E.escape;var I=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&_(e).is(n))break;r.push(e)}return r},S=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},C=_.expr.match.needsContext;function k(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var x=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function A(e,t,n){return d(t)?_.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?_.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?_.grep(e,(function(e){return s.call(t,e)>-1!==n})):_.filter(t,e,n)}_.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?_.find.matchesSelector(r,e)?[r]:[]:_.find.matches(e,_.grep(t,(function(e){return 1===e.nodeType})))},_.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(_(e).filter((function(){for(t=0;t<r;t++)if(_.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)_.find(e,i[t],n);return r>1?_.uniqueSort(n):n},filter:function(e){return this.pushStack(A(this,e||[],!1))},not:function(e){return this.pushStack(A(this,e||[],!0))},is:function(e){return!!A(this,"string"==typeof e&&C.test(e)?_(e):e||[],!1).length}});var N,D=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(_.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||N,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:D.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof _?t[0]:t,_.merge(this,_.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:g,!0)),x.test(r[1])&&_.isPlainObject(t))for(r in t)d(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=g.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):d(e)?void 0!==n.ready?n.ready(e):e(_):_.makeArray(e,this)}).prototype=_.fn,N=_(g);var R=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}_.fn.extend({has:function(e){var t=_(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(_.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&_(e);if(!C.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&_.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?_.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?s.call(_(e),this[0]):s.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(_.uniqueSort(_.merge(this.get(),_(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),_.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return I(e,"parentNode")},parentsUntil:function(e,t,n){return I(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return I(e,"nextSibling")},prevAll:function(e){return I(e,"previousSibling")},nextUntil:function(e,t,n){return I(e,"nextSibling",n)},prevUntil:function(e,t,n){return I(e,"previousSibling",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(k(e,"template")&&(e=e.content||e),_.merge([],e.childNodes))}},(function(e,t){_.fn[e]=function(n,r){var i=_.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=_.filter(r,i)),this.length>1&&(P[e]||_.uniqueSort(i),R.test(e)&&i.reverse()),this.pushStack(i)}}));var L=/[^\x20\t\r\n\f]+/g;function M(e){return e}function F(e){throw e}function j(e,t,n,r){var i;try{e&&d(i=e.promise)?i.call(e).done(t).fail(n):e&&d(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}_.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return _.each(e.match(L)||[],(function(e,n){t[n]=!0})),t}(e):_.extend({},e);var t,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){_.each(n,(function(n,r){d(r)?e.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==b(r)&&t(r)}))}(arguments),n&&!t&&u()),this},remove:function(){return _.each(arguments,(function(e,t){for(var n;(n=_.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(e){return e?_.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},_.extend({Deferred:function(t){var n=[["notify","progress",_.Callbacks("memory"),_.Callbacks("memory"),2],["resolve","done",_.Callbacks("once memory"),_.Callbacks("once memory"),0,"resolved"],["reject","fail",_.Callbacks("once memory"),_.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return _.Deferred((function(t){_.each(n,(function(n,r){var i=d(e[r[4]])&&e[r[4]];o[r[1]]((function(){var e=i&&i.apply(this,arguments);e&&d(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(t,r,i){var o=0;function a(t,n,r,i){return function(){var s=this,u=arguments,c=function(){var e,c;if(!(t<o)){if((e=r.apply(s,u))===n.promise())throw new TypeError("Thenable self-resolution");c=e&&("object"==typeof e||"function"==typeof e)&&e.then,d(c)?i?c.call(e,a(o,n,M,i),a(o,n,F,i)):(o++,c.call(e,a(o,n,M,i),a(o,n,F,i),a(o,n,M,n.notifyWith))):(r!==M&&(s=void 0,u=[e]),(i||n.resolveWith)(s,u))}},l=i?c:function(){try{c()}catch(e){_.Deferred.exceptionHook&&_.Deferred.exceptionHook(e,l.stackTrace),t+1>=o&&(r!==F&&(s=void 0,u=[e]),n.rejectWith(s,u))}};t?l():(_.Deferred.getStackHook&&(l.stackTrace=_.Deferred.getStackHook()),e.setTimeout(l))}}return _.Deferred((function(e){n[0][3].add(a(0,e,d(i)?i:M,e.notifyWith)),n[1][3].add(a(0,e,d(t)?t:M)),n[2][3].add(a(0,e,d(r)?r:F))})).promise()},promise:function(e){return null!=e?_.extend(e,i):i}},o={};return _.each(n,(function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add((function(){r=s}),n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith})),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),o=i.call(arguments),a=_.Deferred(),s=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?i.call(arguments):n,--t||a.resolveWith(r,o)}};if(t<=1&&(j(e,a.done(s(n)).resolve,a.reject,!t),"pending"===a.state()||d(o[n]&&o[n].then)))return a.then();for(;n--;)j(o[n],s(n),a.reject);return a.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;_.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&U.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},_.readyException=function(t){e.setTimeout((function(){throw t}))};var q=_.Deferred();function V(){g.removeEventListener("DOMContentLoaded",V),e.removeEventListener("load",V),_.ready()}_.fn.ready=function(e){return q.then(e).catch((function(e){_.readyException(e)})),this},_.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--_.readyWait:_.isReady)||(_.isReady=!0,!0!==e&&--_.readyWait>0||q.resolveWith(g,[_]))}}),_.ready.then=q.then,"complete"===g.readyState||"loading"!==g.readyState&&!g.documentElement.doScroll?e.setTimeout(_.ready):(g.addEventListener("DOMContentLoaded",V),e.addEventListener("load",V));var B=function(e,t,n,r,i,o,a){var s=0,u=e.length,c=null==n;if("object"===b(n))for(s in i=!0,n)B(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,d(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(_(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):u?t(e[0],n):o},K=/^-ms-/,H=/-([a-z])/g;function W(e,t){return t.toUpperCase()}function G(e){return e.replace(K,"ms-").replace(H,W)}var z=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Q(){this.expando=_.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},z(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[G(t)]=n;else for(r in t)i[G(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][G(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(G):(t=G(t))in r?[t]:t.match(L)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||_.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!_.isEmptyObject(t)}};var $=new Q,Y=new Q,X=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function Z(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(J,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:X.test(e)?JSON.parse(e):e)}(n)}catch(e){}Y.set(e,t,n)}else n=void 0;return n}_.extend({hasData:function(e){return Y.hasData(e)||$.hasData(e)},data:function(e,t,n){return Y.access(e,t,n)},removeData:function(e,t){Y.remove(e,t)},_data:function(e,t,n){return $.access(e,t,n)},_removeData:function(e,t){$.remove(e,t)}}),_.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=Y.get(o),1===o.nodeType&&!$.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=G(r.slice(5)),Z(o,r,i[r]));$.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){Y.set(this,e)})):B(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=Y.get(o,e))||void 0!==(n=Z(o,e))?n:void 0;this.each((function(){Y.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Y.remove(this,e)}))}}),_.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=$.get(e,t),n&&(!r||Array.isArray(n)?r=$.access(e,t,_.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=_.queue(e,t),r=n.length,i=n.shift(),o=_._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,(function(){_.dequeue(e,t)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return $.get(e,n)||$.access(e,n,{empty:_.Callbacks("once memory").add((function(){$.remove(e,[t+"queue",n])}))})}}),_.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?_.queue(this[0],e):void 0===t?this:this.each((function(){var n=_.queue(this,e,t);_._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&_.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){_.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=_.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=$.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=g.documentElement,ie=function(e){return _.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return _.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===_.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return _.css(e,t,"")},u=s(),c=n&&n[3]||(_.cssNumber[t]?"":"px"),l=e.nodeType&&(_.cssNumber[t]||"px"!==c&&+u)&&te.exec(_.css(e,t));if(l&&l[3]!==c){for(u/=2,c=c||l[3],l=+u||1;a--;)_.style(e,t,l+c),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),l/=o;l*=2,_.style(e,t,l+c),n=n||[]}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}var ue={};function ce(e){var t,n=e.ownerDocument,r=e.nodeName,i=ue[r];return i||(t=n.body.appendChild(n.createElement(r)),i=_.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),ue[r]=i,i)}function le(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=$.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ae(r)&&(i[o]=ce(r))):"none"!==n&&(i[o]="none",$.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}_.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ae(this)?_(this).show():_(this).hide()}))}});var he,fe,pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ve=/^$|^module$|\/(?:java|ecma)script/i;he=g.createDocumentFragment().appendChild(g.createElement("div")),(fe=g.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),he.appendChild(fe),p.checkClone=he.cloneNode(!0).cloneNode(!0).lastChild.checked,he.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!he.cloneNode(!0).lastChild.defaultValue,he.innerHTML="<option></option>",p.option=!!he.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function me(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&k(e,t)?_.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)$.set(e[n],"globalEval",!t||$.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,p.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var be=/<|&#?\w+;/;function we(e,t,n,r,i){for(var o,a,s,u,c,l,h=t.createDocumentFragment(),f=[],p=0,d=e.length;p<d;p++)if((o=e[p])||0===o)if("object"===b(o))_.merge(f,o.nodeType?[o]:o);else if(be.test(o)){for(a=a||h.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+_.htmlPrefilter(o)+u[2],l=u[0];l--;)a=a.lastChild;_.merge(f,a.childNodes),(a=h.firstChild).textContent=""}else f.push(t.createTextNode(o));for(h.textContent="",p=0;o=f[p++];)if(r&&_.inArray(o,r)>-1)i&&i.push(o);else if(c=ie(o),a=me(h.appendChild(o),"script"),c&&ye(a),n)for(l=0;o=a[l++];)ve.test(o.type||"")&&n.push(o);return h}var _e=/^([^.]*)(?:\.(.+)|)/;function Te(){return!0}function Ee(){return!1}function Ie(e,t){return e===function(){try{return g.activeElement}catch(e){}}()==("focus"===t)}function Se(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Se(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Ee;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return _().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=_.guid++)),e.each((function(){_.event.add(this,t,i,r,n)}))}function Ce(e,t,n){n?($.set(e,t,!1),_.event.add(e,t,{namespace:!1,handler:function(e){var r,o,a=$.get(this,t);if(1&e.isTrigger&&this[t]){if(a.length)(_.event.special[t]||{}).delegateType&&e.stopPropagation();else if(a=i.call(arguments),$.set(this,t,a),r=n(this,t),this[t](),a!==(o=$.get(this,t))||r?$.set(this,t,!1):o={},a!==o)return e.stopImmediatePropagation(),e.preventDefault(),o&&o.value}else a.length&&($.set(this,t,{value:_.event.trigger(_.extend(a[0],_.Event.prototype),a.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===$.get(e,t)&&_.event.add(e,t,Te)}_.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,c,l,h,f,p,d,v,g=$.get(e);if(z(e))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&_.find.matchesSelector(re,i),n.guid||(n.guid=_.guid++),(u=g.events)||(u=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(t){return void 0!==_&&_.event.triggered!==t.type?_.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(L)||[""]).length;c--;)p=v=(s=_e.exec(t[c])||[])[1],d=(s[2]||"").split(".").sort(),p&&(h=_.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,h=_.event.special[p]||{},l=_.extend({type:p,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&_.expr.match.needsContext.test(i),namespace:d.join(".")},o),(f=u[p])||((f=u[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,r,d,a)||e.addEventListener&&e.addEventListener(p,a)),h.add&&(h.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,l):f.push(l),_.event.global[p]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,c,l,h,f,p,d,v,g=$.hasData(e)&&$.get(e);if(g&&(u=g.events)){for(c=(t=(t||"").match(L)||[""]).length;c--;)if(p=v=(s=_e.exec(t[c])||[])[1],d=(s[2]||"").split(".").sort(),p){for(h=_.event.special[p]||{},f=u[p=(r?h.delegateType:h.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)l=f[o],!i&&v!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(f.splice(o,1),l.selector&&f.delegateCount--,h.remove&&h.remove.call(e,l));a&&!f.length&&(h.teardown&&!1!==h.teardown.call(e,d,g.handle)||_.removeEvent(e,p,g.handle),delete u[p])}else for(p in u)_.event.remove(e,p+t[c],n,r,!0);_.isEmptyObject(u)&&$.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=_.event.fix(e),c=($.get(this,"events")||Object.create(null))[u.type]||[],l=_.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,u)){for(a=_.event.handlers.call(this,u,c),t=0;(i=a[t++])&&!u.isPropagationStopped();)for(u.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((_.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,c=e.target;if(u&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?_(i,this).index(c)>-1:_.find(i,this,null,[c]).length),a[i]&&o.push(r);o.length&&s.push({elem:c,handlers:o})}return c=this,u<t.length&&s.push({elem:c,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(_.Event.prototype,e,{enumerable:!0,configurable:!0,get:d(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[_.expando]?e:new _.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&k(t,"input")&&Ce(t,"click",Te),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&k(t,"input")&&Ce(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&k(t,"input")&&$.get(t,"click")||k(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},_.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},_.Event=function(e,t){if(!(this instanceof _.Event))return new _.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Te:Ee,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&_.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[_.expando]=!0},_.Event.prototype={constructor:_.Event,isDefaultPrevented:Ee,isPropagationStopped:Ee,isImmediatePropagationStopped:Ee,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Te,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Te,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Te,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},_.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},_.event.addProp),_.each({focus:"focusin",blur:"focusout"},(function(e,t){_.event.special[e]={setup:function(){return Ce(this,e,Ie),!1},trigger:function(){return Ce(this,e),!0},_default:function(){return!0},delegateType:t}})),_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){_.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||_.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),_.fn.extend({on:function(e,t,n,r){return Se(this,e,t,n,r)},one:function(e,t,n,r){return Se(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,_(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ee),this.each((function(){_.event.remove(this,e,n,t)}))}});var ke=/<script|<style|<link/i,xe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ne(e,t){return k(e,"table")&&k(11!==t.nodeType?t:t.firstChild,"tr")&&_(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Re(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Pe(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if($.hasData(e)&&(s=$.get(e).events))for(i in $.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)_.event.add(t,i,s[i][n]);Y.hasData(e)&&(o=Y.access(e),a=_.extend({},o),Y.set(t,a))}}function Oe(e,t,n,r){t=o(t);var i,a,s,u,c,l,h=0,f=e.length,v=f-1,g=t[0],m=d(g);if(m||f>1&&"string"==typeof g&&!p.checkClone&&xe.test(g))return e.each((function(i){var o=e.eq(i);m&&(t[0]=g.call(this,i,o.html())),Oe(o,t,n,r)}));if(f&&(a=(i=we(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=a),a||r)){for(u=(s=_.map(me(i,"script"),De)).length;h<f;h++)c=i,h!==v&&(c=_.clone(c,!0,!0),u&&_.merge(s,me(c,"script"))),n.call(e[h],c,h);if(u)for(l=s[s.length-1].ownerDocument,_.map(s,Re),h=0;h<u;h++)c=s[h],ve.test(c.type||"")&&!$.access(c,"globalEval")&&_.contains(l,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?_._evalUrl&&!c.noModule&&_._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},l):y(c.textContent.replace(Ae,""),c,l))}return e}function Le(e,t,n){for(var r,i=t?_.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||_.cleanData(me(r)),r.parentNode&&(n&&ie(r)&&ye(me(r,"script")),r.parentNode.removeChild(r));return e}_.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,c,l=e.cloneNode(!0),h=ie(e);if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||_.isXMLDoc(e)))for(a=me(l),r=0,i=(o=me(e)).length;r<i;r++)s=o[r],u=a[r],c=void 0,"input"===(c=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==c&&"textarea"!==c||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||me(e),a=a||me(l),r=0,i=o.length;r<i;r++)Pe(o[r],a[r]);else Pe(e,l);return(a=me(l,"script")).length>0&&ye(a,!h&&me(e,"script")),l},cleanData:function(e){for(var t,n,r,i=_.event.special,o=0;void 0!==(n=e[o]);o++)if(z(n)){if(t=n[$.expando]){if(t.events)for(r in t.events)i[r]?_.event.remove(n,r):_.removeEvent(n,r,t.handle);n[$.expando]=void 0}n[Y.expando]&&(n[Y.expando]=void 0)}}}),_.fn.extend({detach:function(e){return Le(this,e,!0)},remove:function(e){return Le(this,e)},text:function(e){return B(this,(function(e){return void 0===e?_.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Oe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ne(this,e).appendChild(e)}))},prepend:function(){return Oe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ne(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Oe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Oe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(_.cleanData(me(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return _.clone(this,e,t)}))},html:function(e){return B(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=_.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(_.cleanData(me(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Oe(this,arguments,(function(t){var n=this.parentNode;_.inArray(this,e)<0&&(_.cleanData(me(this)),n&&n.replaceChild(t,this))}),e)}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){_.fn[e]=function(e){for(var n,r=[],i=_(e),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),_(i[s])[t](n),a.apply(r,n.get());return this.pushStack(r)}}));var Me=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Fe=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},je=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ue=new RegExp(ne.join("|"),"i");function qe(e,t,n){var r,i,o,a,s=e.style;return(n=n||Fe(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ie(e)||(a=_.style(e,t)),!p.pixelBoxStyles()&&Me.test(a)&&Ue.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Ve(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(l){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(c).appendChild(l);var t=e.getComputedStyle(l);r="1%"!==t.top,u=12===n(t.marginLeft),l.style.right="60%",a=36===n(t.right),i=36===n(t.width),l.style.position="absolute",o=12===n(l.offsetWidth/3),re.removeChild(c),l=null}}function n(e){return Math.round(parseFloat(e))}var r,i,o,a,s,u,c=g.createElement("div"),l=g.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===l.style.backgroundClip,_.extend(p,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,n,r,i;return null==s&&(t=g.createElement("table"),n=g.createElement("tr"),r=g.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",n.style.cssText="border:1px solid",n.style.height="1px",r.style.height="9px",r.style.display="block",re.appendChild(t).appendChild(n).appendChild(r),i=e.getComputedStyle(n),s=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===n.offsetHeight,re.removeChild(t)),s}}))}();var Be=["Webkit","Moz","ms"],Ke=g.createElement("div").style,He={};function We(e){var t=_.cssProps[e]||He[e];return t||(e in Ke?e:He[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Be.length;n--;)if((e=Be[n]+t)in Ke)return e}(e)||e)}var Ge=/^(none|table(?!-c[ea]).+)/,ze=/^--/,Qe={position:"absolute",visibility:"hidden",display:"block"},$e={letterSpacing:"0",fontWeight:"400"};function Ye(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Xe(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=_.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=_.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=_.css(e,"border"+ne[a]+"Width",!0,i))):(u+=_.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=_.css(e,"border"+ne[a]+"Width",!0,i):s+=_.css(e,"border"+ne[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Je(e,t,n){var r=Fe(e),i=(!p.boxSizingReliable()||n)&&"border-box"===_.css(e,"boxSizing",!1,r),o=i,a=qe(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Me.test(a)){if(!n)return a;a="auto"}return(!p.boxSizingReliable()&&i||!p.reliableTrDimensions()&&k(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===_.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===_.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Xe(e,t,n||(i?"border":"content"),o,r,a)+"px"}function Ze(e,t,n,r,i){return new Ze.prototype.init(e,t,n,r,i)}_.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=qe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=G(t),u=ze.test(t),c=e.style;if(u||(t=We(s)),a=_.cssHooks[t]||_.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:c[t];"string"==(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(_.cssNumber[s]?"":"px")),p.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var i,o,a,s=G(t);return ze.test(t)||(t=We(s)),(a=_.cssHooks[t]||_.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=qe(e,t,r)),"normal"===i&&t in $e&&(i=$e[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),_.each(["height","width"],(function(e,t){_.cssHooks[t]={get:function(e,n,r){if(n)return!Ge.test(_.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Je(e,t,r):je(e,Qe,(function(){return Je(e,t,r)}))},set:function(e,n,r){var i,o=Fe(e),a=!p.scrollboxSize()&&"absolute"===o.position,s=(a||r)&&"border-box"===_.css(e,"boxSizing",!1,o),u=r?Xe(e,t,r,s,o):0;return s&&a&&(u-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Xe(e,t,"border",!1,o)-.5)),u&&(i=te.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=_.css(e,t)),Ye(0,n,u)}}})),_.cssHooks.marginLeft=Ve(p.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(qe(e,"marginLeft"))||e.getBoundingClientRect().left-je(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),_.each({margin:"",padding:"",border:"Width"},(function(e,t){_.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+ne[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(_.cssHooks[e+t].set=Ye)})),_.fn.extend({css:function(e,t){return B(this,(function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Fe(e),i=t.length;a<i;a++)o[t[a]]=_.css(e,t[a],!1,r);return o}return void 0!==n?_.style(e,t,n):_.css(e,t)}),e,t,arguments.length>1)}}),_.Tween=Ze,Ze.prototype={constructor:Ze,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||_.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(_.cssNumber[n]?"":"px")},cur:function(){var e=Ze.propHooks[this.prop];return e&&e.get?e.get(this):Ze.propHooks._default.get(this)},run:function(e){var t,n=Ze.propHooks[this.prop];return this.options.duration?this.pos=t=_.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ze.propHooks._default.set(this),this}},Ze.prototype.init.prototype=Ze.prototype,Ze.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=_.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){_.fx.step[e.prop]?_.fx.step[e.prop](e):1!==e.elem.nodeType||!_.cssHooks[e.prop]&&null==e.elem.style[We(e.prop)]?e.elem[e.prop]=e.now:_.style(e.elem,e.prop,e.now+e.unit)}}},Ze.propHooks.scrollTop=Ze.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},_.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},_.fx=Ze.prototype.init,_.fx.step={};var et,tt,nt=/^(?:toggle|show|hide)$/,rt=/queueHooks$/;function it(){tt&&(!1===g.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(it):e.setTimeout(it,_.fx.interval),_.fx.tick())}function ot(){return e.setTimeout((function(){et=void 0})),et=Date.now()}function at(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function st(e,t,n){for(var r,i=(ut.tweeners[t]||[]).concat(ut.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function ut(e,t,n){var r,i,o=0,a=ut.prefilters.length,s=_.Deferred().always((function(){delete u.elem})),u=function(){if(i)return!1;for(var t=et||ot(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(r);return s.notifyWith(e,[c,r,n]),r<1&&a?n:(a||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:_.extend({},t),opts:_.extend(!0,{specialEasing:{},easing:_.easing._default},n),originalProperties:t,originalOptions:n,startTime:et||ot(),duration:n.duration,tweens:[],createTween:function(t,n){var r=_.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),l=c.props;for(function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=G(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=_.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(l,c.opts.specialEasing);o<a;o++)if(r=ut.prefilters[o].call(c,e,l,c.opts))return d(r.stop)&&(_._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return _.map(l,st,c),d(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),_.fx.timer(_.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c}_.Animation=_.extend(ut,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){d(e)?(t=e,e=["*"]):e=e.match(L);for(var n,r=0,i=e.length;r<i;r++)n=e[r],ut.tweeners[n]=ut.tweeners[n]||[],ut.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,c,l,h="width"in t||"height"in t,f=this,p={},d=e.style,v=e.nodeType&&ae(e),g=$.get(e,"fxshow");for(r in n.queue||(null==(a=_._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always((function(){f.always((function(){a.unqueued--,_.queue(e,"fx").length||a.empty.fire()}))}))),t)if(i=t[r],nt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(v?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;v=!0}p[r]=g&&g[r]||_.style(e,r)}if((u=!_.isEmptyObject(t))||!_.isEmptyObject(p))for(r in h&&1===e.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(c=g&&g.display)&&(c=$.get(e,"display")),"none"===(l=_.css(e,"display"))&&(c?l=c:(le([e],!0),c=e.style.display||c,l=_.css(e,"display"),le([e]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===_.css(e,"float")&&(u||(f.done((function(){d.display=c})),null==c&&(l=d.display,c="none"===l?"":l)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always((function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}))),u=!1,p)u||(g?"hidden"in g&&(v=g.hidden):g=$.access(e,"fxshow",{display:c}),o&&(g.hidden=!v),v&&le([e],!0),f.done((function(){for(r in v||le([e]),$.remove(e,"fxshow"),p)_.style(e,r,p[r])}))),u=st(v?g[r]:0,r,f),r in g||(g[r]=u.start,v&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?ut.prefilters.unshift(e):ut.prefilters.push(e)}}),_.speed=function(e,t,n){var r=e&&"object"==typeof e?_.extend({},e):{complete:n||!n&&t||d(e)&&e,duration:e,easing:n&&t||t&&!d(t)&&t};return _.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in _.fx.speeds?r.duration=_.fx.speeds[r.duration]:r.duration=_.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){d(r.old)&&r.old.call(this),r.queue&&_.dequeue(this,r.queue)},r},_.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=_.isEmptyObject(e),o=_.speed(t,n,r),a=function(){var t=ut(this,_.extend({},e),o);(i||$.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=_.timers,a=$.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&rt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||_.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=$.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=_.timers,a=r?r.length:0;for(n.finish=!0,_.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),_.each(["toggle","show","hide"],(function(e,t){var n=_.fn[t];_.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(at(t,!0),e,r,i)}})),_.each({slideDown:at("show"),slideUp:at("hide"),slideToggle:at("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){_.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),_.timers=[],_.fx.tick=function(){var e,t=0,n=_.timers;for(et=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||_.fx.stop(),et=void 0},_.fx.timer=function(e){_.timers.push(e),_.fx.start()},_.fx.interval=13,_.fx.start=function(){tt||(tt=!0,it())},_.fx.stop=function(){tt=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(t,n){return t=_.fx&&_.fx.speeds[t]||t,n=n||"fx",this.queue(n,(function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}}))},function(){var e=g.createElement("input"),t=g.createElement("select").appendChild(g.createElement("option"));e.type="checkbox",p.checkOn=""!==e.value,p.optSelected=t.selected,(e=g.createElement("input")).value="t",e.type="radio",p.radioValue="t"===e.value}();var ct,lt=_.expr.attrHandle;_.fn.extend({attr:function(e,t){return B(this,_.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){_.removeAttr(this,e)}))}}),_.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?_.prop(e,t,n):(1===o&&_.isXMLDoc(e)||(i=_.attrHooks[t.toLowerCase()]||(_.expr.match.bool.test(t)?ct:void 0)),void 0!==n?null===n?void _.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=_.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&"radio"===t&&k(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(L);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),ct={set:function(e,t,n){return!1===t?_.removeAttr(e,n):e.setAttribute(n,n),n}},_.each(_.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=lt[t]||_.find.attr;lt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=lt[a],lt[a]=i,i=null!=n(e,t,r)?a:null,lt[a]=o),i}}));var ht=/^(?:input|select|textarea|button)$/i,ft=/^(?:a|area)$/i;function pt(e){return(e.match(L)||[]).join(" ")}function dt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(L)||[]}_.fn.extend({prop:function(e,t){return B(this,_.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[_.propFix[e]||e]}))}}),_.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&_.isXMLDoc(e)||(t=_.propFix[t]||t,i=_.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=_.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||ft.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(_.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){_.propFix[this.toLowerCase()]=this})),_.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(d(e))return this.each((function(t){_(this).addClass(e.call(this,t,dt(this)))}));if((t=vt(e)).length)for(;n=this[u++];)if(i=dt(n),r=1===n.nodeType&&" "+pt(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=pt(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(d(e))return this.each((function(t){_(this).removeClass(e.call(this,t,dt(this)))}));if(!arguments.length)return this.attr("class","");if((t=vt(e)).length)for(;n=this[u++];)if(i=dt(n),r=1===n.nodeType&&" "+pt(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=pt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):d(e)?this.each((function(n){_(this).toggleClass(e.call(this,n,dt(this),t),t)})):this.each((function(){var t,i,o,a;if(r)for(i=0,o=_(this),a=vt(e);t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=dt(this))&&$.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":$.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+pt(dt(n))+" ").indexOf(t)>-1)return!0;return!1}});var gt=/\r/g;_.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=d(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,_(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=_.map(i,(function(e){return null==e?"":e+""}))),(t=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=_.valHooks[i.type]||_.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(gt,""):null==n?"":n:void 0}}),_.extend({valHooks:{option:{get:function(e){var t=_.find.attr(e,"value");return null!=t?t:pt(_.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!k(n.parentNode,"optgroup"))){if(t=_(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=_.makeArray(t),a=i.length;a--;)((r=i[a]).selected=_.inArray(_.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),_.each(["radio","checkbox"],(function(){_.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=_.inArray(_(e).val(),t)>-1}},p.checkOn||(_.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),p.focusin="onfocusin"in e;var mt=/^(?:focusinfocus|focusoutblur)$/,yt=function(e){e.stopPropagation()};_.extend(_.event,{trigger:function(t,n,r,i){var o,a,s,u,c,h,f,p,m=[r||g],y=l.call(t,"type")?t.type:t,b=l.call(t,"namespace")?t.namespace.split("."):[];if(a=p=s=r=r||g,3!==r.nodeType&&8!==r.nodeType&&!mt.test(y+_.event.triggered)&&(y.indexOf(".")>-1&&(b=y.split("."),y=b.shift(),b.sort()),c=y.indexOf(":")<0&&"on"+y,(t=t[_.expando]?t:new _.Event(y,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:_.makeArray(n,[t]),f=_.event.special[y]||{},i||!f.trigger||!1!==f.trigger.apply(r,n))){if(!i&&!f.noBubble&&!v(r)){for(u=f.delegateType||y,mt.test(u+y)||(a=a.parentNode);a;a=a.parentNode)m.push(a),s=a;s===(r.ownerDocument||g)&&m.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=m[o++])&&!t.isPropagationStopped();)p=a,t.type=o>1?u:f.bindType||y,(h=($.get(a,"events")||Object.create(null))[t.type]&&$.get(a,"handle"))&&h.apply(a,n),(h=c&&a[c])&&h.apply&&z(a)&&(t.result=h.apply(a,n),!1===t.result&&t.preventDefault());return t.type=y,i||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(m.pop(),n)||!z(r)||c&&d(r[y])&&!v(r)&&((s=r[c])&&(r[c]=null),_.event.triggered=y,t.isPropagationStopped()&&p.addEventListener(y,yt),r[y](),t.isPropagationStopped()&&p.removeEventListener(y,yt),_.event.triggered=void 0,s&&(r[c]=s)),t.result}},simulate:function(e,t,n){var r=_.extend(new _.Event,n,{type:e,isSimulated:!0});_.event.trigger(r,null,t)}}),_.fn.extend({trigger:function(e,t){return this.each((function(){_.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return _.event.trigger(e,t,n,!0)}}),p.focusin||_.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){_.event.simulate(t,e.target,_.event.fix(e))};_.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=$.access(r,t);i||r.addEventListener(e,n,!0),$.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=$.access(r,t)-1;i?$.access(r,t,i):(r.removeEventListener(e,n,!0),$.remove(r,t))}}}));var bt=e.location,wt={guid:Date.now()},_t=/\?/;_.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){}return r=n&&n.getElementsByTagName("parsererror")[0],n&&!r||_.error("Invalid XML: "+(r?_.map(r.childNodes,(function(e){return e.textContent})).join("\n"):t)),n};var Tt=/\[\]$/,Et=/\r?\n/g,It=/^(?:submit|button|image|reset|file)$/i,St=/^(?:input|select|textarea|keygen)/i;function Ct(e,t,n,r){var i;if(Array.isArray(t))_.each(t,(function(t,i){n||Tt.test(e)?r(e,i):Ct(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)}));else if(n||"object"!==b(t))r(e,t);else for(i in t)Ct(e+"["+i+"]",t[i],n,r)}_.param=function(e,t){var n,r=[],i=function(e,t){var n=d(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!_.isPlainObject(e))_.each(e,(function(){i(this.name,this.value)}));else for(n in e)Ct(n,e[n],t,i);return r.join("&")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=_.prop(this,"elements");return e?_.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!_(this).is(":disabled")&&St.test(this.nodeName)&&!It.test(e)&&(this.checked||!pe.test(e))})).map((function(e,t){var n=_(this).val();return null==n?null:Array.isArray(n)?_.map(n,(function(e){return{name:t.name,value:e.replace(Et,"\r\n")}})):{name:t.name,value:n.replace(Et,"\r\n")}})).get()}});var kt=/%20/g,xt=/#.*$/,At=/([?&])_=[^&]*/,Nt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Dt=/^(?:GET|HEAD)$/,Rt=/^\/\//,Pt={},Ot={},Lt="*/".concat("*"),Mt=g.createElement("a");function Ft(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(L)||[];if(d(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function jt(e,t,n,r){var i={},o=e===Ot;function a(s){var u;return i[s]=!0,_.each(e[s]||[],(function(e,s){var c=s(t,n,r);return"string"!=typeof c||o||i[c]?o?!(u=c):void 0:(t.dataTypes.unshift(c),a(c),!1)})),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Ut(e,t){var n,r,i=_.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&_.extend(!0,e,r),e}Mt.href=bt.href,_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(bt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Lt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ut(Ut(e,_.ajaxSettings),t):Ut(_.ajaxSettings,e)},ajaxPrefilter:Ft(Pt),ajaxTransport:Ft(Ot),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,i,o,a,s,u,c,l,h,f,p=_.ajaxSetup({},n),d=p.context||p,v=p.context&&(d.nodeType||d.jquery)?_(d):_.event,m=_.Deferred(),y=_.Callbacks("once memory"),b=p.statusCode||{},w={},T={},E="canceled",I={readyState:0,getResponseHeader:function(e){var t;if(c){if(!a)for(a={};t=Nt.exec(o);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=T[e.toLowerCase()]=T[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)I.always(e[I.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||E;return r&&r.abort(t),S(0,t),this}};if(m.promise(I),p.url=((t||p.url||bt.href)+"").replace(Rt,bt.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(L)||[""],null==p.crossDomain){u=g.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=Mt.protocol+"//"+Mt.host!=u.protocol+"//"+u.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=_.param(p.data,p.traditional)),jt(Pt,p,n,I),c)return I;for(h in(l=_.event&&p.global)&&0==_.active++&&_.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Dt.test(p.type),i=p.url.replace(xt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(kt,"+")):(f=p.url.slice(i.length),p.data&&(p.processData||"string"==typeof p.data)&&(i+=(_t.test(i)?"&":"?")+p.data,delete p.data),!1===p.cache&&(i=i.replace(At,"$1"),f=(_t.test(i)?"&":"?")+"_="+wt.guid+++f),p.url=i+f),p.ifModified&&(_.lastModified[i]&&I.setRequestHeader("If-Modified-Since",_.lastModified[i]),_.etag[i]&&I.setRequestHeader("If-None-Match",_.etag[i])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&I.setRequestHeader("Content-Type",p.contentType),I.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Lt+"; q=0.01":""):p.accepts["*"]),p.headers)I.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(d,I,p)||c))return I.abort();if(E="abort",y.add(p.complete),I.done(p.success),I.fail(p.error),r=jt(Ot,p,n,I)){if(I.readyState=1,l&&v.trigger("ajaxSend",[I,p]),c)return I;p.async&&p.timeout>0&&(s=e.setTimeout((function(){I.abort("timeout")}),p.timeout));try{c=!1,r.send(w,S)}catch(e){if(c)throw e;S(-1,e)}}else S(-1,"No Transport");function S(t,n,a,u){var h,f,g,w,T,E=n;c||(c=!0,s&&e.clearTimeout(s),r=void 0,o=u||"",I.readyState=t>0?4:0,h=t>=200&&t<300||304===t,a&&(w=function(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(p,I,a)),!h&&_.inArray("script",p.dataTypes)>-1&&_.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),w=function(e,t,n,r){var i,o,a,s,u,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=c[u+" "+o]||c["* "+o]))for(i in c)if((s=i.split(" "))[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(p,w,I,h),h?(p.ifModified&&((T=I.getResponseHeader("Last-Modified"))&&(_.lastModified[i]=T),(T=I.getResponseHeader("etag"))&&(_.etag[i]=T)),204===t||"HEAD"===p.type?E="nocontent":304===t?E="notmodified":(E=w.state,f=w.data,h=!(g=w.error))):(g=E,!t&&E||(E="error",t<0&&(t=0))),I.status=t,I.statusText=(n||E)+"",h?m.resolveWith(d,[f,E,I]):m.rejectWith(d,[I,E,g]),I.statusCode(b),b=void 0,l&&v.trigger(h?"ajaxSuccess":"ajaxError",[I,p,h?f:g]),y.fireWith(d,[I,E]),l&&(v.trigger("ajaxComplete",[I,p]),--_.active||_.event.trigger("ajaxStop")))}return I},getJSON:function(e,t,n){return _.get(e,t,n,"json")},getScript:function(e,t){return _.get(e,void 0,t,"script")}}),_.each(["get","post"],(function(e,t){_[t]=function(e,n,r,i){return d(n)&&(i=i||r,r=n,n=void 0),_.ajax(_.extend({url:e,type:t,dataType:i,data:n,success:r},_.isPlainObject(e)&&e))}})),_.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),_._evalUrl=function(e,t,n){return _.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){_.globalEval(e,t,n)}})},_.fn.extend({wrapAll:function(e){var t;return this[0]&&(d(e)&&(e=e.call(this[0])),t=_(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return d(e)?this.each((function(t){_(this).wrapInner(e.call(this,t))})):this.each((function(){var t=_(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=d(e);return this.each((function(n){_(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){_(this).replaceWith(this.childNodes)})),this}}),_.expr.pseudos.hidden=function(e){return!_.expr.pseudos.visible(e)},_.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},_.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var qt={0:200,1223:204},Vt=_.ajaxSettings.xhr();p.cors=!!Vt&&"withCredentials"in Vt,p.ajax=Vt=!!Vt,_.ajaxTransport((function(t){var n,r;if(p.cors||Vt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(qt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout((function(){n&&r()}))},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}})),_.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return _.globalEval(e),e}}}),_.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),_.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=_("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),g.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Bt,Kt=[],Ht=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Kt.pop()||_.expando+"_"+wt.guid++;return this[e]=!0,e}}),_.ajaxPrefilter("json jsonp",(function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Ht.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ht.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=d(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ht,"$1"+i):!1!==t.jsonp&&(t.url+=(_t.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||_.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always((function(){void 0===o?_(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Kt.push(i)),a&&d(o)&&o(a[0]),a=o=void 0})),"script"})),p.createHTMLDocument=((Bt=g.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Bt.childNodes.length),_.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(p.createHTMLDocument?((r=(t=g.implementation.createHTMLDocument("")).createElement("base")).href=g.location.href,t.head.appendChild(r)):t=g),o=!n&&[],(i=x.exec(e))?[t.createElement(i[1])]:(i=we([e],t,o),o&&o.length&&_(o).remove(),_.merge([],i.childNodes)));var r,i,o},_.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=pt(e.slice(s)),e=e.slice(0,s)),d(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&_.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){o=arguments,a.html(r?_("<div>").append(_.parseHTML(e)).find(r):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},_.expr.pseudos.animated=function(e){return _.grep(_.timers,(function(t){return e===t.elem})).length},_.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,c=_.css(e,"position"),l=_(e),h={};"static"===c&&(e.style.position="relative"),s=l.offset(),o=_.css(e,"top"),u=_.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1?(a=(r=l.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),d(t)&&(t=t.call(e,n,_.extend({},s))),null!=t.top&&(h.top=t.top-s.top+a),null!=t.left&&(h.left=t.left-s.left+i),"using"in t?t.using.call(e,h):l.css(h)}},_.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){_.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===_.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===_.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=_(e).offset()).top+=_.css(e,"borderTopWidth",!0),i.left+=_.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-_.css(r,"marginTop",!0),left:t.left-i.left-_.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===_.css(e,"position");)e=e.offsetParent;return e||re}))}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;_.fn[e]=function(r){return B(this,(function(e,r,i){var o;if(v(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i}),e,r,arguments.length)}})),_.each(["top","left"],(function(e,t){_.cssHooks[t]=Ve(p.pixelPosition,(function(e,n){if(n)return n=qe(e,t),Me.test(n)?_(e).position()[t]+"px":n}))})),_.each({Height:"height",Width:"width"},(function(e,t){_.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){_.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return B(this,(function(t,n,i){var o;return v(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?_.css(t,n,s):_.style(t,n,i,s)}),t,a?i:void 0,a)}}))})),_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){_.fn[t]=function(e){return this.on(t,e)}})),_.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),_.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){_.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var Wt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;_.proxy=function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),d(e))return r=i.call(arguments,2),(o=function(){return e.apply(t||this,r.concat(i.call(arguments)))}).guid=e.guid=e.guid||_.guid++,o},_.holdReady=function(e){e?_.readyWait++:_.ready(!0)},_.isArray=Array.isArray,_.parseJSON=JSON.parse,_.nodeName=k,_.isFunction=d,_.isWindow=v,_.camelCase=G,_.type=b,_.now=Date.now,_.isNumeric=function(e){var t=_.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},_.trim=function(e){return null==e?"":(e+"").replace(Wt,"")};var Gt=e.jQuery,zt=e.$;return _.noConflict=function(t){return e.$===_&&(e.$=zt),t&&e.jQuery===_&&(e.jQuery=Gt),_},void 0===t&&(e.jQuery=e.$=_),_},e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}})(La={path:Oa,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&La.path)}},La.exports),La.exports;var Fa={name:"Contact",props:{},data:()=>({search:"",uid:"",Contacts:[{id:"01",firstname:"Kristy",lastname:"Chung",middlename:"",gender:"F",email:"kristy@vuejs.com",mobile:"099-000-1234",img:"https://semantic-ui.com/images/avatar2/large/kristy.png"},{id:"02",firstname:"Matt",lastname:"Giampietro",middlename:"",gender:"M",email:"matt.g@vuejs.com",mobile:"099-000-4567",img:"https://semantic-ui.com/images/avatar2/large/matthew.png"},{id:"03",firstname:"Molly",lastname:"",middlename:"",gender:"F",email:"molly@vuejs.com",mobile:"099-123-4567",img:"https://semantic-ui.com/images/avatar2/large/molly.png"},{id:"04",firstname:"Elyse",lastname:"",middlename:"",gender:"M",email:"elyse@vuejs.com",mobile:"099-777-1111",img:"https://semantic-ui.com/images/avatar2/large/elyse.png"}]}),computed:{filterContact:function(){return this.Contacts.filter((e=>e.firstname.match(this.search)))}},mounted(){},methods:{editUser(){}}};const ja={class:""},Ua={class:"ui teal segment"},qa={class:"ui fluid action input"},Va=Yn("a",{class:"ui teal ribbon label"},"Contact",-1),Ba=Yn("div",{class:"ui button"},"Search",-1),Ka={class:"card"},Ha={class:"card-body",style:{"margin-left":"15px"}},Wa={class:"card-deck"},Ga={class:"ui centered cards"},za={class:"content"},Qa={class:"center aligned header"},$a={class:"center aligned meta"},Ya=Yn("br",null,null,-1),Xa=Yn("div",{class:"center aligned description"},null,-1),Ja={class:"center aligned extra content"},Za=Yn("i",{class:"edit outline icon"},null,-1),es=Yn("button",{class:"ui red icon button"},[Yn("i",{class:"eraser icon"})],-1);Fa.render=function(e,t,n,r,i,o){return Bn(),Hn("div",ja,[Yn("div",Ua,[Yn("form",null,[Yn("div",qa,[Va,wn(Yn("input",{type:"text",placeholder:"Search...","onUpdate:modelValue":t[1]||(t[1]=e=>i.search=e)},null,512),[[Zr,i.search]]),Ba,Yn("button",{class:"ui orange button",onClick:t[2]||(t[2]=t=>e.$router.push("/addcontact"))},"Add")])])]),Yn("div",Ka,[Yn("div",Ha,[Yn("div",Wa,[Yn("div",Ga,[(Bn(!0),Hn(Mn,null,Nr(o.filterContact,(e=>(Bn(),Hn("div",{class:"ui card",style:{"min-width":"20rem","max-width":"20rem"},key:e.id},[Yn("img",{src:e.img,class:"ui image"},null,8,["src"]),Yn("div",za,[Yn("div",Qa,u(e.firstname),1),Yn("div",$a,[Jn(u(e.mobile),1),Ya,Jn(" "+u(e.email),1)]),Xa]),Yn("div",Ja,[Yn("button",{class:"ui primary icon button",onClick:t[3]||(t[3]=(...e)=>o.editUser&&o.editUser(...e))},[Za]),es])])))),128))])])])])])};var ts={name:"AddContact",props:{},data:()=>({}),methods:{}};const ns={class:"ui form"},rs=Zn('<h3 class="ui dividing header">Contact</h3><div class="required field"><label>Contact ID</label><input type="text" name="contact-id" placeholder="Contact ID"></div><div class="required field"><label>First Name</label><input type="text" name="first-name" placeholder="First Name"></div><div class="required field"><label>Last Name</label><input type="text" name="last-name" placeholder="Last Name"></div><div class="required field"><label>Mobile No.</label><input type="text" name="mobile-num" placeholder="Mobile Number"></div><div class="field"><label>Email</label><input type="text" name="email" placeholder="Email"></div><div class="field"><label>Facebook</label><input type="text" name="facebook" placeholder="Facebook"></div><div class="field"><label>Image Url</label><input type="text" name="img-url" placeholder="Image Url"></div>',8),is={class:"ui centered buttons"},os=Yn("button",{class:"ui primary basic button",type:"submit"},"Save",-1);ts.render=function(e,t,n,r,i,o){return Bn(),Hn("form",ns,[rs,Yn("div",is,[os,Yn("button",{class:"ui primary basic button",type:"submit",onClick:t[1]||(t[1]=t=>e.$router.push("/contact"))}," Close ")])])};var as={name:"EditContact",props:{},data:()=>({}),mounted(){},methods:{}};const ss={class:"container"},us={class:"ui form"},cs=Zn('<h3 class="ui dividing header">Contact</h3><div class="required field"><label>Contact ID</label><input type="text" name="contact-id" placeholder="Contact ID"></div><div class="required field"><label>First Name</label><input type="text" name="first-name" placeholder="First Name"></div><div class="required field"><label>Last Name</label><input type="text" name="last-name" placeholder="Last Name"></div><div class="required field"><label>Mobile No.</label><input type="text" name="mobile-num" placeholder="Mobile Number"></div><div class="field"><label>Email</label><input type="text" name="email" placeholder="Email"></div><div class="field"><label>Facebook</label><input type="text" name="facebook" placeholder="Facebook"></div><div class="field"><label>Image Url</label><input type="text" name="img-url" placeholder="Image Url"></div>',8),ls={class:"ui centered buttons"},hs=Yn("button",{class:"ui primary basic button",type:"submit"},"Save",-1);as.render=function(e,t,n,r,i,o){return Bn(),Hn("div",ss,[Yn("form",us,[cs,Yn("div",ls,[hs,Yn("button",{class:"ui primary basic button",type:"submit",onClick:t[1]||(t[1]=t=>e.$router.push("/contact"))}," Close ")])])])};var fs={name:"Login",data:()=>({loginData:{username:"",password:""},incorrect:!1}),methods:{login(){"bob"==this.loginData.username&&"1234"==this.loginData.password?this.$router.push("/contact"):this.incorrect=!0}}};const ps={class:"container compact",style:{width:"400px"}},ds=Yn("div",{class:"ui teal segment"},[Yn("div",{class:"ui action input"},[Yn("a",{class:"ui teal ribbon label"},"Login")])],-1),vs={class:"ui negative message"},gs=Yn("i",{class:"close icon"},null,-1),ms=Yn("div",null," Try again! Incorrect Username and Password. ",-1),ys={class:"ui form",style:{width:"400px"}},bs={class:"field"},ws=Yn("label",null,"User Account",-1),_s={class:"field"},Ts=Yn("label",null,"Password",-1);fs.render=function(e,t,n,r,i,o){return Bn(),Hn("div",ps,[ds,wn(Yn("div",vs,[gs,ms],512),[[ri,i.incorrect]]),Yn("form",ys,[Yn("div",bs,[ws,wn(Yn("input",{type:"text",name:"user-account",placeholder:"User Account","onUpdate:modelValue":t[1]||(t[1]=e=>i.loginData.username=e)},null,512),[[Zr,i.loginData.username]])]),Yn("div",_s,[Ts,wn(Yn("input",{type:"text",name:"password",placeholder:"Password","onUpdate:modelValue":t[2]||(t[2]=e=>i.loginData.password=e)},null,512),[[Zr,i.loginData.password]])]),Yn("button",{class:"ui button",type:"submit",onClick:t[3]||(t[3]=ni(((...e)=>o.login&&o.login(...e)),["prevent"]))},"Login")])])},Ji();const Es=[{path:"/",redirect:"/login"},{path:"/:catchAll(.*)",redirect:"/login"},{path:"/login",name:"Login",component:fs},{path:"/addcontact",name:"AddContact",component:ts},{path:"/contact",name:"Contact",component:Fa},{path:"/editcontact/:contactID",name:"EditContact",component:as}],Is=function(e){const t=po(e.routes,e);let n=e.parseQuery||Fo,r=e.stringifyQuery||jo,i=e.history;const o=qo(),a=qo(),s=qo(),u=Je(eo,!0);let c=eo;ki&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=Ai.bind(null,(e=>""+e)),h=Ai.bind(null,Lo),f=Ai.bind(null,Mo);function p(e,o){if(o=xi({},o||u.value),"string"==typeof e){let r=Ri(n,e,o.path),a=t.resolve({path:r.path},o),s=i.createHref(r.fullPath);return xi(r,a,{params:f(a.params),hash:Mo(r.hash),redirectedFrom:void 0,href:s})}let a;"path"in e?a=xi({},e,{path:Ri(n,e.path,o.path).path}):(a=xi({},e,{params:h(e.params)}),o.params=h(o.params));let s=t.resolve(a,o);const c=e.hash||"";s.params=l(f(s.params));const p=function(e,t){let n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}(r,xi({},e,{hash:(d=c,Po(d).replace(Ao,"{").replace(Do,"}").replace(ko,"^")),path:s.path}));var d;let v=i.createHref(p);return xi({fullPath:p,hash:c,query:r===jo?Uo(e.query):e.query},s,{redirectedFrom:void 0,href:v})}function d(e){return"string"==typeof e?Ri(n,e,u.value.path):xi({},e)}function v(e,t){if(c!==e)return io(8,{from:t,to:e})}function g(e){return y(e)}function m(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let r="function"==typeof n?n(e):n;return"string"==typeof r&&(r=r.indexOf("?")>-1||r.indexOf("#")>-1?r=d(r):{path:r}),xi({query:e.query,hash:e.hash,params:e.params},r)}}function y(e,t){const n=c=p(e),i=u.value,o=e.state,a=e.force,s=!0===e.replace,l=m(n);if(l)return y(xi(d(l),{state:o,force:a,replace:s}),t||n);const h=n;let f;return h.redirectedFrom=t,!a&&function(e,t,n){let r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Oi(t.matched[r],n.matched[i])&&Li(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}(r,i,n)&&(f=io(16,{to:h,from:i}),N(i,i,!0,!1)),(f?Promise.resolve(f):w(h,i)).catch((e=>oo(e)?e:x(e))).then((e=>{if(e){if(oo(e,2))return y(xi(d(e.to),{state:o,force:a,replace:s}),t||h)}else e=T(h,i,!0,s,o);return _(h,i,e),e}))}function b(e,t){const n=v(e,t);return n?Promise.reject(n):Promise.resolve()}function w(e,t){let n;const[r,i,s]=function(e,t){const n=[],r=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let a=0;a<o;a++){const o=t.matched[a];o&&(e.matched.find((e=>Oi(e,o)))?r.push(o):n.push(o));const s=e.matched[a];s&&(t.matched.find((e=>Oi(e,s)))||i.push(s))}return[n,r,i]}(e,t);n=Bo(r.reverse(),"beforeRouteLeave",e,t);for(const i of r)i.leaveGuards.forEach((r=>{n.push(Vo(r,e,t))}));const u=b.bind(null,e,t);return n.push(u),$o(n).then((()=>{n=[];for(const r of o.list())n.push(Vo(r,e,t));return n.push(u),$o(n)})).then((()=>{n=Bo(i,"beforeRouteUpdate",e,t);for(const r of i)r.updateGuards.forEach((r=>{n.push(Vo(r,e,t))}));return n.push(u),$o(n)})).then((()=>{n=[];for(const r of e.matched)if(r.beforeEnter&&t.matched.indexOf(r)<0)if(Array.isArray(r.beforeEnter))for(const i of r.beforeEnter)n.push(Vo(i,e,t));else n.push(Vo(r.beforeEnter,e,t));return n.push(u),$o(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=Bo(s,"beforeRouteEnter",e,t),n.push(u),$o(n)))).then((()=>{n=[];for(const r of a.list())n.push(Vo(r,e,t));return n.push(u),$o(n)})).catch((e=>oo(e,8)?e:Promise.reject(e)))}function _(e,t,n){for(const r of s.list())r(e,t,n)}function T(e,t,n,r,o){const a=v(e,t);if(a)return a;const s=t===eo,c=ki?history.state:{};n&&(r||s?i.replace(e.fullPath,xi({scroll:s&&c&&c.scroll},o)):i.push(e.fullPath,o)),u.value=e,N(e,t,n,s),A()}let E;function I(){E=i.listen(((e,t,n)=>{let r=p(e);const o=m(r);if(o)return void y(xi(o,{replace:!0}),r).catch(Ni);c=r;const a=u.value;var s,l;ki&&(s=zi(a.fullPath,n.delta),l=Wi(),Qi.set(s,l)),w(r,a).catch((e=>oo(e,12)?e:oo(e,2)?(y(e.to,r).catch(Ni),Promise.reject()):(n.delta&&i.go(-n.delta,!1),x(e)))).then((e=>{(e=e||T(r,a,!1))&&n.delta&&i.go(-n.delta,!1),_(r,a,e)})).catch(Ni)}))}let S,C=qo(),k=qo();function x(e){return A(e),k.list().forEach((t=>t(e))),Promise.reject(e)}function A(e){S||(S=!0,I(),C.list().forEach((([t,n])=>e?n(e):t())),C.reset())}function N(t,n,r,i){const{scrollBehavior:o}=e;if(!ki||!o)return Promise.resolve();let a=!r&&function(e){const t=Qi.get(e);return Qi.delete(e),t}(zi(t.fullPath,0))||(i||!r)&&history.state&&history.state.scroll||null;return wt().then((()=>o(t,n,a))).then((e=>e&&Gi(e))).catch(x)}const D=e=>i.go(e);let R;const P=new Set;return{currentRoute:u,addRoute:function(e,n){let r,i;return Zi(e)?(r=t.getRecordMatcher(e),i=n):i=e,t.addRoute(i,r)},removeRoute:function(e){let n=t.getRecordMatcher(e);n&&t.removeRoute(n)},hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map((e=>e.record))},resolve:p,options:e,push:g,replace:function(e){return g(xi(d(e),{replace:!0}))},go:D,back:()=>D(-1),forward:()=>D(1),beforeEach:o.add,beforeResolve:a.add,afterEach:s.add,onError:k.add,isReady:function(){return S&&u.value!==eo?Promise.resolve():new Promise(((e,t)=>{C.add([e,t])}))},install(e){e.component("RouterLink",Ho),e.component("RouterView",Qo),e.config.globalProperties.$router=this,Object.defineProperty(e.config.globalProperties,"$route",{get:()=>Ze(u)}),ki&&!R&&u.value===eo&&(R=!0,g(i.location).catch((e=>{})));const t={};for(let e in eo)t[e]=xr((()=>u.value[e]));e.provide(Ii,this),e.provide(Si,Be(t)),e.provide(Ci,u);let n=e.unmount;P.add(e),e.unmount=function(){P.delete(e),P.size<1&&(E(),u.value=eo,R=!1,S=!1),n()}}}}({history:Ji(),routes:Es});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Ss=function(e,t){return(Ss=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Cs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ss(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ks=function(){return(ks=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function xs(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function As(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Ns(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ds(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Rs(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ps=!1,Os="${JSCORE_VERSION}",Ls=function(e,t){if(!e)throw Ms(t)},Ms=function(e){return new Error("Firebase Database ("+Os+") INTERNAL ASSERT FAILED: "+e)},Fs=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},js={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(f=64)),r.push(n[l],n[h],n[f],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Fs(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Us=function(e){try{return js.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function qs(e){return Vs(void 0,e)}function Vs(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Vs(e[n],t[n]));return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Bs=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Hs(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ks())}function Ws(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function Gs(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function zs(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Qs(){return!0===Ps}function $s(){return"indexedDB"in self&&null!=indexedDB}function Ys(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}function Xs(){return!(!navigator||!navigator.cookieEnabled)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Js=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Zs.prototype.create),o}return Cs(t,e),t}(Error),Zs=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?eu(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new Js(i,s,r);return u},e}();function eu(e,t){return e.replace(tu,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var tu=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(e){return JSON.parse(e)}function ru(e){return JSON.stringify(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iu=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=nu(Us(o[0])||""),n=nu(Us(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ou(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function au(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function su(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function uu(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var cu=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function lu(e,t){var n=new hu(e,t);return n.subscribe.bind(n)}var hu=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=fu),void 0===r.error&&(r.error=fu),void 0===r.complete&&(r.complete=fu);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function fu(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pu=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function du(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=r+" argument "}function vu(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(du(e,t,r)+"must be a valid function.")}function gu(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(du(e,t,r)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mu=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function yu(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}var bu=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),wu=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e="[DEFAULT]");var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Bs;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=ks({identifier:"[DEFAULT]",optional:!1},e),n=t.identifier,r=t.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService({instanceIdentifier:i});if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(e){if(r)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(e){}try{for(var r=Ns(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Ds(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(e){}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return xs(this,void 0,void 0,(function(){var e;return As(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Rs(Rs([],Ds(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),Ds(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e="[DEFAULT]"),this.instances.has(e)},e.prototype.initialize=function(e){void 0===e&&(e={});var t=e.instanceIdentifier,n=void 0===t?"[DEFAULT]":t,r=e.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(n);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:o,options:i})},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);return!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,"[DEFAULT]"===t?void 0:t),options:i}),this.instances.set(n,o)),o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _u,Tu=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new wu(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Eu(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iu,Su,Cu=[];(Su=Iu||(Iu={}))[Su.DEBUG=0]="DEBUG",Su[Su.VERBOSE=1]="VERBOSE",Su[Su.INFO=2]="INFO",Su[Su.WARN=3]="WARN",Su[Su.ERROR=4]="ERROR",Su[Su.SILENT=5]="SILENT";var ku,xu={debug:Iu.DEBUG,verbose:Iu.VERBOSE,info:Iu.INFO,warn:Iu.WARN,error:Iu.ERROR,silent:Iu.SILENT},Au=Iu.INFO,Nu=((_u={})[Iu.DEBUG]="log",_u[Iu.VERBOSE]="log",_u[Iu.INFO]="info",_u[Iu.WARN]="warn",_u[Iu.ERROR]="error",_u),Du=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=Nu[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,Eu(["["+i+"]  "+e.name+":"],n))}},Ru=function(){function e(e){this.name=e,this._logLevel=Au,this._logHandler=Du,this._userLogHandler=null,Cu.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in Iu))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?xu[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Eu([this,Iu.DEBUG],e)),this._logHandler.apply(this,Eu([this,Iu.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Eu([this,Iu.VERBOSE],e)),this._logHandler.apply(this,Eu([this,Iu.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Eu([this,Iu.INFO],e)),this._logHandler.apply(this,Eu([this,Iu.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Eu([this,Iu.WARN],e)),this._logHandler.apply(this,Eu([this,Iu.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Eu([this,Iu.ERROR],e)),this._logHandler.apply(this,Eu([this,Iu.ERROR],e))},e}();function Pu(e){Cu.forEach((function(t){t.setLogLevel(e)}))}var Ou,Lu=((ku={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ku["bad-app-name"]="Illegal App name: '{$appName}",ku["duplicate-app"]="Firebase App named '{$appName}' already exists",ku["app-deleted"]="Firebase App named '{$appName}' already deleted",ku["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ku["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ku),Mu=new Zs("app","Firebase",Lu),Fu=((Ou={})["@firebase/app"]="fire-core",Ou["@firebase/analytics"]="fire-analytics",Ou["@firebase/auth"]="fire-auth",Ou["@firebase/database"]="fire-rtdb",Ou["@firebase/functions"]="fire-fn",Ou["@firebase/installations"]="fire-iid",Ou["@firebase/messaging"]="fire-fcm",Ou["@firebase/performance"]="fire-perf",Ou["@firebase/remote-config"]="fire-rc",Ou["@firebase/storage"]="fire-gcs",Ou["@firebase/firestore"]="fire-fst",Ou["fire-js"]="fire-js",Ou["firebase-wrapper"]="fire-js-all",Ou),ju=new Ru("@firebase/app"),Uu=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=qs(e),this.container=new Tu(t.name),this._addComponent(new bu("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){ju.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Mu.create("app-deleted",{appName:this.name_})},e}();Uu.prototype.name&&Uu.prototype.options||Uu.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function qu(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw Mu.create("bad-app-name",{appName:String(a)});if(ou(t,a))throw Mu.create("duplicate-app",{appName:a});var s=new e(n,o,r);return t[a]=s,s},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=Fu[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void ju.warn(u.join(" "))}o(new bu(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:Pu,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw Mu.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=xu[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:Iu[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=Cu;r<i.length;r++)n(i[r])}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t)},apps:null,SDK_VERSION:"8.3.1",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(!ou(t,e=e||"[DEFAULT]"))throw Mu.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return ju.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[a])throw Mu.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&Vs(s,o.serviceProps),r[a]=s,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?e:[])}}for(var u=0,c=Object.keys(t);u<c.length;u++){var l=c[u];t[l]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vu=function e(){var t=qu(Uu);return t.INTERNAL=ks(ks({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Vs(t,e)},createSubscribe:lu,ErrorFactory:Zs,deepExtend:Vs}),t}(),Bu=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){ju.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ku=self.firebase.SDK_VERSION;Ku&&Ku.indexOf("LITE")>=0&&ju.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Hu=Vu.initializeApp;Vu.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ws()&&ju.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Hu.apply(void 0,e)};var Wu,Gu,zu=Vu;(Wu=zu).INTERNAL.registerComponent(new bu("platform-logger",(function(e){return new Bu(e)}),"PRIVATE")),Wu.registerVersion("@firebase/app","0.6.17",Gu),Wu.registerVersion("fire-js",""),function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var n=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,e];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}return globalThis}(this);function r(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function i(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:r(e)}}!function(e,r){if(r){var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function r(){this.a=null}function o(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;r.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=n.setTimeout;r.prototype.c=function(e){a(e,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.f(e)}}}this.a=null},r.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(e){return void this.g(e)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new r;return t.prototype.s=function(e){var t=this.f();e.Qa(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(e){o(e)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Qa(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Qa=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=o,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=i(e),a=r.next();!a.done;a=r.next())o(a.value).Qa(t,n)}))},t.all=function(e){var n=i(e),r=n.next();return r.done?o([]):new t((function(e,t){function i(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,o(r.value).Qa(i(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&s.test(e)?e:""}function l(){}function h(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function f(e){var t=h(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==h(e)}function d(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var v="closure_uid_"+(1e9*Math.random()>>>0),g=0;function m(e,t,n){return e.call.apply(e.bind,arguments)}function y(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:y).apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var _=Date.now;function T(e,t){function n(){}n.prototype=t.prototype,e.ab=t.prototype,e.prototype=new n,e.prototype.constructor=e}function E(e){return e}function I(e,t,n){this.code=k+e,this.message=t||x[e]||"",this.a=n||null}function S(e){var t=e&&e.code;return t?new I(t.substring(k.length),e.message,e.serverResponse):null}T(I,Error),I.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},I.prototype.toJSON=function(){return this.w()};var C,k="auth/",x={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},A={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function N(e){for(var t in A)if(A[t].id===e)return{firebaseEndpoint:(e=A[t]).Ta,secureTokenEndpoint:e.Za,identityPlatformEndpoint:e.Wa};return null}function D(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function R(e){if(Error.captureStackTrace)Error.captureStackTrace(this,R);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function P(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");R.call(this,n+e[r])}function O(e,t){throw new P("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function L(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function M(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function F(){this.b=this.a=null}C=N("__EID__")?"__EID__":void 0,T(R,Error),R.prototype.name="CustomError",T(P,R),P.prototype.name="AssertionError",L.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var j=new L((function(){return new q}),(function(e){e.reset()}));function U(){var e=yt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function q(){this.next=this.b=this.a=null}F.prototype.add=function(e,t){var n=j.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var V=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},B=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var K=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"==typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},H=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},W=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function G(e,t){return 0<=V(e,t)}function z(e,t){var n;return(n=0<=(t=V(e,t)))&&Array.prototype.splice.call(e,t,1),n}function Q(e,t){!function(e,t){for(var n="string"==typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function $(e){return Array.prototype.concat.apply([],arguments)}function Y(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var X,J=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},Z=/&/g,ee=/</g,te=/>/g,ne=/"/g,re=/'/g,ie=/\x00/g,oe=/[\x00&<>"']/;function ae(e,t){return-1!=e.indexOf(t)}function se(e,t){return e<t?-1:e>t?1:0}e:{var ue=a.navigator;if(ue){var ce=ue.userAgent;if(ce){X=ce;break e}}X=""}function le(e){return ae(X,e)}function he(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function fe(e){for(var t in e)return!1;return!0}function pe(e){var t,n={};for(t in e)n[t]=e[t];return n}var de="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ve(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<de.length;o++)n=de[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ge(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break e}}catch(e){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(d(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;O("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function me(e,t){this.a=e===_e&&t||"",this.b=we}function ye(e){return e instanceof me&&e.constructor===me&&e.b===we?e.a:(O("expected object of type Const, got '"+e+"'"),"type_error:Const")}me.prototype.sa=!0,me.prototype.ra=function(){return this.a},me.prototype.toString=function(){return"Const{"+this.a+"}"};var be,we={},_e={};function Te(){if(void 0===be){var e=null,t=a.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(e){a.console&&a.console.error(e.message)}be=e}else be=e}return be}function Ee(e,t){this.a=t===xe?e:""}function Ie(e){return e instanceof Ee&&e.constructor===Ee?e.a:(O("expected object of type TrustedResourceUrl, got '"+e+"' of type "+h(e)),"type_error:TrustedResourceUrl")}function Se(e,t){var n=ye(e);if(!ke.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=Te();return new Ee(e=t?t.createScriptURL(e):e,xe)}(e=n.replace(Ce,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof me?ye(e):encodeURIComponent(String(e))})))}Ee.prototype.sa=!0,Ee.prototype.ra=function(){return this.a.toString()},Ee.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ce=/%{(\w+)}/g,ke=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,xe={};function Ae(e,t){this.a=t===Me?e:""}function Ne(e){return e instanceof Ae&&e.constructor===Ae?e.a:(O("expected object of type SafeUrl, got '"+e+"' of type "+h(e)),"type_error:SafeUrl")}Ae.prototype.sa=!0,Ae.prototype.ra=function(){return this.a.toString()},Ae.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var De=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Re=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Pe=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Oe(e){if(e instanceof Ae)return e;if(e="object"==typeof e&&e.sa?e.ra():String(e),Pe.test(e))e=new Ae(e,Me);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Re);e=t&&De.test(t[1])?new Ae(e,Me):null}return e}function Le(e){return e instanceof Ae?e:(e="object"==typeof e&&e.sa?e.ra():String(e),Pe.test(e)||(e="about:invalid#zClosurez"),new Ae(e,Me))}var Me={},Fe=new Ae("about:invalid#zClosurez",Me);function je(e,t,n){this.a=n===Ue?e:""}je.prototype.sa=!0,je.prototype.ra=function(){return this.a.toString()},je.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ue={};function qe(e,t,n,r){return e=e instanceof Ae?e:Le(e),t=t||a,n=n instanceof me?ye(n):n||"",t.open(Ne(e),n,r,void 0)}function Ve(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Be(e){return oe.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(Z,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(ee,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(te,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ne,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(re,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ie,"&#0;"))),e}function Ke(e){return Ke[" "](e),e}Ke[" "]=l;var He,We,Ge=le("Opera"),ze=le("Trident")||le("MSIE"),Qe=le("Edge"),$e=Qe||ze,Ye=le("Gecko")&&!(ae(X.toLowerCase(),"webkit")&&!le("Edge"))&&!(le("Trident")||le("MSIE"))&&!le("Edge"),Xe=ae(X.toLowerCase(),"webkit")&&!le("Edge");function Je(){var e=a.document;return e?e.documentMode:void 0}e:{var Ze="",et=(We=X,Ye?/rv:([^\);]+)(\)|;)/.exec(We):Qe?/Edge\/([\d\.]+)/.exec(We):ze?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(We):Xe?/WebKit\/(\S+)/.exec(We):Ge?/(?:Version)[ \/]?(\S+)/.exec(We):void 0);if(et&&(Ze=et?et[1]:""),ze){var tt=Je();if(null!=tt&&tt>parseFloat(Ze)){He=String(tt);break e}}He=Ze}var nt,rt={};function it(e){return function(e,t){var n=rt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=J(String(He)).split("."),r=J(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=se(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||se(0==a[2].length,0==s[2].length)||se(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(a.document&&ze){var ot=Je();nt=ot||(parseInt(He,10)||void 0)}else nt=void 0;var at=nt;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(We){}var st=!ze||9<=Number(at);function ut(e){var t=document;return"string"==typeof e?t.getElementById(e):e}function ct(e,t){he(t,(function(t,n){t&&"object"==typeof t&&t.sa&&(t=t.ra()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:ft.hasOwnProperty(n)?e.setAttribute(ft[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var lt,ht,ft={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function pt(e,t,n){function r(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||d(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(d(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(p(o)){a="function"==typeof o.item;break e}}a=!1}B(a?Y(o):o,r)}}}function dt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function vt(e){a.setTimeout((function(){throw e}),0)}function gt(e,t){ht||function(){if(a.Promise&&a.Promise.resolve){var e=a.Promise.resolve(void 0);ht=function(){e.then(bt)}}else ht=function(){var e=bt;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!le("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(lt||(lt=function(){var e=a.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!le("Presto")&&(e=function(){var e=dt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=b((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!le("Trident")&&!le("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Gb;n.Gb=null,e()}},function(e){r.next={Gb:e},r=r.next,t.port2.postMessage(0)}}return function(e){a.setTimeout(e,0)}}()),lt(e)):a.setImmediate(e)}}(),mt||(ht(),mt=!0),yt.add(e,t)}var mt=!1,yt=new F;function bt(){for(var e;e=U();){try{e.a.call(e.b)}catch(e){vt(e)}M(j,e)}mt=!1}function wt(e,t){if(this.a=_t,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=l)try{var n=this;e.call(t,(function(e){Ot(n,Tt,e)}),(function(e){if(!(e instanceof Vt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}Ot(n,Et,e)}))}catch(e){Ot(this,Et,e)}}var _t=0,Tt=2,Et=3;function It(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}It.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var St=new L((function(){return new It}),(function(e){e.reset()}));function Ct(e,t,n){var r=St.get();return r.g=e,r.b=t,r.f=n,r}function kt(e){if(e instanceof wt)return e;var t=new wt(l);return Ot(t,Tt,e),t}function xt(e){return new wt((function(t,n){n(e)}))}function At(e,t,n){Lt(e,t,n,null)||gt(w(t,e))}function Nt(e){return new wt((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)At(e[o],w(i,o,!0),w(i,o,!1));else t(r)}))}function Dt(e,t){if(e.a==_t)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==_t&&1==r?Dt(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ft(n),jt(n,i,Et,t)))}e.c=null}else Ot(e,Et,t)}function Rt(e,t){e.b||e.a!=Tt&&e.a!=Et||Mt(e),e.f?e.f.next=t:e.b=t,e.f=t}function Pt(e,t,n,r){var i=Ct(null,null,null);return i.a=new wt((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(e){o(e)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Vt?o(t):e(i)}catch(e){o(e)}}:o})),i.a.c=e,Rt(e,i),i.a}function Ot(e,t,n){e.a==_t&&(e===n&&(t=Et,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Lt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Mt(e),t!=Et||n instanceof Vt||function(e,t){e.g=!0,gt((function(){e.g&&qt.call(null,t)}))}(e,n)))}function Lt(e,t,n,r){if(e instanceof wt)return Rt(e,Ct(t||l,n||null,r)),!0;if(D(e))return e.then(t,n,r),!0;if(d(e))try{var i=e.then;if(p(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(e){o(e)}}(e,i,t,n,r),!0}catch(e){return n.call(r,e),!0}return!1}function Mt(e){e.h||(e.h=!0,gt(e.gc,e))}function Ft(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function jt(e,t,n,r){if(n==Et&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Ut(t,n,r);else try{t.c?t.g.call(t.f):Ut(t,n,r)}catch(e){qt.call(null,e)}M(St,t)}function Ut(e,t,n){t==Tt?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}wt.prototype.then=function(e,t,n){return Pt(this,p(e)?e:null,p(t)?t:null,n)},wt.prototype.$goog_Thenable=!0,(e=wt.prototype).oa=function(e,t){return(e=Ct(e,e,t)).c=!0,Rt(this,e),this},e.o=function(e,t){return Pt(this,null,e,t)},e.cancel=function(e){if(this.a==_t){var t=new Vt(e);gt((function(){Dt(this,t)}),this)}},e.$c=function(e){this.a=_t,Ot(this,Tt,e)},e.ad=function(e){this.a=_t,Ot(this,Et,e)},e.gc=function(){for(var e;e=Ft(this);)jt(this,e,this.a,this.i);this.h=!1};var qt=vt;function Vt(e){R.call(this,e)}function Bt(){this.xa=this.xa,this.pa=this.pa}T(Vt,R),Vt.prototype.name="cancel";function Kt(e){!e.xa&&(e.xa=!0,e.Da(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,v)&&e[v]||(e[v]=++g)}(e)}Bt.prototype.xa=!1,Bt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ht=Object.freeze||function(e){return e},Wt=!ze||9<=Number(at),Gt=ze&&!it("9"),zt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{a.addEventListener("test",l,t),a.removeEventListener("test",l,t)}catch(e){}return e}();function Qt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function $t(e,t){if(Qt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Ye){e:{try{Ke(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Yt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Qt.prototype.preventDefault=function(){this.defaultPrevented=!0},T($t,Qt);var Yt=Ht({2:"touch",3:"pen",4:"mouse"});$t.prototype.preventDefault=function(){$t.ab.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Gt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},$t.prototype.g=function(){return this.a};var Xt="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function Zt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Va=i,this.key=++Jt,this.va=this.Pa=!1}function en(e){e.va=!0,e.listener=null,e.proxy=null,e.src=null,e.Va=null}function tn(e){this.src=e,this.a={},this.b=0}function nn(e,t){var n=t.type;n in e.a&&z(e.a[n],t)&&(en(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function rn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.va&&o.listener==t&&o.capture==!!n&&o.Va==r)return i}return-1}tn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=rn(e,t,r,i);return-1<a?(t=e[a],n||(t.Pa=!1)):((t=new Zt(t,this.src,o,!!r,i)).Pa=n,e.push(t)),t};var on="closure_lm_"+(1e6*Math.random()|0),an={};function sn(e,t,n,r,i){if(r&&r.once)cn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)sn(e,t[o],n,r,i);else n=yn(n),e&&e[Xt]?wn(e,t,n,d(r)?!!r.capture:!!r,i):un(e,t,n,!1,r,i)}function un(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=d(i)?!!i.capture:!!i,s=gn(e);if(s||(e[on]=s=new tn(e)),!(n=s.add(t,n,r,a,o)).proxy)if(r=function(){var e=vn,t=Wt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)zt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(fn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function cn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)cn(e,t[o],n,r,i);else n=yn(n),e&&e[Xt]?_n(e,t,n,d(r)?!!r.capture:!!r,i):un(e,t,n,!0,r,i)}function ln(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ln(e,t[o],n,r,i);else r=d(r)?!!r.capture:!!r,n=yn(n),e&&e[Xt]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=rn(o=e.a[t],n,r,i))&&(en(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=gn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=rn(t,n,r,i)),(n=-1<e?t[e]:null)&&hn(n))}function hn(e){if("number"!=typeof e&&e&&!e.va){var t=e.src;if(t&&t[Xt])nn(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(fn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=gn(t))?(nn(n,e),0==n.b&&(n.src=null,t[on]=null)):en(e)}}}function fn(e){return e in an?an[e]:an[e]="on"+e}function pn(e,t,n,r){var i=!0;if((e=gn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.va&&(o=dn(o,r),i=i&&!1!==o)}return i}function dn(e,t){var n=e.listener,r=e.Va||e.src;return e.Pa&&hn(e),n.call(r,t)}function vn(e,t){if(e.va)return!0;if(!Wt){if(!t)e:{t=["window","event"];for(var n=a,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new $t(r=t,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=pn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=pn(r[i],e,!1,t),n=n&&o}return n}return dn(e,new $t(t,this))}function gn(e){return(e=e[on])instanceof tn?e:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(e){return p(e)?e:(e[mn]||(e[mn]=function(t){return e.handleEvent(t)}),e[mn])}function bn(){Bt.call(this),this.v=new tn(this),this.ac=this,this.gb=null}function wn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function _n(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Tn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Va||a.src;a.Pa&&nn(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function En(e,t,n){if(p(e))n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function In(e){var t=null;return new wt((function(n,r){-1==(t=En((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw a.clearTimeout(t),e}))}function Sn(e){if(e.W&&"function"==typeof e.W)return e.W();if("string"==typeof e)return e.split("");if(f(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Cn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.W||"function"!=typeof e.W){if(f(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function kn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof kn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function xn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];An(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)An(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function An(e,t){return Object.prototype.hasOwnProperty.call(e,t)}T(bn,Bt),bn.prototype[Xt]=!0,bn.prototype.addEventListener=function(e,t,n,r){sn(this,e,t,n,r)},bn.prototype.removeEventListener=function(e,t,n,r){ln(this,e,t,n,r)},bn.prototype.dispatchEvent=function(e){var t,n=this.gb;if(n)for(t=[];n;n=n.gb)t.push(n);n=this.ac;var r=e.type||e;if("string"==typeof e)e=new Qt(e,n);else if(e instanceof Qt)e.target=e.target||n;else{var i=e;ve(e=new Qt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Tn(a,r,!0,e)&&i}if(i=Tn(a=e.b=n,r,!0,e)&&i,i=Tn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Tn(a=e.b=t[o],r,!1,e)&&i;return i},bn.prototype.Da=function(){if(bn.ab.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)en(n[r]);delete t.a[e],t.b--}}this.gb=null},(e=kn.prototype).W=function(){xn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return xn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return An(this.b,e)?this.b[e]:t},e.set=function(e,t){An(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Nn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Dn?(this.i=void 0!==t?t:e.i,Rn(this,e.c),this.l=e.l,this.a=e.a,Pn(this,e.g),this.f=e.f,On(this,Zn(e.b)),this.h=e.h):e&&(n=String(e).match(Nn))?(this.i=!!t,Rn(this,n[1]||"",!0),this.l=Un(n[2]||""),this.a=Un(n[3]||"",!0),Pn(this,n[4]),this.f=Un(n[5]||"",!0),On(this,n[6]||"",!0),this.h=Un(n[7]||"")):(this.i=!!t,this.b=new zn(null,this.i))}function Rn(e,t,n){e.c=n?Un(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Pn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function On(e,t,n){t instanceof zn?(e.b=t,function(e,t){t&&!e.f&&(Qn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Yn(this,t),Jn(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=qn(t,Wn)),e.b=new zn(t,e.i))}function Ln(e,t,n){e.b.set(t,n)}function Mn(e,t){return e.b.get(t)}function Fn(e){return e instanceof Dn?new Dn(e):new Dn(e,void 0)}function jn(e,t,n,r){var i=new Dn(null,void 0);return e&&Rn(i,e),t&&(i.a=t),n&&Pn(i,n),r&&(i.f=r),i}function Un(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function qn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Vn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Vn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Dn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(qn(t,Bn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(qn(t,Bn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(qn(n,"/"==n.charAt(0)?Hn:Kn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",qn(n,Gn)),e.join("")},Dn.prototype.resolve=function(e){var t=new Dn(this),n=!!e.c;n?Rn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Pn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ae(i,"./")||ae(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?On(t,Zn(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Bn=/[#\/\?@]/g,Kn=/[#\?:]/g,Hn=/[#\?]/g,Wn=/[#\?@]/g,Gn=/#/g;function zn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Qn(e){e.a||(e.a=new kn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function $n(e){var t=Cn(e);if(void 0===t)throw Error("Keys are undefined");var n=new zn(null,void 0);e=Sn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?Jn(n,i,o):n.add(i,o)}return n}function Yn(e,t){Qn(e),t=er(e,t),An(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,An((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&xn(e)))}function Xn(e,t){return Qn(e),t=er(e,t),An(e.a.b,t)}function Jn(e,t,n){Yn(e,t),0<n.length&&(e.c=null,e.a.set(er(e,t),Y(n)),e.b+=n.length)}function Zn(e){var t=new zn;return t.c=e.c,e.a&&(t.a=new kn(e.a),t.b=e.b),t}function er(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function tr(e){var t=[];return rr(new nr,e,t),t.join("")}function nr(){}function rr(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),rr(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(o=t[r])&&(n.push(i),ar(r,n),n.push(":"),rr(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":ar(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=zn.prototype).add=function(e,t){Qn(this),this.c=null,e=er(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Qn(this),this.a.forEach((function(n,r){B(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Qn(this);for(var e=this.a.W(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.W=function(e){Qn(this);var t=[];if("string"==typeof e)Xn(this,e)&&(t=$(t,this.a.get(er(this,e))));else{e=this.a.W();for(var n=0;n<e.length;n++)t=$(t,e[n])}return t},e.set=function(e,t){return Qn(this),this.c=null,Xn(this,e=er(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},or=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ar(e,t){t.push('"',e.replace(or,(function(e){var t=ir[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),ir[e]=t),t})),'"')}function sr(){var e=kr();return ze&&!!at&&11==at||/Edge\/\d+/.test(e)}function ur(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function cr(e,t){t=t||a.window;var n="about:blank";e&&(n=Ne(Oe(e)||Fe)),t.location.href=n}function lr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<lr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function hr(e){return!!((e=(e||kr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function fr(e){e=e||a.window;try{e.close()}catch(e){}}function pr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=kr().toLowerCase(),r&&(t.target=r,ae(n,"crios/")&&(t.target="_blank")),Ir(kr())==Tr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Ae?n:Oe(void 0!==n.href?n.href:String(n))||Fe,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((le("iPhone")&&!le("iPod")&&!le("iPad")||le("iPad")||le("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(ge(a=dt(document,"A"),"HTMLAnchorElement"),t=t instanceof Ae?t:Le(t),a.href=Ne(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=qe("",r,n,a),e=Ne(t),a&&($e&&ae(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Be(e)+'">',e=new je(e=(r=Te())?r.createHTML(e):e,null,Ue),r=a.document)&&(r.write(function(e){return e instanceof je&&e.constructor===je?e.a:(O("expected object of type SafeHtml, got '"+e+"' of type "+h(e)),"type_error:SafeHtml")}(e)),r.close())):(a=qe(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(e){}return a}var dr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vr=/^[^@]+@[^@]+$/;function gr(){var e=null;return new wt((function(t){"complete"==a.document.readyState?t():(e=function(){t()},cn(window,"load",e))})).o((function(t){throw ln(window,"load",e),t}))}function mr(e){return e=e||kr(),!("file:"!==Rr()&&"ionic:"!==Rr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function yr(){var e=a.window;try{return!(!e||e==e.top)}catch(e){return!1}}function br(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function wr(){return zu.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":zu.INTERNAL.hasOwnProperty("node")?"Node":br()?"Worker":"Browser"}function _r(){var e=wr();return"ReactNative"===e||"Node"===e}var Tr="Firefox",Er="Chrome";function Ir(e){var t=e.toLowerCase();return ae(t,"opera/")||ae(t,"opr/")||ae(t,"opios/")?"Opera":ae(t,"iemobile")?"IEMobile":ae(t,"msie")||ae(t,"trident/")?"IE":ae(t,"edge/")?"Edge":ae(t,"firefox/")?Tr:ae(t,"silk/")?"Silk":ae(t,"blackberry")?"Blackberry":ae(t,"webos")?"Webos":!ae(t,"safari/")||ae(t,"chrome/")||ae(t,"crios/")||ae(t,"android")?!ae(t,"chrome/")&&!ae(t,"crios/")||ae(t,"edge/")?ae(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Er:"Safari"}var Sr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Cr(e,t){t=t||[];var n,r=[],i={};for(n in Sr)i[Sr[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=wr())?r=Ir(i=kr()):"Worker"===r&&(r=Ir(i=kr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function kr(){return a.navigator&&a.navigator.userAgent||""}function xr(e,t){e=e.split("."),t=t||a;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Ar(){try{var e=a.localStorage,t=Fr();if(e)return e.setItem(t,"1"),e.removeItem(t),!sr()||!!a.indexedDB}catch(e){return br()&&!!a.indexedDB}return!1}function Nr(){return(Dr()||"chrome-extension:"===Rr()||mr())&&!_r()&&Ar()&&!br()}function Dr(){return"http:"===Rr()||"https:"===Rr()}function Rr(){return a.location&&a.location.protocol||null}function Pr(e){return!hr(e=e||kr())&&Ir(e)!=Tr}function Or(e){return void 0===e?null:tr(e)}function Lr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Mr(e){if(null!==e)return JSON.parse(e)}function Fr(e){return e||Math.floor(1e9*Math.random()).toString()}function jr(e){return"Safari"!=Ir(e=e||kr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Ur(){var e=a.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function qr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=kr(),t=wr(),this.b=hr(e)||"ReactNative"===t}function Vr(){var e=a.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Br(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function Kr(){return!(!xr("fireauth.oauthhelper",a)&&!xr("fireauth.iframe",a))}qr.prototype.get=function(){var e=a.navigator;return!e||"boolean"!=typeof e.onLine||!Dr()&&"chrome-extension:"!==Rr()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Hr,Wr={};function Gr(e){Wr[e]||(Wr[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var zr={};Object.defineProperty(zr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(zr,"abcd",{configurable:!0,enumerable:!0,value:2}),Hr=2==zr.abcd}catch(We){Hr=!1}function Qr(e,t,n){Hr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function $r(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Qr(e,n,t[n])}function Yr(e){var t={};return $r(t,e),t}function Xr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Qr(t,n,Xr(e[n]));return t}function Jr(e){var t=e&&(e[ri]?"phone":null);if(!(t&&e&&e[ni]))throw new I("internal-error","Internal assert: invalid MultiFactorInfo object");Qr(this,"uid",e[ni]),Qr(this,"displayName",e[ei]||null);var n=null;e[ti]&&(n=new Date(e[ti]).toUTCString()),Qr(this,"enrollmentTime",n),Qr(this,"factorId",t)}function Zr(e){try{var t=new ii(e)}catch(e){t=null}return t}Jr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ei="displayName",ti="enrolledAt",ni="mfaEnrollmentId",ri="phoneInfo";function ii(e){Jr.call(this,e),Qr(this,"phoneNumber",e[ri])}function oi(e){var t={},n=e[ci],r=e[hi],i=e[fi];if(e=Zr(e[li]),!i||i!=si&&i!=ui&&!n||i==ui&&!r||i==ai&&!e)throw Error("Invalid checkActionCode response!");i==ui?(t[di]=n||null,t[gi]=n||null,t[pi]=r):(t[di]=r||null,t[gi]=r||null,t[pi]=n||null),t[vi]=e||null,Qr(this,yi,i),Qr(this,mi,Xr(t))}T(ii,Jr),ii.prototype.w=function(){var e=ii.ab.w.call(this);return e.phoneNumber=this.phoneNumber,e};var ai="REVERT_SECOND_FACTOR_ADDITION",si="EMAIL_SIGNIN",ui="VERIFY_AND_CHANGE_EMAIL",ci="email",li="mfaInfo",hi="newEmail",fi="requestType",pi="email",di="fromEmail",vi="multiFactorInfo",gi="previousEmail",mi="data",yi="operation";function bi(e){var t=Mn(e=Fn(e),wi)||null,n=Mn(e,_i)||null,r=Mn(e,Ii)||null;if(r=r&&Ci[r]||null,!t||!n||!r)throw new I("argument-error",wi+", "+_i+"and "+Ii+" are required in a valid action code URL.");$r(this,{apiKey:t,operation:r,code:n,continueUrl:Mn(e,Ti)||null,languageCode:Mn(e,Ei)||null,tenantId:Mn(e,Si)||null})}var wi="apiKey",_i="oobCode",Ti="continueUrl",Ei="languageCode",Ii="mode",Si="tenantId",Ci={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ai,signIn:si,verifyAndChangeEmail:ui,verifyEmail:"VERIFY_EMAIL"};function ki(e){try{return new bi(e)}catch(e){return null}}function xi(e){var t=e[Pi];if(void 0===t)throw new I("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new I("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Ai];if(n&&"object"==typeof n){t=n[Mi];var r=n[Oi];if(n=n[Li],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new I("argument-error",Oi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new I("argument-error",Li+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new I("argument-error",Mi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new I("missing-android-pkg-name")}}else if(void 0!==n)throw new I("argument-error",Ai+" property must be a non null object when specified.");if(this.f=null,(t=e[Ri])&&"object"==typeof t){if("string"==typeof(t=t[Fi])&&t.length)this.f=t;else if(void 0!==t)throw new I("argument-error",Fi+" property must be a non empty string when specified.")}else if(void 0!==t)throw new I("argument-error",Ri+" property must be a non null object when specified.");if(void 0!==(t=e[Di])&&"boolean"!=typeof t)throw new I("argument-error",Di+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[Ni])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new I("argument-error",Ni+" property must be a non empty string when specified.");this.i=e||null}var Ai="android",Ni="dynamicLinkDomain",Di="handleCodeInApp",Ri="iOS",Pi="url",Oi="installApp",Li="minimumVersion",Mi="packageName",Fi="bundleId";function ji(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Ui=null;function qi(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Ui[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Ui){Ui={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ui[o]&&(Ui[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}function Vi(e){var t=Ki(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Bi(e){try{return new Vi(e)}catch(e){return null}}function Ki(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=qi(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(e){}return null}Vi.prototype.T=function(){return this.f},Vi.prototype.l=function(){return this.c},Vi.prototype.toString=function(){return this.h};var Hi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Wi=["client_id","response_type","scope","redirect_uri","state"],Gi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Wi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Wi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Wi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Hi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function zi(e){for(var t in Gi)if(Gi[t].fa==e)return Gi[t];return null}function Qi(e){var t={};t["facebook.com"]=Zi,t["google.com"]=to,t["github.com"]=eo,t["twitter.com"]=no;var n=e&&e[Yi];try{if(n)return t[n]?new t[n](e):new Ji(e);if(void 0!==e[$i])return new Xi(e)}catch(e){}return null}var $i="idToken",Yi="providerId";function Xi(e){var t=e[Yi];if(!t&&e[$i]){var n=Bi(e[$i]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Qr(this,"providerId",t),Qr(this,"isNewUser",n)}function Ji(e){Xi.call(this,e),Qr(this,"profile",Xr((e=Mr(e.rawUserInfo||"{}"))||{}))}function Zi(e){if(Ji.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(e){if(Ji.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",this.profile&&this.profile.login||null)}function to(e){if(Ji.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(e){if(Ji.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",e.screenName||null)}function ro(e){var t=Fn(e),n=Mn(t,"link"),r=Mn(Fn(n),"link");return t=Mn(t,"deep_link_id"),Mn(Fn(t),"link")||t||r||n||e}function io(e,t){if(!e&&!t)throw new I("internal-error","Internal assert: no raw session string available");if(e&&t)throw new I("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?oo:ao}T(Ji,Xi),T(Zi,Ji),T(eo,Ji),T(to,Ji),T(no,Ji);var oo="enroll",ao="signin";function so(){}function uo(e,t){return e.then((function(e){if(e[Xa]){var n=Bi(e[Xa]);if(!n||t!=n.i)throw new I("user-mismatch");return e}throw new I("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==k+"user-not-found"?new I("user-mismatch"):e}))}function co(e,t){if(!t)throw new I("internal-error","failed to construct a credential");this.a=t,Qr(this,"providerId",e),Qr(this,"signInMethod",e)}function lo(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function ho(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new co(e.providerId,e.pendingToken)}catch(e){}return null}function fo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Qr(this,"idToken",t.idToken),t.accessToken&&Qr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Qr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new I("internal-error","failed to construct a credential");Qr(this,"accessToken",t.oauthToken),Qr(this,"secret",t.oauthTokenSecret)}Qr(this,"providerId",e),Qr(this,"signInMethod",n)}function po(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:$n(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function vo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new fo(e.providerId,t,e.signInMethod)}catch(e){}}return null}function go(e,t){this.Qc=t||[],$r(this,{providerId:e,isOAuthProvider:!0}),this.Ib={},this.pb=(zi(e)||{}).Ja||null,this.ob=null}function mo(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new I("argument-error",'SAML provider IDs must be prefixed with "saml."');go.call(this,e,[])}function yo(e){go.call(this,e,Wi),this.a=[]}function bo(){yo.call(this,"facebook.com")}function wo(e){if(!e)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return d(e)&&(t=e.accessToken),(new bo).credential({accessToken:t})}function _o(){yo.call(this,"github.com")}function To(e){if(!e)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return d(e)&&(t=e.accessToken),(new _o).credential({accessToken:t})}function Eo(){yo.call(this,"google.com"),this.Ca("profile")}function Io(e,t){var n=e;return d(e)&&(n=e.idToken,t=e.accessToken),(new Eo).credential({idToken:n,accessToken:t})}function So(){go.call(this,"twitter.com",Hi)}function Co(e,t){var n=e;if(d(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new I("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new fo("twitter.com",n,"twitter.com")}function ko(e,t,n){this.a=e,this.f=t,Qr(this,"providerId","password"),Qr(this,"signInMethod",n===Ao.EMAIL_LINK_SIGN_IN_METHOD?Ao.EMAIL_LINK_SIGN_IN_METHOD:Ao.EMAIL_PASSWORD_SIGN_IN_METHOD)}function xo(e){return e&&e.email&&e.password?new ko(e.email,e.password,e.signInMethod):null}function Ao(){$r(this,{providerId:"password",isOAuthProvider:!1})}function No(e,t){if(!(t=Do(t)))throw new I("argument-error","Invalid email link!");return new ko(e,t.code,Ao.EMAIL_LINK_SIGN_IN_METHOD)}function Do(e){return(e=ki(e=ro(e)))&&e.operation===si?e:null}function Ro(e){if(!(e.eb&&e.cb||e.La&&e.ea))throw new I("internal-error");this.a=e,Qr(this,"providerId","phone"),this.fa="phone",Qr(this,"signInMethod","phone")}function Po(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return B(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Ro(t)}return null}function Oo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.eb,code:e.a.cb}}function Lo(e){try{this.a=e||zu.auth()}catch(e){throw new I("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}$r(this,{providerId:"phone",isOAuthProvider:!1})}function Mo(e,t){if(!e)throw new I("missing-verification-id");if(!t)throw new I("missing-verification-code");return new Ro({eb:e,cb:t})}function Fo(e){if(e.temporaryProof&&e.phoneNumber)return new Ro({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Io(o,n);case"facebook.com":return wo(n);case"github.com":return To(n);case"twitter.com":return Co(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new co(t,a):new fo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new yo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(e){return null}}function jo(e){if(!e.isOAuthProvider)throw new I("invalid-oauth-provider")}function Uo(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new I("invalid-auth-event");if(this.g&&this.a)throw new I("invalid-auth-event");if(this.g&&!this.f)throw new I("invalid-auth-event")}function qo(e){return(e=e||{}).type?new Uo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&S(e.error),e.postBody,e.tenantId):null}function Vo(){this.b=null,this.a=[]}io.prototype.Ha=function(){return this.a?kt(this.a):kt(this.b)},io.prototype.w=function(){return this.type==oo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},so.prototype.ka=function(){},so.prototype.b=function(){},so.prototype.c=function(){},so.prototype.w=function(){},co.prototype.ka=function(e){return bs(e,lo(this))},co.prototype.b=function(e,t){var n=lo(this);return n.idToken=t,ws(e,n)},co.prototype.c=function(e,t){return uo(_s(e,lo(this)),t)},co.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},fo.prototype.ka=function(e){return bs(e,po(this))},fo.prototype.b=function(e,t){var n=po(this);return n.idToken=t,ws(e,n)},fo.prototype.c=function(e,t){return uo(_s(e,po(this)),t)},fo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},go.prototype.Ka=function(e){return this.Ib=pe(e),this},T(mo,go),T(yo,go),yo.prototype.Ca=function(e){return G(this.a,e)||this.a.push(e),this},yo.prototype.Qb=function(){return Y(this.a)},yo.prototype.credential=function(e,t){var n;if(!(n=d(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new I("argument-error","credential failed: must provide the ID token and/or the access token.");return new fo(this.providerId,n,this.providerId)},T(bo,yo),Qr(bo,"PROVIDER_ID","facebook.com"),Qr(bo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(_o,yo),Qr(_o,"PROVIDER_ID","github.com"),Qr(_o,"GITHUB_SIGN_IN_METHOD","github.com"),T(Eo,yo),Qr(Eo,"PROVIDER_ID","google.com"),Qr(Eo,"GOOGLE_SIGN_IN_METHOD","google.com"),T(So,go),Qr(So,"PROVIDER_ID","twitter.com"),Qr(So,"TWITTER_SIGN_IN_METHOD","twitter.com"),ko.prototype.ka=function(e){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?nu(e,As,{email:this.a,oobCode:this.f}):nu(e,Xs,{email:this.a,password:this.f})},ko.prototype.b=function(e,t){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?nu(e,Ns,{idToken:t,email:this.a,oobCode:this.f}):nu(e,Ks,{idToken:t,email:this.a,password:this.f})},ko.prototype.c=function(e,t){return uo(this.ka(e),t)},ko.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},$r(Ao,{PROVIDER_ID:"password"}),$r(Ao,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),$r(Ao,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ro.prototype.ka=function(e){return e.fb(Oo(this))},Ro.prototype.b=function(e,t){var n=Oo(this);return n.idToken=t,nu(e,Zs,n)},Ro.prototype.c=function(e,t){var n=Oo(this);return n.operation="REAUTH",uo(e=nu(e,eu,n),t)},Ro.prototype.w=function(){var e={providerId:"phone"};return this.a.eb&&(e.verificationId=this.a.eb),this.a.cb&&(e.verificationCode=this.a.cb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Lo.prototype.fb=function(e,t){var n=this.a.a;return kt(t.verify()).then((function(r){if("string"!=typeof r)throw new I("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":var i=d(e)?e.session:null,o=d(e)?e.phoneNumber:e;return(i&&i.type==oo?i.Ha().then((function(e){return function(e,t){return nu(e,Ws,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==ao?i.Ha().then((function(t){return function(e,t){return nu(e,Gs,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return nu(e,Vs,t)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}));default:throw new I("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},$r(Lo,{PROVIDER_ID:"phone"}),$r(Lo,{PHONE_SIGN_IN_METHOD:"phone"}),Uo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Uo.prototype.T=function(){return this.h},Uo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Bo,Ko=null;function Ho(e){var t="unauthorized-domain",n=void 0,r=Fn(e);e=r.a,"chrome-extension"==(r=r.c)?n=Ve("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Ve("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",I.call(this,t,n)}function Wo(e,t,n){I.call(this,e,n),(e=t||{}).Jb&&Qr(this,"email",e.Jb),e.ea&&Qr(this,"phoneNumber",e.ea),e.credential&&Qr(this,"credential",e.credential),e.Zb&&Qr(this,"tenantId",e.Zb)}function Go(e){if(e.code){var t=e.code||"";0==t.indexOf(k)&&(t=t.substring(k.length));var n={credential:Fo(e),Zb:e.tenantId};if(e.email)n.Jb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new I(t,e.message||void 0);return new Wo(t,n,e.message)}return null}function zo(){}function Qo(e){return e.c||(e.c=e.b())}function $o(){}function Yo(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Xo(){}function Jo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Sb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function Zo(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function ea(e,t,n){this.reset(e,t,n,void 0,void 0)}function ta(e){this.f=e,this.b=this.c=this.a=null}function na(e,t){this.name=e,this.value=t}T(Ho,I),T(Wo,I),Wo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&ve(e,t),e},Wo.prototype.toJSON=function(){return this.w()},zo.prototype.c=null,T($o,zo),$o.prototype.a=function(){var e=Yo(this);return e?new ActiveXObject(e):new XMLHttpRequest},$o.prototype.b=function(){var e={};return Yo(this)&&(e[0]=!0,e[1]=!0),e},Bo=new $o,T(Xo,zo),Xo.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Jo;throw Error("Unsupported browser")},Xo.prototype.b=function(){return{}},(e=Jo.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Zo(this,4)},e.Sb=function(){this.status=500,this.response=this.responseText="",Zo(this,4)},e.vc=function(){this.Sb()},e.rc=function(){this.status=200,Zo(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ea.prototype.a=null,ea.prototype.reset=function(e,t,n,r,i){delete this.a},na.prototype.toString=function(){return this.name};var ra=new na("SEVERE",1e3),ia=new na("WARNING",900),oa=new na("CONFIG",700),aa=new na("FINE",500);function sa(e){return e.c?e.c:e.a?sa(e.a):(O("Root logger has no level set."),null)}ta.prototype.log=function(e,t,n){if(e.value>=sa(this).value)for(p(t)&&(t=t()),e=new ea(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var ua={},ca=null;function la(e){var t;if(ca||(ca=new ta(""),ua[""]=ca,ca.c=oa),!(t=ua[e])){t=new ta(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=la(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,ua[e]=t}return t}function ha(e,t){e&&e.log(aa,t,void 0)}function fa(e){this.f=e}function pa(e){bn.call(this),this.u=e,this.h=void 0,this.readyState=da,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=la("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}T(fa,zo),fa.prototype.a=function(){return new pa(this.f)},fa.prototype.b=function(e){return function(){return e}}({}),T(pa,bn);var da=0;function va(e){e.c.read().then(e.pc.bind(e)).catch(e.Ua.bind(e))}function ga(e){e.readyState=4,e.g=null,e.c=null,e.m=null,ma(e)}function ma(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function ya(e){bn.call(this),this.headers=new kn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ba,this.u=this.S=!1}(e=pa.prototype).open=function(e,t){if(this.readyState!=da)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,ma(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Ua.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ga(this)),this.readyState=da},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,ma(this)),this.a&&(this.readyState=3,ma(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==a.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,va(this)):e.text().then(this.tc.bind(this),this.Ua.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?ga(this):ma(this),3==this.readyState&&va(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,ga(this))},e.sc=function(e){this.a&&(this.response=e,ga(this))},e.Ua=function(e){var t=this.i;t&&t.log(ia,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&ga(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(ia,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(ia,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(pa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),T(ya,bn);var ba="";ya.prototype.b=la("goog.net.XhrIo");var wa=/^https?$/i,_a=["POST","PUT"];function Ta(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.R=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Bo.a(),e.C=e.D?Qo(e.D):Qo(Bo),e.a.onreadystatechange=b(e.Vb,e);try{ha(e.b,Da(e,"Opening Xhr")),e.O=!0,e.a.open(n,String(t),!0),e.O=!1}catch(t){return ha(e.b,Da(e,"Error opening Xhr: "+t.message)),void Ia(e,t)}t=r||"";var o=new kn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(f(e)||"string"==typeof e)B(e,t,void 0);else for(var n=Cn(e),r=Sn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=Ea,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(o.Y()),r=a.FormData&&t instanceof a.FormData,!G(_a,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{xa(e),0<e.g&&(e.u=function(e){return ze&&it(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),ha(e.b,Da(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=b(e.Ma,e)):e.s=En(e.Ma,e.g,e)),ha(e.b,Da(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){ha(e.b,Da(e,"Send error: "+t.message)),Ia(e,t)}}function Ea(e){return"content-type"==e.toLowerCase()}function Ia(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Sa(e),ka(e)}function Sa(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Ca(e){if(e.c&&void 0!==o)if(e.C[1]&&4==Aa(e)&&2==Na(e))ha(e.b,Da(e,"Local request error detected and ignored"));else if(e.i&&4==Aa(e))En(e.Vb,0,e);else if(e.dispatchEvent("readystatechange"),4==Aa(e)){ha(e.b,Da(e,"Request complete")),e.c=!1;try{var t,n=Na(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var s=String(e.l).match(Nn)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!wa.test(s?s.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Aa(e)?e.a.statusText:""}catch(t){ha(e.b,"Can not get status: "+t.message),c=""}e.h=c+" ["+Na(e)+"]",Sa(e)}}finally{ka(e)}}}function ka(e,t){if(e.a){xa(e);var n=e.a,r=e.C[0]?l:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.b)&&e.log(ra,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function xa(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(a.clearTimeout(e.s),e.s=null)}function Aa(e){return e.a?e.a.readyState:0}function Na(e){try{return 2<Aa(e)?e.a.status:-1}catch(e){return-1}}function Da(e,t){return t+" ["+e.R+" "+e.l+" "+Na(e)+"]"}function Ra(e){var t=Ka;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Pa(e,t,n){e.a=!0,e.c=n,e.f=!t,Fa(e)}function Oa(e){if(e.a){if(!e.v)throw new ja(e);e.v=!1}}function La(e,t,n,r){e.g.push([t,n,r]),e.a&&Fa(e)}function Ma(e){return W(e.g,(function(e){return p(e[1])}))}function Fa(e){if(e.h&&e.a&&Ma(e)){var t=e.h,n=Va[t];n&&(a.clearTimeout(n.a),delete Va[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],s=i[1];if(i=i[2],o=e.f?s:o)try{var u=o.call(i||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(D(t)||"function"==typeof a.Promise&&t instanceof a.Promise)&&(r=!0,e.i=!0)}catch(r){t=r,e.f=!0,Ma(e)||(n=!0)}}e.c=t,r&&(u=b(e.m,e,!0),r=b(e.m,e,!1),t instanceof Ra?(La(t,u,r),t.C=!0):t.then(u,r)),n&&(t=new qa(t),Va[t.a]=t,e.h=t.a)}function ja(){R.call(this)}function Ua(){R.call(this)}function qa(e){this.a=a.setTimeout(b(this.c,this),0),this.b=e}(e=ya.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ha(this.b,Da(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(ha(this.b,Da(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ka(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ka(this,!0)),ya.ab.Da.call(this)},e.Vb=function(){this.xa||(this.O||this.i||this.f?Ca(this):this.Jc())},e.Jc=function(){Ca(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ba:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(ra,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ha(this.b,"Can not get response: "+e.message),null}},Ra.prototype.cancel=function(e){if(this.a)this.c instanceof Ra&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Ua(this),Oa(this),Pa(this,!1,e))}},Ra.prototype.m=function(e,t){this.i=!1,Pa(this,e,t)},Ra.prototype.then=function(e,t,n){var r,i,o=new wt((function(e,t){r=e,i=t}));return La(this,r,(function(e){e instanceof Ua?o.cancel():i(e)})),o.then(e,t,n)},Ra.prototype.$goog_Thenable=!0,T(ja,R),ja.prototype.message="Deferred has already fired",ja.prototype.name="AlreadyCalledError",T(Ua,R),Ua.prototype.message="Deferred was canceled",Ua.prototype.name="CanceledError",qa.prototype.c=function(){throw delete Va[this.a],this.b};var Va={};function Ba(e){var t,n=document,r=Ie(e).toString(),i=dt(document,"SCRIPT"),o={Wb:i,Ma:void 0},s=new Ra(o);return t=window.setTimeout((function(){Ha(i,!0);var e=new za(Ga,"Timeout reached for loading script "+r);Oa(s),Pa(s,!1,e)}),5e3),o.Ma=t,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ha(i,!1,t),Oa(s),Pa(s,!0,null))},i.onerror=function(){Ha(i,!0,t);var e=new za(Wa,"Error while loading script "+r);Oa(s),Pa(s,!1,e)},ve(o={},{type:"text/javascript",charset:"UTF-8"}),ct(i,o),function(e,t){ge(e,"HTMLScriptElement"),e.src=Ie(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=a?t=c(t.document):(null===u&&(u=c(a.document)),t=u),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),s}function Ka(){if(this&&this.Wb){var e=this.Wb;e&&"SCRIPT"==e.tagName&&Ha(e,!0,this.Ma)}}function Ha(e,t,n){null!=n&&a.clearTimeout(n),e.onload=l,e.onerror=l,e.onreadystatechange=l,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Wa=0,Ga=1;function za(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),R.call(this,n),this.code=e}function Qa(e){this.f=e}function $a(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Ja,this.g=pe(e.secureTokenHeaders||Za),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||es,this.a=pe(e.firebaseHeaders||ts),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==wr(),!(n=a.XMLHttpRequest||n&&zu.INTERNAL.node&&zu.INTERNAL.node.XMLHttpRequest)&&!br())throw new I("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,br()?this.f=new fa(self):_r()?this.f=new Qa(n):this.f=new Xo,this.b=null}T(za,R),T(Qa,zo),Qa.prototype.a=function(){return new this.f},Qa.prototype.b=function(){return{}};var Ya,Xa="idToken",Ja=new qr(3e4,6e4),Za={"Content-Type":"application/x-www-form-urlencoded"},es=new qr(3e4,6e4),ts={"Content-Type":"application/json"};function ns(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function rs(e,t){t&&(e.l=is("https://securetoken.googleapis.com/v1/token",t),e.h=is("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=is("https://identitytoolkit.googleapis.com/v2/",t))}function is(e,t){return e=Fn(e),t=Fn(t.url),e.f=e.a+e.f,Rn(e,t.c),e.a=t.a,Pn(e,t.g),e.toString()}function os(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function as(e,t,n,r,i,o,s){(function(){var e=kr();return!((e=Ir(e)!=Er?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||ze&&at&&!(9<at))})()||br()?e=b(e.u,e):(Ya||(Ya=new wt((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{a[us]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){La(e,null,t,void 0)}(Ba(Se(ss,{onload:us})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=b(e.s,e)),e(t,n,r,i,o,s)}$a.prototype.T=function(){return this.b},$a.prototype.u=function(e,t,n,r,i,o){if(br()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new I("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ya(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout((function(){s.dispatchEvent("timeout")}),o)}wn(s,"complete",(function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return ha(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){e=null}t&&t(e)})),_n(s,"ready",(function(){u&&clearTimeout(u),Kt(this)})),_n(s,"timeout",(function(){u&&clearTimeout(u),Kt(this),t&&t(null)})),Ta(s,e,n,r,i)};var ss=new me(_e,"https://apis.google.com/js/client.js?onload=%{onload}"),us="__fcb"+Math.floor(1e6*Math.random()).toString();function cs(e,t,n,r,i,o,a){var s=Fn(t+n);Ln(s,"key",e.c),a&&Ln(s,"cb",_().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Ln(s,c,i[c]);return new wt((function(t,n){as(e,s.toString(),(function(e){e?e.error?n(iu(e,o||{})):t(e):n(new I("network-request-failed"))}),r,u?void 0:tr(Lr(i)),e.a,e.v.get())}))}function ls(e){if("string"!=typeof(e=e.email)||!vr.test(e))throw new I("invalid-email")}function hs(e){"email"in e&&ls(e)}function fs(e){if(!e[Xa]){if(e.mfaPendingCredential)throw new I("multi-factor-auth-required",null,pe(e));throw new I("internal-error")}}function ps(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new I("internal-error")}else{if(!e.sessionInfo)throw new I("missing-verification-id");if(!e.code)throw new I("missing-verification-code")}}$a.prototype.s=function(e,t,n,r,i){var o=this;Ya.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},$a.prototype.zb=function(){return nu(this,Hs,{})},$a.prototype.Bb=function(e,t){return nu(this,Bs,{idToken:e,email:t})},$a.prototype.Cb=function(e,t){return nu(this,Ks,{idToken:e,password:t})};var ds={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function vs(e){if(!e.phoneVerificationInfo)throw new I("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new I("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new I("missing-verification-code")}function gs(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new I("internal-error")}function ms(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(Xn(e=new zn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function ys(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Go(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Go(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Go(e)):e.errorMessage&&(t=ru(e.errorMessage)),t)throw t;fs(e)}function bs(e,t){return t.returnIdpCredential=!0,nu(e,zs,t)}function ws(e,t){return t.returnIdpCredential=!0,nu(e,$s,t)}function _s(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,nu(e,Qs,t)}function Ts(e){if(!e.oobCode)throw new I("invalid-action-code")}(e=$a.prototype).Db=function(e,t){var n={idToken:e},r=[];return he(ds,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),nu(this,Bs,n)},e.vb=function(e,t){return ve(e={requestType:"PASSWORD_RESET",email:e},t),nu(this,Fs,e)},e.wb=function(e,t){return ve(e={requestType:"EMAIL_SIGNIN",email:e},t),nu(this,Os,e)},e.ub=function(e,t){return ve(e={requestType:"VERIFY_EMAIL",idToken:e},t),nu(this,Ls,e)},e.Eb=function(e,t,n){return ve(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),nu(this,Ms,e)},e.fb=function(e){return nu(this,Js,e)},e.nb=function(e,t){return nu(this,qs,{oobCode:e,newPassword:t})},e.Ra=function(e){return nu(this,Is,{oobCode:e})},e.jb=function(e){return nu(this,Es,{oobCode:e})};var Es={endpoint:"setAccountInfo",A:Ts,Z:"email",B:!0},Is={endpoint:"resetPassword",A:Ts,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new I("internal-error")},B:!0},Ss={endpoint:"signupNewUser",A:function(e){if(ls(e),!e.password)throw new I("weak-password")},G:fs,V:!0,B:!0},Cs={endpoint:"createAuthUri",B:!0},ks={endpoint:"deleteAccount",N:["idToken"]},xs={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new I("internal-error")}},As={endpoint:"emailLinkSignin",N:["email","oobCode"],A:ls,G:fs,V:!0,B:!0},Ns={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:ls,G:fs,V:!0},Ds={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:vs,G:fs,B:!0,Na:!0},Rs={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:vs,G:fs,B:!0,Na:!0},Ps={endpoint:"getAccountInfo"},Os={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new I("internal-error");ls(e)},Z:"email",B:!0},Ls={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new I("internal-error")},Z:"email",B:!0},Ms={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new I("internal-error")},Z:"email",B:!0},Fs={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new I("internal-error");ls(e)},Z:"email",B:!0},js={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Us={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new I("internal-error")}},qs={endpoint:"resetPassword",A:Ts,Z:"email",B:!0},Vs={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Bs={endpoint:"setAccountInfo",N:["idToken"],A:hs,V:!0},Ks={endpoint:"setAccountInfo",N:["idToken"],A:function(e){if(hs(e),!e.password)throw new I("weak-password")},G:fs,V:!0},Hs={endpoint:"signupNewUser",G:fs,V:!0,B:!0},Ws={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new I("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new I("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},Gs={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},zs={endpoint:"verifyAssertion",A:gs,Ya:ms,G:ys,V:!0,B:!0},Qs={endpoint:"verifyAssertion",A:gs,Ya:ms,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new I("user-not-found");if(e.errorMessage)throw ru(e.errorMessage);fs(e)},V:!0,B:!0},$s={endpoint:"verifyAssertion",A:function(e){if(gs(e),!e.idToken)throw new I("internal-error")},Ya:ms,G:ys,V:!0},Ys={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new I("invalid-custom-token")},G:fs,V:!0,B:!0},Xs={endpoint:"verifyPassword",A:function(e){if(ls(e),!e.password)throw new I("wrong-password")},G:fs,V:!0,B:!0},Js={endpoint:"verifyPhoneNumber",A:ps,G:fs,B:!0},Zs={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new I("internal-error");ps(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Go(e);fs(e)}},eu={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ps,G:fs,B:!0},tu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[Xa]^!!e.refreshToken)throw new I("internal-error")},B:!0,Na:!0};function nu(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.N))return xt(new I("internal-error"));var r,i=!!t.Na,o=t.Ub||"POST";return kt(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),cs(e,i?e.i:e.h,t.endpoint,o,n,t.Hb,t.lb||!1)})).then((function(e){return r=e,t.Ya?t.Ya(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new I("internal-error");return r[t.Z]}))}function ru(e){return iu({error:{errors:[{message:e}],code:400,message:e}})}function iu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new I(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",ve(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new I(r[i],t);return!t&&e&&(t=Or(e)),new I("internal-error",t)}function ou(e){this.b=e,this.a=null,this.rb=function(e){return(cu||(cu=new wt((function(e,t){function n(){Ur(),xr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Ur(),t(Error("Network Error"))},timeout:su.get()})}if(xr("gapi.iframes.Iframe"))e();else if(xr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){xr("gapi.load")?n():t(Error("Network Error"))},kt(Ba(r=Se(au,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw cu=null,e})))).then((function(){return new wt((function(t,n){xr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:xr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),uu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var au=new me(_e,"https://apis.google.com/js/api.js?onload=%{onload}"),su=new qr(3e4,6e4),uu=new qr(5e3,15e3),cu=null;function lu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=jn((e=Fn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=jn("https",this.l,null,"/__/auth/iframe"),this.a=e,Ln(this.a,"apiKey",this.h),Ln(this.a,"appName",this.i),this.b=null,this.c=[]}function hu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function fu(e){try{return zu.app(e).auth().Ga()}catch(e){return[]}}function pu(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function du(e){var t=ur();return function(e){return nu(e,js,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Fn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Fn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:dr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Ho(ur())}))}function vu(e){return e.m||(e.m=gr().then((function(){if(!e.u){var t=e.c,n=e.i,r=fu(e.b),i=new lu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=Y(r||[]),e.u=i.toString()}e.v=new ou(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.rb.then((function(){e.a.register("authEvent",t,xr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=qo(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",kt(n)}return n.status="ERROR",kt(n)}))}(e)}))),e.m}function gu(e){return e.l||(e.C=e.c?Cr(e.c,fu(e.b)):null,e.l=new $a(e.g,N(e.i),e.C),e.f&&rs(e.l,e.f)),e.l}function mu(e,t,n,r,i,o,a,s,u,c,l,h){return(e=new hu(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=pe(u||null),e.f=c,e.yb(l).toString()}function yu(e){if(this.a=e||zu.INTERNAL.reactNative&&zu.INTERNAL.reactNative.AsyncStorage,!this.a)throw new I("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function bu(e){this.b=e,this.a={},this.f=b(this.c,this)}lu.prototype.toString=function(){return this.f?Ln(this.a,"v",this.f):Yn(this.a.b,"v"),this.b?Ln(this.a,"eid",this.b):Yn(this.a.b,"eid"),this.c.length?Ln(this.a,"fw",this.c.join(",")):Yn(this.a.b,"fw"),this.a.toString()},hu.prototype.yb=function(e){return this.h=e,this},hu.prototype.toString=function(){if(this.v){var e=Fn(this.v.url);e=jn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=jn("https",this.u,null,"/__/auth/handler");if(Ln(e,"apiKey",this.s),Ln(e,"appName",this.c),Ln(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=zu.app(this.c).auth().la()}catch(e){n=null}for(var r in t.ob=n,Ln(e,"providerId",this.a.providerId),t=Lr((n=this.a).Ib))t[r]=t[r].toString();r=n.Qc,t=pe(t);for(var i=0;i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.pb&&n.ob&&!t[n.pb]&&(t[n.pb]=n.ob),fe(t)||Ln(e,"customParameters",Or(t))}if("function"==typeof this.a.Qb&&((n=this.a.Qb()).length&&Ln(e,"scopes",n.join(","))),this.l?Ln(e,"redirectUrl",this.l):Yn(e.b,"redirectUrl"),this.g?Ln(e,"eventId",this.g):Yn(e.b,"eventId"),this.i?Ln(e,"v",this.i):Yn(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Mn(e,a)&&Ln(e,a,this.b[a]);return this.h?Ln(e,"tid",this.h):Yn(e.b,"tid"),this.f?Ln(e,"eid",this.f):Yn(e.b,"eid"),(a=fu(this.c)).length&&Ln(e,"fw",a.join(",")),e.toString()},(e=pu.prototype).Ob=function(e,t,n){var r=new I("popup-closed-by-user"),i=new I("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return vu(e).then((function(){return function(e,t){return e.rb.then((function(){return new wt((function(n){e.a.send(t.type,t,n,xr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&fr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new wt((function(t){return function n(){In(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return In(n).then((function(){t(r)}))}))},e.Xb=function(){var e=kr();return!Pr(e)&&!jr(e)},e.Tb=function(){return!1},e.Mb=function(e,t,n,r,i,o,a,s){if(!e)return xt(new I("popup-blocked"));if(a&&!Pr())return this.ma().o((function(t){fr(e),i(t)})),r(),kt();this.a||(this.a=du(gu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw fr(e),i(t),t}));return r(),t})).then((function(){(jo(n),a)||cr(mu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Nb=function(e,t,n,r){this.a||(this.a=du(gu(this)));var i=this;return this.a.then((function(){jo(t),cr(mu(i.s,i.g,i.b,e,t,ur(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return vu(this).then((function(){return e.v.rb})).o((function(){throw e.a=null,new I("network-request-failed")}))},e.$b=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Sa=function(e){Q(this.h,(function(t){return t==e}))},(e=yu.prototype).get=function(e){return kt(this.a.getItem(e)).then((function(e){return e&&Mr(e)}))},e.set=function(e,t){return kt(this.a.setItem(e,Or(t)))},e.U=function(e){return kt(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var wu,_u=[];function Tu(e,t,n){fe(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Eu(e){this.a=e}function Iu(e){this.c=e,this.b=!1,this.a=[]}function Su(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return xt(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new wt((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return Cu(e,c),t})).o((function(t){throw Cu(e,c),t}))}function Cu(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Q(e.a,(function(e){return e==t}))}}function ku(){if(!Du())throw new I("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;br()&&self?(this.v=function(){var e=br()?self:null;if(B(_u,(function(n){n.b==e&&(t=n)})),!t){var t=new bu(e);_u.push(t)}return t}(),Tu(this.v,"keyChanged",(function(t,n){return Mu(e).then((function(t){return 0<t.length&&B(e.a,(function(e){e(t)})),{keyProcessed:G(t,n.key)}}))})),Tu(this.v,"ping",(function(){return kt(["keyChanged"])}))):function(){var e=a.navigator;return e&&e.serviceWorker?kt().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):kt(null)}().then((function(t){(e.h=t)&&(e.g=new Iu(new Eu(t)),Su(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&G(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function xu(e){return new wt((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(e){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new wt((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return xu(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Au(e){return e.i||(e.i=xu(e)),e.i}function Nu(e,t){var n=0;return new wt((function r(i,o){Au(e).then(t).then(i).o((function(t){if(!(3<++n))return Au(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function Du(){try{return!!a.indexedDB}catch(e){return!1}}function Ru(e){return e.objectStore("firebaseLocalStorage")}function Pu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Ou(e){return new wt((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Lu(e,t){return e.g&&e.h&&function(){var e=a.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Su(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):kt()}function Mu(e){return Au(e).then((function(e){var t=Ru(Pu(e,!1));return t.getAll?Ou(t.getAll()):new wt((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=lr(e.c,n),e.c=n}return r}))}function Fu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function ju(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=kt().then((function(){if(Du()){var e=Fr(),r="__sak"+e;return wu||(wu=new ku),(n=wu).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){B(t.a,(function(t){t(e)}))})),e}))}function Uu(){this.a={},this.type="inMemory"}function qu(){if(!function(){var e="Node"==wr();if(!(e=Vu()||e&&zu.INTERNAL.node&&zu.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==wr())throw new I("internal-error","The LocalStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Vu()||zu.INTERNAL.node.localStorage,this.type="localStorage"}function Vu(){try{var e=a.localStorage,t=Fr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Bu(){this.type="nullStorage"}function Ku(){if(!function(){var e="Node"==wr();if(!(e=Hu()||e&&zu.INTERNAL.node&&zu.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==wr())throw new I("internal-error","The SessionStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Hu()||zu.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Hu(){try{var e=a.sessionStorage,t=Fr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Wu(){var e={};e.Browser=$u,e.Node=Yu,e.ReactNative=Xu,e.Worker=Ju,this.a=e[wr()]}bu.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];B(r,(function(t){i.push(kt().then((function(){return t(e.origin,e.data.data)})))})),Nt(i).then((function(r){var i=[];B(r,(function(e){i.push({fulfilled:e.Pb,value:e.value,reason:e.reason?e.reason.message:void 0})})),B(i,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Eu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Iu.prototype.close=function(){for(;0<this.a.length;)Cu(this,this.a[0]);this.b=!0},(e=ku.prototype).set=function(e,t){var n=this,r=!1;return Nu(this,(function(t){return Ou((t=Ru(Pu(t,!0))).get(e))})).then((function(i){return Nu(n,(function(o){if(o=Ru(Pu(o,!0)),i)return i.value=t,Ou(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Ou(o.add(a))}))})).then((function(){return n.c[e]=t,Lu(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return Nu(this,(function(t){return Ou(Ru(Pu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return Nu(this,(function(r){return n=!0,t.b++,Ou(Ru(Pu(r,!0)).delete(e))})).then((function(){return delete t.c[e],Lu(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout((function(){e.l=Mu(e).then((function(t){0<t.length&&B(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}Fu(e),t()}(this),this.a.push(e)},e.ia=function(e){Q(this.a,(function(t){return t==e})),0==this.a.length&&Fu(this)},(e=ju.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){Q(this.a,(function(t){return t==e}))},(e=Uu.prototype).get=function(e){return kt(this.a[e])},e.set=function(e,t){return this.a[e]=t,kt()},e.U=function(e){return delete this.a[e],kt()},e.ca=function(){},e.ia=function(){},(e=qu.prototype).get=function(e){var t=this;return kt().then((function(){return Mr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return kt().then((function(){var r=Or(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return kt().then((function(){t.a.removeItem(e)}))},e.ca=function(e){a.window&&sn(a.window,"storage",e)},e.ia=function(e){a.window&&ln(a.window,"storage",e)},(e=Bu.prototype).get=function(){return kt(null)},e.set=function(){return kt()},e.U=function(){return kt()},e.ca=function(){},e.ia=function(){},(e=Ku.prototype).get=function(e){var t=this;return kt().then((function(){return Mr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return kt().then((function(){var r=Or(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return kt().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var Gu,Qu,$u={F:qu,bb:Ku},Yu={F:qu,bb:Ku},Xu={F:yu,bb:Bu},Ju={F:qu,bb:Bu},Zu={rd:"local",NONE:"none",td:"session"};function ec(){var e=!(jr(kr())||!yr()),t=Pr(),n=Ar();this.m=e,this.h=t,this.l=n,this.a={},Gu||(Gu=new Wu),e=Gu;try{this.g=!sr()&&Kr()||!a.indexedDB?new e.a.F:new ju(br()?new Uu:new e.a.F)}catch(e){this.g=new Uu,this.h=!0}try{this.i=new e.a.bb}catch(e){this.i=new Uu}this.v=new Uu,this.f=b(this.Yb,this),this.b={}}function tc(){return Qu||(Qu=new ec),Qu}function nc(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function rc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function ic(e,t,n){return n=rc(t,n),"local"==t.F&&(e.b[n]=null),nc(e,t.F).U(n)}function oc(e){e.c&&(clearInterval(e.c),e.c=null)}function ac(e){this.a=e,this.b=tc()}(e=ec.prototype).get=function(e,t){return nc(this,e.F).get(rc(e,t))},e.set=function(e,t,n){var r=rc(e,n),i=this,o=nc(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=rc(e,t),this.l&&(this.b[e]=a.localStorage.getItem(e)),fe(this.a)&&(nc(this,"local").ca(this.f),this.h||(sr()||!Kr())&&a.indexedDB||!this.l||function(e){oc(e),e.c=setInterval((function(){for(var t in e.a){var n=a.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new $t({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Yb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=rc(e,t),this.a[e]&&(Q(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),fe(this.a)&&(nc(this,"local").ia(this.f),oc(this))},e.Yb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?nc(this,"local").ia(this.f):oc(this),this.m)if(n=a.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?a.localStorage.setItem(t,r):a.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===a.localStorage.getItem(t)||(o.b[t]=a.localStorage.getItem(t),o.mb(t))},ze&&at&&10==at&&a.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else B(e,b(this.mb,this))},e.mb=function(e){this.a[e]&&B(this.a[e],(function(e){e()}))};var sc,uc={name:"authEvent",F:"local"};function cc(){this.a=tc()}function lc(e,t){this.b=hc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===sc&&(sc=a.Int32Array?new Int32Array(yc):yc),this.reset()}T(lc,(function(){this.b=-1}));for(var hc=64,fc=hc-1,pc=[],dc=0;dc<fc;dc++)pc[dc]=0;var vc=$(128,pc);function gc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|sc[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function mc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"==typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(gc(e),i=0);else{if(!f(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(gc(e),i=0)}}e.c=i,e.g+=n}lc.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):Y(this.h)};var yc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bc(){lc.call(this,8,wc)}T(bc,lc);var wc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function _c(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new cc,this.g=new ac(this.h),this.f=null,this.b=[],this.a=this.c=null}function Tc(e){return new I("invalid-cordova-configuration",e)}function Ec(e){var t=new bc;mc(t,e),e=[];var n=8*t.g;56>t.c?mc(t,vc,56-t.c):mc(t,vc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(gc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return H(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function Ic(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function Sc(e){return e.f||(e.f=e.ma().then((function(){return new wt((function(t){e.Ea((function n(r){return t(r),e.Sa(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Cc(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=ro(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Mr(Mn(o=Fn(i),"firebaseError")||null))?S(o):null)?new Uo(r.c,r.b,null,null,o,null,r.T()):new Uo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Ic(e,i)}))}var n=new Uo("unknown",null,null,null,new I("no-auth-event")),r=!1,i=In(500).then((function(){return Cc(e).then((function(){r||Ic(e,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(xr("BuildInfo.packageName",a).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(e){console.error(e)}},Ko||(Ko=new Vo),function(e){var t=Ko;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=xr("universalLinks.subscribe",a))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Cc(e){var t=null;return function(e){return e.b.get(uc,e.a).then((function(e){return qo(e)}))}(e.g).then((function(n){return t=n,ic((n=e.g).b,uc,n.a)})).then((function(){return t}))}function kc(e){this.a=e,this.b=tc()}(e=_c.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(mr(void 0)?gr().then((function(){return new wt((function(e,t){var n=a.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):xt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof xr("universalLinks.subscribe",a))throw Tc("cordova-universal-links-plugin-fix is not installed");if(void 0===xr("BuildInfo.packageName",a))throw Tc("cordova-plugin-buildinfo is not installed");if("function"!=typeof xr("cordova.plugins.browsertab.openUrl",a))throw Tc("cordova-plugin-browsertab is not installed");if("function"!=typeof xr("cordova.InAppBrowser.open",a))throw Tc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new I("cordova-not-ready")}))},e.Ob=function(e,t){return t(new I("operation-not-supported-in-this-environment")),kt()},e.Mb=function(){return xt(new I("operation-not-supported-in-this-environment"))},e.$b=function(){return!1},e.Xb=function(){return!0},e.Tb=function(){return!0},e.Nb=function(e,t,n,r){if(this.c)return xt(new I("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=kt().then((function(){return jo(t),Sc(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),s=new Uo(t,r,null,o,new I("no-auth-event"),null,i),u=xr("BuildInfo.packageName",a);if("string"!=typeof u)throw new I("invalid-cordova-configuration");var c=xr("BuildInfo.displayName",a),l={};if(kr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!kr().toLowerCase().match(/android/))return xt(new I("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Ec(o),l.sessionId=o;var h=mu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(uc,s.w(),t)})).then((function(){var t=xr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof t)throw new I("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=xr("cordova.plugins.browsertab.openUrl",a)))throw new I("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=xr("cordova.InAppBrowser.open",a)))throw new I("invalid-cordova-configuration");t=kr(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new wt((function(e,t){u=function(){var t=xr("cordova.plugins.browsertab.close",a);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){s||(s=In(2e3).then((function(){t(new I("redirect-cancelled-by-user"))})))},l=function(){Vr()&&c()},o.addEventListener("resume",c,!1),kr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return Cc(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Sa(u),i.c=null}))},e.Ea=function(e){this.b.push(e),Sc(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Uo("unknown",null,null,null,new I("no-auth-event")),e(t))}))},e.Sa=function(e){Q(this.b,(function(t){return t==e}))};var xc={name:"pendingRedirect",F:"session"};function Ac(e){return ic(e.b,xc,e.a)}function Nc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Wc,this.C=new Yc,this.g=new kc(Kc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Dc(this.D,this.v,this.m,C,this.J)}function Dc(e,t,n,r,i){var o=zu.SDK_VERSION||null;return mr()?new _c(e,t,n,o,r,i):new pu(e,t,n,o,r,i)}function Rc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Pc(e){e.a.Xb()&&Rc(e).o((function(t){var n=new Uo("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Uc(t)&&e.s(n)})),e.a.Tb()||Gc(e.b)}function Oc(e,t){G(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(xc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Ac(e.g).then((function(){Rc(e).o((function(t){var n=new Uo("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Uc(t)&&e.s(n)}))})):Pc(e)})).o((function(){Pc(e)}))}function Lc(e,t){Q(e.h,(function(e){return e==t}))}Nc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Dc(this.D,this.v,this.m,null,this.J),this.i={}},Nc.prototype.s=function(e){if(!e)throw new I("invalid-auth-event");if(6e5<=_()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=_())),t=!0;break}}return Gc(this.b),t};var Mc=new qr(2e3,1e4),Fc=new qr(3e4,6e4);function jc(e,t,n,r,i,o,a){return e.a.Mb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Uc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function qc(e,t,n,r,i){var o;return function(e){return e.b.set(xc,"pending",e.a)}(e.g).then((function(){return e.a.Nb(t,n,r,i).o((function(t){if(Uc(t))throw new I("operation-not-supported-in-this-environment");return o=t,Ac(e.g).then((function(){throw o}))})).then((function(){return e.a.$b()?new wt((function(){})):Ac(e.g).then((function(){return e.qa()})).then((function(){})).o((function(){}))}))}))}function Vc(e,t,n,r,i){return e.a.Ob(r,(function(e){t.na(n,null,e,i)}),Mc.get())}Nc.prototype.qa=function(){return this.b.qa()};var Bc={};function Kc(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Hc(e,t,n,r){var i=Kc(t,n,r);return Bc[i]||(Bc[i]=new Nc(e,t,n,r)),Bc[i]}function Wc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Gc(e){e.g||(e.g=!0,$c(e,!1,null,null))}function zc(e){e.g&&!e.i&&$c(e,!1,null,null)}function Qc(e,t){if(e.b=function(){return kt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function $c(e,t,n,r){t?r?function(e,t){if(e.b=function(){return xt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Qc(e,n):Qc(e,{user:null}),e.f=[],e.c=[]}function Yc(){}function Xc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(e){this.ib=e},enumerable:!1})}function Jc(e,t){this.a=t,Qr(this,"verificationId",e)}function Zc(e,t,n,r){return new Lo(e).fb(t,n).then((function(e){return new Jc(e,r)}))}function el(e){var t=Ki(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new I("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");$r(this,{token:e,expirationTime:Br(1e3*t.exp),authTime:Br(1e3*t.auth_time),issuedAtTime:Br(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function tl(e,t,n){var r=t&&t[rl];if(!r)throw new I("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=pe(t),this.g=n,this.c=new io(null,r),this.b=[];var i=this;B(t[nl]||[],(function(e){(e=Zr(e))&&i.b.push(e)})),Qr(this,"auth",this.a),Qr(this,"session",this.c),Qr(this,"hints",this.b)}Wc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Wc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?($c(this,!0,null,e.a),kt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){$c(e,s,t,null)})).o((function(t){$c(e,s,null,t)}))}(this,e,t):xt(new I("invalid-auth-event")):($c(this,!1,null,null),kt())}else xt(new I("invalid-auth-event"))},Wc.prototype.qa=function(){var e=this;return new wt((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new I("timeout");e.a&&e.a.cancel(),e.a=In(Fc.get()).then((function(){e.b||(e.g=!0,$c(e,!0,null,t))}))}(e))}))},Yc.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),kt()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):xt(new I("invalid-auth-event"))}else xt(new I("invalid-auth-event"))},Jc.prototype.confirm=function(e){return e=Mo(this.verificationId,e),this.a(e)};var nl="mfaInfo",rl="mfaPendingCredential";function il(e,t,n,r){I.call(this,"multi-factor-auth-required",r,t),this.b=new tl(e,t,n),Qr(this,"resolver",this.b)}function ol(e,t,n){if(e&&d(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new il(t,e.serverResponse,n,e.message)}catch(e){}return null}function al(){}function sl(e){Qr(this,"factorId",e.fa),this.a=e}function ul(e){if(sl.call(this,e),this.a.fa!=Lo.PROVIDER_ID)throw new I("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function cl(e,t){for(var n in Qt.call(this,e),t)this[n]=t[n]}function ll(e,t){this.a=e,this.b=[],this.c=b(this.yc,this),sn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&B(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[ni]=e.uid),e.displayName&&(r[ei]=e.displayName),e.enrollmentTime&&(r[ti]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ri]=e.phoneNumber);try{t=new ii(r)}catch(e){}e=t}else e=null;e&&n.push(e)})),hl(this,n)}function hl(e,t){e.b=t,Qr(e,"enrolledFactors",t)}function fl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function pl(e,t){e.stop(),e.b=In(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=a.document,t=null;return Vr()||!e?kt():new wt((function(n){t=function(){Vr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){pl(e,!0)})).o((function(t){e.i(t)&&pl(e,!1)}))}function dl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function vl(e,t){void 0===t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function gl(e,t){e.b=Bi(t[Xa]||""),e.a=t.refreshToken,vl(e,void 0!==(t=t.expiresIn)?Number(t):void 0)}function ml(e,t){return function(e,t){return new wt((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?as(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(iu(e)):e.access_token&&e.refresh_token?n(e):r(new I("internal-error")):r(new I("network-request-failed"))}),"POST",$n(t).toString(),e.g,e.m.get()):r(new I("internal-error"))}))}(e.f,t).then((function(t){return e.b=Bi(t.access_token),e.a=t.refresh_token,vl(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function yl(e,t){this.a=e||null,this.b=t||null,$r(this,{lastSignInTime:Br(t||null),creationTime:Br(e||null)})}function bl(e,t,n,r,i,o){$r(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function wl(e,t,n){this.J=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r=zu.SDK_VERSION?Cr(zu.SDK_VERSION):null;this.a=new $a(this.l,N(C),r),e.emulatorConfig&&rs(this.a,e.emulatorConfig),this.b=new dl(this.a),xl(this,t[Xa]),gl(this.b,t),Qr(this,"refreshToken",this.b.a),Dl(this,n||{}),bn.call(this),this.R=!1,this.s&&Nr()&&(this.i=Hc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(e){return new fl((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.b.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.aa=b(this.hb,this);var i=this;this.ya=null,this.Oa=function(e){i.wa(e.h)},this.ja=null,this.Aa=function(e){rs(i.a,e.c)},this.X=null,this.$=[],this.Ba=function(e){El(i,e.f)},this.ba=null,this.O=new ll(this,n),Qr(this,"multiFactor",this.O)}function _l(e,t){e.ja&&ln(e.ja,"languageCodeChanged",e.Oa),(e.ja=t)&&sn(t,"languageCodeChanged",e.Oa)}function Tl(e,t){e.X&&ln(e.X,"emulatorConfigChanged",e.Aa),(e.X=t)&&sn(t,"emulatorConfigChanged",e.Aa)}function El(e,t){e.$=t,os(e.a,zu.SDK_VERSION?Cr(zu.SDK_VERSION,e.$):null)}function Il(e,t){e.ba&&ln(e.ba,"frameworkChanged",e.Ba),(e.ba=t)&&sn(t,"frameworkChanged",e.Ba)}function Sl(e){try{return zu.app(e.m).auth()}catch(t){throw new I("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Cl(e){e.D||e.u.b||(e.u.start(),ln(e,"tokenChanged",e.aa),sn(e,"tokenChanged",e.aa))}function kl(e){ln(e,"tokenChanged",e.aa),e.u.stop()}function xl(e,t){e.za=t,Qr(e,"_lat",t)}function Al(e){for(var t=[],n=0;n<e.S.length;n++)t.push(e.S[n](e));return Nt(t).then((function(){return e}))}function Nl(e){e.i&&!e.R&&(e.R=!0,Oc(e.i,e))}function Dl(e,t){$r(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new yl(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Rl(){}function Pl(e){return kt().then((function(){if(e.D)throw new I("app-deleted")}))}function Ol(e){return H(e.providerData,(function(e){return e.providerId}))}function Ll(e,t){t&&(Ml(e,t.providerId),e.providerData.push(t))}function Ml(e,t){Q(e.providerData,(function(e){return e.providerId==t}))}function Fl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Qr(e,t,n)}function jl(e,t){e!=t&&($r(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Qr(e,"metadata",function(e){return new yl(e.a,e.b)}(t.metadata)):Qr(e,"metadata",new yl),B(t.providerData,(function(t){Ll(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.b,t.b),Qr(e,"refreshToken",e.b.a),hl(e.O,t.O.b))}function Ul(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return nu(e.a,Ps,{idToken:t}).then(b(e.Kc,e))}(e,t).then((function(){return n||Fl(e,"isAnonymous",!1),t}))}))}function ql(e,t){t[Xa]&&e.za!=t[Xa]&&(gl(e.b,t),e.dispatchEvent(new cl("tokenChanged")),xl(e,t[Xa]),Fl(e,"refreshToken",e.b.a))}function Vl(e,t){return Ul(e).then((function(){if(G(Ol(e),t))return Al(e).then((function(){throw new I("provider-already-linked")}))}))}function Bl(e,t,n){return Yr({user:e,credential:Fo(t),additionalUserInfo:t=Qi(t),operationType:n})}function Kl(e,t){return ql(e,t),e.reload().then((function(){return e}))}function Hl(e,t,n,r,i){if(!Nr())return xt(new I("operation-not-supported-in-this-environment"));if(e.h&&!i)return xt(e.h);var o=zi(n.providerId),a=Fr(e.uid+":::"),s=null;(!Pr()||yr())&&e.s&&n.isOAuthProvider&&(s=mu(e.s,e.l,e.m,t,n,null,a,zu.SDK_VERSION||null,null,null,e.tenantId));var u=pr(s,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Gl(e),!i)return e.I().then((function(){}))})).then((function(){return jc(e.i,u,t,n,a,!!s,e.tenantId)})).then((function(){return new wt((function(n,r){e.na(t,null,new I("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=Vc(e.i,e,t,u,a)}))})).then((function(e){return u&&fr(u),e?Yr(e):null})).o((function(e){throw u&&fr(u),e})),zl(e,r,i)}function Wl(e,t,n,r,i){if(!Nr())return xt(new I("operation-not-supported-in-this-environment"));if(e.h&&!i)return xt(e.h);var o=null,a=Fr(e.uid+":::");return r=r().then((function(){if(Gl(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,Al(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(Yl,e.w(),t.a)),t})).then((function(){return qc(e.i,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return Xl(e.ha);throw o})).then((function(){if(o)throw o})),zl(e,r,i)}function Gl(e){if(!e.i||!e.R){if(e.i&&!e.R)throw new I("internal-error");throw new I("auth-domain-config-required")}}function zl(e,t,n){var r=function(e,t,n){return e.h&&!n?(t.cancel(),xt(e.h)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.h||e.dispatchEvent(new cl("userInvalidated")),e.h=t),t}))}(e,t,n);return e.J.push(r),r.oa((function(){z(e.J,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=ol(t.w(),Sl(e),b(e.jc,e))),n||t}))}function Ql(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[Xa]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new wl(t,n,e);return e.providerData&&B(e.providerData,(function(e){e&&Ll(i,Yr(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function $l(e){this.a=e,this.b=tc()}tl.prototype.Rc=function(e){var t=this;return e.sb(this.a.a,this.c).then((function(e){var n=pe(t.f);return delete n[nl],delete n[rl],ve(n,e),t.g(n)}))},T(il,I),al.prototype.sb=function(e,t,n){return t.type==oo?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),ve(n,{phoneVerificationInfo:Oo(e.a)}),nu(t,Ds,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return ve(n={mfaPendingCredential:n},{phoneVerificationInfo:Oo(e.a)}),nu(t,Rs,n)}))}(this,e,t)},T(sl,al),T(ul,sl),T(cl,Qt),(e=ll.prototype).yc=function(e){hl(this,function(e){var t=[];return B(e.mfaInfo||[],(function(e){(e=Zr(e))&&t.push(e)})),t}(e.hd))},e.Rb=function(){return this.a.I().then((function(e){return new io(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Rb().then((function(n){return e.sb(r,n,t)})).then((function(e){return ql(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"==typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return nu(r,tu,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=K(t.b,(function(e){return e.uid!=n}));return hl(t,r),ql(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:H(this.b,(function(e){return e.w()}))}}},fl.prototype.start=function(){this.a=this.c,pl(this,!0)},fl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},dl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?xt(new I("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?ml(this,{grant_type:"refresh_token",refresh_token:this.a}):kt(null):kt({accessToken:this.b.toString(),refreshToken:this.a})},yl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(wl,bn),wl.prototype.wa=function(e){this.ya=e,ns(this.a,e)},wl.prototype.la=function(){return this.ya},wl.prototype.Ga=function(){return Y(this.$)},wl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Qr(wl.prototype,"providerId","firebase"),(e=wl.prototype).reload=function(){var e=this;return zl(this,Pl(this).then((function(){return Ul(e).then((function(){return Al(e)})).then(Rl)})))},e.oc=function(e){return this.I(e).then((function(e){return new el(e)}))},e.I=function(e){var t=this;return zl(this,Pl(this).then((function(){return t.b.getToken(e)})).then((function(e){if(!e)throw new I("internal-error");return e.accessToken!=t.za&&(xl(t,e.accessToken),t.dispatchEvent(new cl("tokenChanged"))),Fl(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new I("internal-error");Dl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?H(e,(function(e){return new bl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Ll(this,t[n]);Fl(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new cl("userReloaded",{hd:e}))},e.Lc=function(e){return Gr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(e)},e.tb=function(e){var t=this,n=null;return zl(this,e.c(this.a,this.uid).then((function(e){return ql(t,e),n=Bl(t,e,"reauthenticate"),t.h=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return Gr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(e)},e.qb=function(e){var t=this,n=null;return zl(this,Vl(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Bl(t,e,"link"),Kl(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return zl(this,Vl(this,"phone").then((function(){return Zc(Sl(n),e,t,b(n.qb,n))})))},e.Mc=function(e,t){var n=this;return zl(this,kt().then((function(){return Zc(Sl(n),e,t,b(n.tb,n))})),!0)},e.Bb=function(e){var t=this;return zl(this,this.I().then((function(n){return t.a.Bb(n,e)})).then((function(e){return ql(t,e),t.reload()})))},e.ed=function(e){var t=this;return zl(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return ql(t,e),t.reload()})))},e.Cb=function(e){var t=this;return zl(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return ql(t,e),t.reload()})))},e.Db=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Pl(this);var t=this;return zl(this,this.I().then((function(n){return t.a.Db(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return ql(t,e),Fl(t,"displayName",e.displayName||null),Fl(t,"photoURL",e.photoUrl||null),B(t.providerData,(function(e){"password"===e.providerId&&(Qr(e,"displayName",t.displayName),Qr(e,"photoURL",t.photoURL))})),Al(t)})).then(Rl))},e.cd=function(e){var t=this;return zl(this,Ul(this).then((function(n){return G(Ol(t),e)?function(e,t,n){return nu(e,xs,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return B(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),B(Ol(t),(function(e){n[e]||Ml(t,e)})),n[Lo.PROVIDER_ID]||Qr(t,"phoneNumber",null),Al(t)})):Al(t).then((function(){throw new I("no-such-provider")}))})))},e.delete=function(){var e=this;return zl(this,this.I().then((function(t){return nu(e.a,ks,{idToken:t})})).then((function(){e.dispatchEvent(new cl("userDeleted"))}))).then((function(){for(var t=0;t<e.J.length;t++)e.J[t].cancel("app-deleted");_l(e,null),Tl(e,null),Il(e,null),e.J=[],e.D=!0,kl(e),Qr(e,"refreshToken",null),e.i&&Lc(e.i,e)}))},e.Fb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?b(this.Kb,this):"reauthViaPopup"==e&&t==(this.g||null)?b(this.Lb,this):"linkViaRedirect"==e&&(this.ga||null)==t?b(this.Kb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?b(this.Lb,this):null},e.Ec=function(e){var t=this;return Hl(this,"linkViaPopup",e,(function(){return Vl(t,e.providerId).then((function(){return Al(t)}))}),!1)},e.Nc=function(e){return Hl(this,"reauthViaPopup",e,(function(){return kt()}),!0)},e.Fc=function(e){var t=this;return Wl(this,"linkViaRedirect",e,(function(){return Vl(t,e.providerId)}),!1)},e.Oc=function(e){return Wl(this,"reauthViaRedirect",e,(function(){return kt()}),!0)},e.Kb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return zl(this,this.I().then((function(n){return ws(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Bl(i,e,"link"),Kl(i,e)})).then((function(){return o})))},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return zl(this,kt().then((function(){return uo(_s(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Bl(i,e,"reauthenticate"),ql(i,e),i.h=null,i.reload()})).then((function(){return o})),!0)},e.ub=function(e){var t=this,n=null;return zl(this,this.I().then((function(t){return n=t,void 0===e||fe(e)?{}:ji(new xi(e))})).then((function(e){return t.a.ub(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Eb=function(e,t){var n=this,r=null;return zl(this,this.I().then((function(e){return r=e,void 0===t||fe(t)?{}:ji(new xi(t))})).then((function(t){return n.a.Eb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return zl(this,e=uo(kt(e),n.uid).then((function(e){return t=Bl(n,e,"reauthenticate"),ql(n,e),n.h=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&ve(e,this.metadata.w()),B(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),ve(e,this.O.w()),e};var Yl={name:"redirectUser",F:"session"};function Xl(e){return ic(e.b,Yl,e.a)}function Jl(e){this.a=e,this.b=tc(),this.c=null,this.f=function(e){var t=th("local"),n=th("session"),r=th("none");return function(e,t,n){var r=rc(t,n),i=nc(e,t.F);return e.get(t,n).then((function(o){var s=null;try{s=Mr(a.localStorage.getItem(r))}catch(e){}if(s&&!o)return a.localStorage.removeItem(r),e.set(t,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(eh,e.a).then((function(e){return e?th(e):t}))}))}))})).then((function(t){return e.c=t,Zl(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(th("local"),this.a,b(this.g,this))}function Zl(e,t){var n,r=[];for(n in Zu)Zu[n]!==t&&r.push(ic(e.b,th(Zu[n]),e.a));return r.push(ic(e.b,eh,e.a)),function(e){return new wt((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)At(e[s],w(o,s),a);else t(i)}))}(r)}Jl.prototype.g=function(){var e=this,t=th("local");oh(this,(function(){return kt().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return Zl(e,"local").then((function(){e.c=t}))}))}))};var eh={name:"persistence",F:"session"};function th(e){return{name:"authUser",F:e}}function nh(e,t){return oh(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function rh(e){return oh(e,(function(){return ic(e.b,e.c,e.a)}))}function ih(e,t,n){return oh(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Ql(e||{})}))}))}function oh(e,t){return e.f=e.f.then(t,t),e.f}function ah(e){if(this.l=!1,Qr(this,"settings",new Xc),Qr(this,"app",e),!vh(this).options||!vh(this).options.apiKey)throw new I("invalid-api-key");e=zu.SDK_VERSION?Cr(zu.SDK_VERSION):null,this.a=new $a(vh(this).options&&vh(this).options.apiKey,N(C),e),this.R=[],this.s=[],this.O=[],this.hb=zu.INTERNAL.createSubscribe(b(this.zc,this)),this.X=void 0,this.bc=zu.INTERNAL.createSubscribe(b(this.Ac,this)),ph(this,null),this.i=new Jl(vh(this).options.apiKey+":"+vh(this).name),this.D=new $l(vh(this).options.apiKey+":"+vh(this).name),this.$=bh(this,function(e){var t=vh(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(Yl,e.a).then((function(e){return e&&t&&(e.authDomain=t),Ql(e||{})}))}(e.D,vh(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),Xl(e.D)}));return bh(e,t)}(e).then((function(){return ih(e.i,t,e.P)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return nh(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:rh(e.i)}))):null})).then((function(t){ph(e,t||null)}));return bh(e,n)}(this)),this.h=bh(this,function(e){return e.$.then((function(){return hh(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(th("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.ya=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,function(e){var t=vh(e).options.authDomain,n=vh(e).options.apiKey;t&&Nr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Hc(t,n,vh(e).name,e.P),Oc(e.b,e),gh(e)&&Nl(gh(e)),e.m){Nl(e.m);var r=e.m;r.wa(e.la()),_l(r,e),El(r=e.m,e.J),Il(r,e),rs((r=e.m).a,e.P),Tl(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,bn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.wa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.yb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.P){var e=Fn(this.P.url);e=Yr({protocol:e.c,host:e.a,port:e.g,options:Yr({disableWarnings:this.P.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.P=null}function sh(e){Qt.call(this,"languageCodeChanged"),this.h=e}function uh(e){Qt.call(this,"emulatorConfigChanged"),this.c=e}function ch(e){Qt.call(this,"frameworkChanged"),this.f=e}function lh(e){return e.Oa||xt(new I("auth-domain-config-required"))}function hh(e){if(!Nr())return xt(new I("operation-not-supported-in-this-environment"));var t=lh(e).then((function(){return e.b.qa()})).then((function(e){return e?Yr(e):null}));return bh(e,t)}function fh(e,t){var n={};return n.apiKey=vh(e).options.apiKey,n.authDomain=vh(e).options.authDomain,n.appName=vh(e).name,e.P&&(n.emulatorConfig=e.P),e.$.then((function(){return function(e,t,n,r){var i=new wl(e,t);return n&&(i.ha=n),r&&El(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return gh(e)&&t.uid==gh(e).uid?(jl(gh(e),t),e.da(t)):(ph(e,t),Nl(t),e.da(t))})).then((function(){yh(e)}))}function ph(e,t){gh(e)&&(function(e,t){Q(e.S,(function(e){return e==t}))}(gh(e),e.Ba),ln(gh(e),"tokenChanged",e.ya),ln(gh(e),"userDeleted",e.za),ln(gh(e),"userInvalidated",e.Aa),kl(gh(e))),t&&(t.S.push(e.Ba),sn(t,"tokenChanged",e.ya),sn(t,"userDeleted",e.za),sn(t,"userInvalidated",e.Aa),0<e.u&&Cl(t)),Qr(e,"currentUser",t),t&&(t.wa(e.la()),_l(t,e),El(t,e.J),Il(t,e),rs(t.a,e.P),Tl(t,e))}function dh(e,t){var n=null,r=null;return bh(e,t.then((function(t){return n=Fo(t),r=Qi(t),fh(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=ol(t.w(),e,b(e.kc,e))),n||t})).then((function(){return Yr({user:gh(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function vh(e){return e.app}function gh(e){return e.currentUser}function mh(e){return gh(e)&&gh(e)._lat||null}function yh(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](mh(e));if(e.X!==e.getUid()&&e.O.length)for(e.X=e.getUid(),t=0;t<e.O.length;t++)e.O[t]&&e.O[t](mh(e))}}function bh(e,t){return e.R.push(t),t.oa((function(){z(e.R,t)})),t}function wh(){}function _h(){this.a={},this.b=1e12}Jl.prototype.xb=function(e){var t=null,n=this;return function(e){var t=new I("invalid-persistence-type"),n=new I("unsupported-persistence-type");e:{for(r in Zu)if(Zu[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(wr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Du()&&"none"!==e)throw n;break;default:if(!Ar()&&"none"!==e)throw n}}(e),oh(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,Zl(n,e)})).then((function(){if(n.c=th(e),t)return n.b.set(n.c,t,n.a)})):kt()}))},T(ah,bn),T(sh,Qt),T(uh,Qt),T(ch,Qt),(e=ah.prototype).xb=function(e){return bh(this,e=this.i.xb(e))},e.wa=function(e){this.aa===e||this.l||(this.aa=e,ns(this.a,this.aa),this.dispatchEvent(new sh(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=a.navigator;this.wa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.P){if(!/^https?:\/\//.test(e))throw new I("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!e&&gr().then((function(){var e=a.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#ff0000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),a.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.P={url:e,ec:t},this.settings.ib=!0,rs(this.a,this.P),this.dispatchEvent(new uh(this.P))}},e.Gc=function(e){this.J.push(e),os(this.a,zu.SDK_VERSION?Cr(zu.SDK_VERSION,this.J):null),this.dispatchEvent(new ch(this.J))},e.Ga=function(){return Y(this.J)},e.yb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:vh(this).options.apiKey,authDomain:vh(this).options.authDomain,appName:vh(this).name,currentUser:gh(this)&&gh(this).w()}},e.Fb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?b(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return dh(i,bs(i.a,o))}))},e.Xc=function(e){if(!Nr())return xt(new I("operation-not-supported-in-this-environment"));var t=this,n=zi(e.providerId),r=Fr(),i=null;(!Pr()||yr())&&vh(this).options.authDomain&&e.isOAuthProvider&&(i=mu(vh(this).options.authDomain,vh(this).options.apiKey,vh(this).name,"signInViaPopup",e,null,r,zu.SDK_VERSION||null,null,null,this.T(),this.P));var o=pr(i,n&&n.ua,n&&n.ta);return bh(this,n=lh(this).then((function(n){return jc(n,o,"signInViaPopup",e,r,!!i,t.T())})).then((function(){return new wt((function(e,n){t.na("signInViaPopup",null,new I("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=Vc(t.b,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&fr(o),e?Yr(e):null})).o((function(e){throw o&&fr(o),e})))},e.Yc=function(e){if(!Nr())return xt(new I("operation-not-supported-in-this-environment"));var t=this;return bh(this,lh(this).then((function(){return function(e){return oh(e,(function(){return e.b.set(eh,e.c.F,e.a)}))}(t.i)})).then((function(){return qc(t.b,"signInViaRedirect",e,void 0,t.T())})))},e.qa=function(){var e=this;return hh(this).then((function(t){return e.b&&zc(e.b.b),t})).o((function(t){throw e.b&&zc(e.b.b),t}))},e.dd=function(e){if(!e)return xt(new I("null-user"));if(this.S!=e.tenantId)return xt(new I("tenant-id-mismatch"));var t=this,n={};n.apiKey=vh(this).options.apiKey,n.authDomain=vh(this).options.authDomain,n.appName=vh(this).name;var r=function(e,t,n,r){var i=e.b,o={};return o[Xa]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new wl(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&El(t,r),jl(t,e),t}(e,n,t.D,t.Ga());return bh(this,this.h.then((function(){if(vh(t).options.apiKey!=e.l)return r.reload()})).then((function(){return gh(t)&&e.uid==gh(t).uid?(jl(gh(t),e),t.da(e)):(ph(t,r),Nl(r),t.da(r))})).then((function(){yh(t)})))},e.Ab=function(){var e=this;return bh(this,this.h.then((function(){return e.b&&zc(e.b.b),gh(e)?(ph(e,null),rh(e.i).then((function(){yh(e)}))):kt()})))},e.Zc=function(){var e=this;return ih(this.i,vh(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=gh(e)&&t){n=gh(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return jl(gh(e),t),gh(e).I();(gh(e)||t)&&(ph(e,t),t&&(Nl(t),t.ha=e.D),e.b&&Oc(e.b,e),yh(e))}}))},e.da=function(e){return nh(this.i,e)},e.mc=function(){yh(this),this.da(gh(this))},e.wc=function(){this.Ab()},e.xc=function(){this.Ab()},e.kc=function(e){var t=this;return this.h.then((function(){return dh(t,kt(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(gh(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.O.push(t),bh(e,e.h.then((function(){!e.l&&G(e.O,t)&&e.X!==e.getUid()&&(e.X=e.getUid(),t(mh(e)))})))}(this,(function(){e.next(gh(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof e?e(gh(r)):"function"==typeof e.next&&e.next(gh(r))})),this.hb(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof e?e(gh(r)):"function"==typeof e.next&&e.next(gh(r))})),this.bc(e,t,n)},e.nc=function(e){var t=this;return bh(this,this.h.then((function(){return gh(t)?gh(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return dh(t,nu(t.a,Ys,{token:e}))})).then((function(e){var n=e.user;return Fl(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return dh(n,nu(n.a,Xs,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return dh(n,nu(n.a,Ss,{email:e,password:t}))}))},e.$a=function(e){var t=this;return this.h.then((function(){return dh(t,e.ka(t.a))}))},e.Sc=function(e){return Gr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(e)},e.zb=function(){var e=this;return this.h.then((function(){var t=gh(e);if(t&&t.isAnonymous){var n=Yr({providerId:null,isNewUser:!1});return Yr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return dh(e,e.a.zb()).then((function(t){var n=t.user;return Fl(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return gh(this)&&gh(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&gh(this)&&Cl(gh(this))},e.Pc=function(e){var t=this;B(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&gh(this)&&kl(gh(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),bh(this,this.h.then((function(){t.l||G(t.s,e)&&e(mh(t))})))},e.removeAuthTokenListener=function(e){Q(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.R.length;e++)this.R[e].cancel("app-deleted");return this.R=[],this.i&&(e=this.i).b.removeListener(th("local"),e.a,this.ja),this.b&&(Lc(this.b,this),zc(this.b.b)),Promise.resolve()},e.hc=function(e){return bh(this,function(e,t){return nu(e,Cs,{identifier:t,continueUri:Dr()?ur():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!Do(e)},e.wb=function(e,t){var n=this;return bh(this,kt().then((function(){var e=new xi(t);if(!e.c)throw new I("argument-error",Di+" must be true when sending sign in link to email");return ji(e)})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.jd=function(e){return this.Ra(e).then((function(e){return e.data.email}))},e.nb=function(e,t){return bh(this,this.a.nb(e,t).then((function(){})))},e.Ra=function(e){return bh(this,this.a.Ra(e).then((function(e){return new oi(e)})))},e.jb=function(e){return bh(this,this.a.jb(e).then((function(){})))},e.vb=function(e,t){var n=this;return bh(this,kt().then((function(){return void 0===t||fe(t)?{}:ji(new xi(t))})).then((function(t){return n.a.vb(e,t)})).then((function(){})))},e.Wc=function(e,t){return bh(this,Zc(this,e,t,b(this.$a,this)))},e.Vc=function(e,t){var n=this;return bh(this,kt().then((function(){var r=t||ur(),i=No(e,r);if(!(r=Do(r)))throw new I("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new I("tenant-id-mismatch");return n.$a(i)})))},wh.prototype.render=function(){},wh.prototype.reset=function(){},wh.prototype.getResponse=function(){},wh.prototype.execute=function(){};var Th=null;function Eh(e,t){return(t=Ih(t))&&e.a[t]||null}function Ih(e){return(e=void 0===e?1e12:e)?e.toString():null}function Sh(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ut(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():sn(this.f,"click",this.i)}function Ch(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function kh(){}function xh(){}_h.prototype.render=function(e,t){return this.a[this.b.toString()]=new Sh(e,t),this.b++},_h.prototype.reset=function(e){var t=Eh(this,e);e=Ih(e),t&&e&&(t.delete(),delete this.a[e])},_h.prototype.getResponse=function(e){return(e=Eh(this,e))?e.getResponse():null},_h.prototype.execute=function(e){(e=Eh(this,e))&&e.execute()},Sh.prototype.getResponse=function(){return Ch(this),this.b},Sh.prototype.execute=function(){Ch(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(e){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(e){}e.h&&e.execute()}),6e4)}),500))},Sh.prototype.delete=function(){Ch(this),this.g=!0,clearTimeout(this.a),this.a=null,ln(this.f,"click",this.i)},Qr(kh,"FACTOR_ID","phone"),xh.prototype.g=function(){return Th||(Th=new _h),kt(Th)},xh.prototype.c=function(){};var Ah=null;function Nh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Dh=new me(_e,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Rh=new qr(3e4,6e4);Nh.prototype.g=function(e){var t=this;return new wt((function(n,r){var i=setTimeout((function(){r(new I("network-request-failed"))}),Rh.get());!a.grecaptcha||e!==t.f&&!t.b?(a[t.a]=function(){if(a.grecaptcha){t.f=e;var o=a.grecaptcha.render;a.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new I("internal-error"));delete a[t.a]},kt(Ba(Se(Dh,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new I("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},Nh.prototype.c=function(){this.b--};var Ph=null;function Oh(e,t,n,r,i,o,s){if(Qr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=t,this.g=null,s?(Ah||(Ah=new xh),s=Ah):(Ph||(Ph=new Nh),s=Ph),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Fh])throw new I("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[jh],!a.document)throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ut(t)||!this.i&&ut(t).hasChildNodes())throw new I("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new $a(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Lh];this.a[Lh]=function(e){if(Uh(u,e),"function"==typeof c)c(e);else if("string"==typeof c){var t=xr(c,a);"function"==typeof t&&t(e)}};var l=this.a[Mh];this.a[Mh]=function(){if(Uh(u,null),"function"==typeof l)l();else if("string"==typeof l){var e=xr(l,a);"function"==typeof e&&e()}}}var Lh="callback",Mh="expired-callback",Fh="sitekey",jh="size";function Uh(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(e){}}function qh(e,t){return e.h.push(t),t.oa((function(){z(e.h,t)})),t}function Vh(e){if(e.D)throw new I("internal-error","RecaptchaVerifier instance has been destroyed.")}function Bh(e,t,n){var r=!1;try{this.b=n||zu.app()}catch(e){throw new I("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new I("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(e){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}o=zu.SDK_VERSION?Cr(zu.SDK_VERSION,o):null,Oh.call(this,n,e,t,(function(){try{var e=i.b.auth().la()}catch(t){e=null}return e}),o,N(C),r)}function Kh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new I("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Hh.length)throw new I("internal-error","Argument validator received an unsupported number of arguments.");n=Hh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new I("argument-error",e+" failed: "+r)}(e=Oh.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=qh(this,kt().then((function(){if(Dr()&&!br())return gr();throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,nu(e.s,Us,{})})).then((function(t){e.a[Fh]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){Vh(this);var e=this;return qh(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=ut(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!st&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Be(a.name),'"'),a.type){o.push(' type="',Be(a.type),'"');var s={};ve(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=dt(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ct(o,a)),2<r.length&&pt(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){Vh(this);var e=this;return qh(this,this.render().then((function(t){return new wt((function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(function(e,t){Q(e.l,(function(e){return e==t}))}(e,i),n(t))};e.l.push(i),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){Vh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Vh(this),this.D=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ut(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},T(Bh,Oh);var Hh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Wh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"==typeof e}}}function Gh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"==typeof e}}}function zh(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:d}}function Qh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"==typeof e}}}function $h(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function Yh(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function Xh(e,t){return d(e)&&"string"==typeof e.type&&e.type===t&&"function"==typeof e.Ha}function Jh(e){return d(e)&&"string"==typeof e.uid}function Zh(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function ef(e,t){for(var n in t){var r=t[n].name;e[r]=rf(r,e[n],t[n].j)}}function tf(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:w((function(e){return this[e]}),n),set:w((function(e,t,n,r){Kh(e,[n],[r],!0),this[t]=r}),r,n,t[n].kb),enumerable:!0})}}function nf(e,t,n,r){e[t]=rf(t,n,r)}function rf(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Kh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}ef(ah.prototype,{jb:{name:"applyActionCode",j:[Wh("code")]},Ra:{name:"checkActionCode",j:[Wh("code")]},nb:{name:"confirmPasswordReset",j:[Wh("code"),Wh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Wh("email"),Wh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Wh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Wh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Zh(zh(),Qh(),"nextOrObserver"),Qh("opt_error",!0),Qh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Zh(zh(),Qh(),"nextOrObserver"),Qh("opt_error",!0),Qh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Wh("email"),Zh(zh("opt_actionCodeSettings",!0),$h(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Wh("email"),zh("actionCodeSettings")]},xb:{name:"setPersistence",j:[Wh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Yh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Yh()]},Tc:{name:"signInWithCustomToken",j:[Wh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Wh("email"),Wh("password")]},Vc:{name:"signInWithEmailLink",j:[Wh("email"),Wh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Wh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Zh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof wl)}},$h(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Wh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Wh("url"),zh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Wh("code")]}}),tf(ah.prototype,{lc:{name:"languageCode",kb:Zh(Wh(),$h(),"languageCode")},ti:{name:"tenantId",kb:Zh(Wh(),$h(),"tenantId")}}),ah.Persistence=Zu,ah.Persistence.LOCAL="local",ah.Persistence.SESSION="session",ah.Persistence.NONE="none",ef(wl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Gh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Gh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Yh()]},qb:{name:"linkWithCredential",j:[Yh()]},Dc:{name:"linkWithPhoneNumber",j:[Wh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Yh()]},tb:{name:"reauthenticateWithCredential",j:[Yh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Wh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Zh(zh("opt_actionCodeSettings",!0),$h(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Wh(null,!0)]},cd:{name:"unlink",j:[Wh("provider")]},Bb:{name:"updateEmail",j:[Wh("email")]},Cb:{name:"updatePassword",j:[Wh("password")]},ed:{name:"updatePhoneNumber",j:[Yh("phone")]},Db:{name:"updateProfile",j:[zh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Wh("email"),Zh(zh("opt_actionCodeSettings",!0),$h(null,!0),"opt_actionCodeSettings",!0)]}}),ef(_h.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ef(wh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ef(wt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),tf(Xc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Gh("appVerificationDisabledForTesting")}}),ef(Jc.prototype,{confirm:{name:"confirm",j:[Wh("verificationCode")]}}),nf(so,"fromJSON",(function(e){e="string"==typeof e?JSON.parse(e):e;for(var t,n=[vo,xo,Po,ho],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[Zh(Wh(),zh(),"json")]),nf(Ao,"credential",(function(e,t){return new ko(e,t)}),[Wh("email"),Wh("password")]),ef(ko.prototype,{w:{name:"toJSON",j:[Wh(null,!0)]}}),ef(bo.prototype,{Ca:{name:"addScope",j:[Wh("scope")]},Ka:{name:"setCustomParameters",j:[zh("customOAuthParameters")]}}),nf(bo,"credential",wo,[Zh(Wh(),zh(),"token")]),nf(Ao,"credentialWithLink",No,[Wh("email"),Wh("emailLink")]),ef(_o.prototype,{Ca:{name:"addScope",j:[Wh("scope")]},Ka:{name:"setCustomParameters",j:[zh("customOAuthParameters")]}}),nf(_o,"credential",To,[Zh(Wh(),zh(),"token")]),ef(Eo.prototype,{Ca:{name:"addScope",j:[Wh("scope")]},Ka:{name:"setCustomParameters",j:[zh("customOAuthParameters")]}}),nf(Eo,"credential",Io,[Zh(Wh(),Zh(zh(),$h()),"idToken"),Zh(Wh(),$h(),"accessToken",!0)]),ef(So.prototype,{Ka:{name:"setCustomParameters",j:[zh("customOAuthParameters")]}}),nf(So,"credential",Co,[Zh(Wh(),zh(),"token"),Wh("secret",!0)]),ef(yo.prototype,{Ca:{name:"addScope",j:[Wh("scope")]},credential:{name:"credential",j:[Zh(Wh(),Zh(zh(),$h()),"optionsOrIdToken"),Zh(Wh(),$h(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[zh("customOAuthParameters")]}}),ef(fo.prototype,{w:{name:"toJSON",j:[Wh(null,!0)]}}),ef(co.prototype,{w:{name:"toJSON",j:[Wh(null,!0)]}}),nf(Lo,"credential",Mo,[Wh("verificationId"),Wh("verificationCode")]),ef(Lo.prototype,{fb:{name:"verifyPhoneNumber",j:[Zh(Wh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?Xh(e.session,oo)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?Xh(e.session,ao)&&Jh(e.multiFactorHint):e.session&&e.multiFactorUid?Xh(e.session,ao)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]}}),ef(Ro.prototype,{w:{name:"toJSON",j:[Wh(null,!0)]}}),ef(I.prototype,{toJSON:{name:"toJSON",j:[Wh(null,!0)]}}),ef(Wo.prototype,{toJSON:{name:"toJSON",j:[Wh(null,!0)]}}),ef(Ho.prototype,{toJSON:{name:"toJSON",j:[Wh(null,!0)]}}),ef(il.prototype,{toJSON:{name:"toJSON",j:[Wh(null,!0)]}}),ef(tl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.sb}}]}}),ef(ll.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.sb}},Wh("displayName",!0)]},bd:{name:"unenroll",j:[Zh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Jh},Wh(),"multiFactorInfoIdentifier")]}}),ef(Bh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),nf(bi,"parseLink",ki,[Wh("link")]),nf(kh,"assertion",(function(e){return new ul(e)}),[Yh("phone")]),function(){if(void 0===zu||!zu.INTERNAL||!zu.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:si,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ai,VERIFY_AND_CHANGE_EMAIL:ui,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ah,AuthCredential:so,Error:I};nf(e,"EmailAuthProvider",Ao,[]),nf(e,"FacebookAuthProvider",bo,[]),nf(e,"GithubAuthProvider",_o,[]),nf(e,"GoogleAuthProvider",Eo,[]),nf(e,"TwitterAuthProvider",So,[]),nf(e,"OAuthProvider",yo,[Wh("providerId")]),nf(e,"SAMLAuthProvider",mo,[Wh("providerId")]),nf(e,"PhoneAuthProvider",Lo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof ah)}}]),nf(e,"RecaptchaVerifier",Bh,[Zh(Wh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),zh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof zu.app.App)}}]),nf(e,"ActionCodeURL",bi,[]),nf(e,"PhoneMultiFactorGenerator",kh,[]),zu.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new ah(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC"}),zu.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:b((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:b(e.nc,e),addAuthTokenListener:b(e.cc,e),removeAuthTokenListener:b(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),zu.registerVersion("@firebase/auth","0.16.4"),zu.INTERNAL.extendNamespace({User:wl})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Qu,$u=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ru(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:nu(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),Yu=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return ou(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),Xu=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new $u(t)}}catch(e){}return new Yu},Ju=Xu("localStorage"),Zu=Xu("sessionStorage"),ec=new Ru("@firebase/database"),tc=(Qu=1,function(){return Qu++}),nc=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,Ls(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new cu;n.update(t);var r=n.digest();return js.encodeByteArray(r)},rc=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=rc.apply(null,i):n+="object"==typeof i?ru(i):i,n+=" "}return n},ic=null,oc=!0,ac=function(e,t){Ls(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(ec.logLevel=Iu.VERBOSE,ic=ec.log.bind(ec),t&&Zu.set("logging_enabled",!0)):"function"==typeof e?ic=e:(ic=null,Zu.remove("logging_enabled"))},sc=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===oc&&(oc=!1,null===ic&&!0===Zu.get("logging_enabled")&&ac(!0)),ic){var n=rc.apply(null,e);ic(n)}},uc=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];sc.apply(void 0,Rs([e],Ds(t)))}},cc=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+rc.apply(void 0,Rs([],Ds(e)));ec.error(n)},lc=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+rc.apply(void 0,Rs([],Ds(e)));throw ec.error(n),new Error(n)},hc=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+rc.apply(void 0,Rs([],Ds(e)));ec.warn(n)},fc=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},pc="[MIN_NAME]",dc="[MAX_NAME]",vc=function(e,t){if(e===t)return 0;if(e===pc||t===dc)return-1;if(t===pc||e===dc)return 1;var n=Ec(e),r=Ec(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},gc=function(e,t){return e===t?0:e<t?-1:1},mc=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ru(t))},yc=function(e){if("object"!=typeof e||null===e)return ru(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=ru(t[i]),r+=":",r+=yc(e[t[i]]);return r+="}"},bc=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var _c=function(e){Ls(!fc(e),"Invalid JSON number");var t,n,r,i,o,a=1023;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),a))+a,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(o=52;o;o-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(o=0;o<64;o+=8){var l=parseInt(u.substr(o,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},Tc=new RegExp("^-?(0*)\\d{1,10}$"),Ec=function(e){if(Tc.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Ic=function(e){try{e()}catch(e){setTimeout((function(){var t=e.stack||"";throw hc("Exception was thrown by user callback.",t),e}),Math.floor(0))}},Sc=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},Cc=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function kc(){return new Cc("")}function xc(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ac(e){return e.pieces_.length-e.pieceNum_}function Nc(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Cc(e.pieces_,t)}function Dc(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Rc(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Pc(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function Oc(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Cc(t,0)}function Lc(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Cc)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Cc(n,0)}function Mc(e){return e.pieceNum_>=e.pieces_.length}function Fc(e,t){var n=xc(e),r=xc(t);if(null===n)return t;if(n===r)return Fc(Nc(e),Nc(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function jc(e,t){for(var n=Pc(e,0),r=Pc(t,0),i=0;i<n.length&&i<r.length;i++){var o=vc(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Uc(e,t){if(Ac(e)!==Ac(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function qc(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Ac(e)>Ac(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Vc=function(e,t){this.errorPrefix_=t,this.parts_=Pc(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=mu(this.parts_[n]);Bc(this)};function Bc(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Kc(e))}function Kc(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hc=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Wc=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ju.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ju.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function Gc(e,t,n){var r;if(Ls("string"==typeof t,"typeof type must == string"),Ls("object"==typeof n,"typeof params must == object"),"websocket"===t)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return wc(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zc,Qc=function(e,t){var n=$c(e),r=n.namespace;"firebase.com"===n.domain&&lc(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||lc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&hc("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Wc(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new Cc(n.pathString)}},$c=function(e){var t="",n="",r="",i="",o="",a=!0,s="https",u=443;if("string"==typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(l,h)),l<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}(e.substring(l,h)));var f=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=Ns(e.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var s=a.split("=");2===s.length?r[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):hc("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,h)));(c=t.indexOf(":"))>=0?(a="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var d=t.indexOf(".");r=t.substring(0,d).toLowerCase(),n=t.substring(d+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},Yc=/[\[\].#$\/\u0000-\u001F\u007F]/,Xc=/[\[\].#$\u0000-\u001F\u007F]/,Jc=function(e){return"string"==typeof e&&0!==e.length&&!Yc.test(e)},Zc=function(e){return"string"==typeof e&&0!==e.length&&!Xc.test(e)},el=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!fc(e)||e&&"object"==typeof e&&ou(e,".sv")},tl=function(e,t,n,r,i){i&&void 0===n||nl(du(e,t,i),n,r)},nl=function(e,t,n){var r=n instanceof Cc?new Vc(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Kc(r));if("function"==typeof t)throw new Error(e+"contains a function "+Kc(r)+" with contents = "+t.toString());if(fc(t))throw new Error(e+"contains "+t.toString()+" "+Kc(r));if("string"==typeof t&&t.length>10485760/3&&mu(t)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+Kc(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var i=!1,o=!1;if(wc(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!Jc(t)))throw new Error(e+" contains an invalid key ("+t+") "+Kc(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a,s;s=t,(a=r).parts_.length>0&&(a.byteLength_+=1),a.parts_.push(s),a.byteLength_+=mu(s),Bc(a),nl(e,n,r),function(e){var t=e.parts_.pop();e.byteLength_-=mu(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),i&&o)throw new Error(e+' contains ".value" child '+Kc(r)+" in addition to actual children.")}},rl=function(e,t,n,r,i){if(!i||void 0!==n){var o=du(e,t,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var a=[];wc(n,(function(e,t){var n=new Cc(e);if(nl(o,t,Lc(r,n)),".priority"===Dc(n)&&!el(t))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=Pc(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Jc(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(jc);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&qc(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(o,a)}},il=function(e,t,n,r){if(!r||void 0!==n){if(fc(n))throw new Error(du(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!el(n))throw new Error(du(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ol=function(e,t,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(du(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},al=function(e,t,n,r){if(!(r&&void 0===n||Jc(n)))throw new Error(du(e,t,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},sl=function(e,t,n,r){if(!(r&&void 0===n||Zc(n)))throw new Error(du(e,t,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ul=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),sl(e,t,n,r)},cl=function(e,t){if(".info"===xc(t))throw new Error(e+" failed = Can't modify data under /.info/")},ll=function(e,t,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!Jc(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Zc(e)}(r))throw new Error(du(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},hl=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(du(e,t,r)+"must be a boolean.")};var fl,pl,dl,vl=function(e){return"number"==typeof e?"number:"+_c(e):"string:"+e},gl=function(e){if(e.isLeafNode()){var t=e.val();Ls("string"==typeof t||"number"==typeof t||"object"==typeof t&&ou(t,".sv"),"Priority must be a string or number.")}else Ls(e===zc||e.isEmpty(),"priority of unexpected type.");Ls(e===zc||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},ml=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Ls(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),gl(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return fl},set:function(e){fl=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return Mc(t)?this:".priority"===xc(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=xc(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Ls(".priority"!==r||1===Ac(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Nc(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+vl(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?_c(this.value_):this.value_,this.lazyHash_=nc(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Ls(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(r);return Ls(i>=0,"Unknown leaf type: "+n),Ls(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}(),yl=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),bl=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:_l.EMPTY_NODE,this.right=null!=o?o:_l.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return _l.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return _l.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),wl=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new bl(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),_l=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,bl.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,bl.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new yl(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new yl(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new yl(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new yl(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new wl,e}(),Tl=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),El=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Tl(pc,e),r=new Tl(pc,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Tl.MIN},e}();var Il,Sl,Cl,kl=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cs(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?vc(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Tl.MIN},t.prototype.maxPost=function(){return new Tl(dc,new ml("[PRIORITY-POST]",dl))},t.prototype.makePost=function(e,t){var n=pl(e);return new Tl(t,new ml("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(El)),xl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cs(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Il},set:function(e){Il=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return vc(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw Ms("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Tl.MIN},t.prototype.maxPost=function(){return new Tl(dc,Il)},t.prototype.makePost=function(e,t){return Ls("string"==typeof e,"KeyIndex indexValue must always be a string."),new Tl(e,Il)},t.prototype.toString=function(){return".key"},t}(El),Al=new xl,Nl=Math.log(2),Dl=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Nl,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Rl=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,a,s=r-t;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new bl(a,o.node,bl.BLACK,null,null);var u=parseInt(s/2,10)+t,c=i(t,u),l=i(u+1,r);return o=e[u],a=n?n(o):o,new bl(a,o.node,bl.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],h=n?n(l):l;u(new bl(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,bl.BLACK):(s(h,bl.BLACK),s(h,bl.RED))}return o}(new Dl(e.length));return new _l(r||t,o)},Pl={},Ol=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return Ls(Pl&&kl,"ChildrenNode.ts has not been loaded"),Sl=Sl||new e({".priority":Pl},{".priority":kl})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=au(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof _l?t:null},e.prototype.hasIndex=function(e){return ou(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){Ls(t!==Al,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,a=n.getIterator(Tl.Wrap),s=a.getNext();s;)o=o||t.isDefinedOn(s.node),i.push(s),s=a.getNext();r=o?Rl(i,t.getCompare()):Pl;var u=t.toString(),c=ks({},this.indexSet_);c[u]=t;var l=ks({},this.indexes_);return l[u]=r,new e(l,c)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(uu(this.indexes_,(function(e,i){var o=au(r.indexSet_,i);if(Ls(o,"Missing index implementation for "+i),e===Pl){if(o.isDefinedOn(t.node)){for(var a=[],s=n.getIterator(Tl.Wrap),u=s.getNext();u;)u.name!==t.name&&a.push(u),u=s.getNext();return a.push(t),Rl(a,o.getCompare())}return Pl}var c=n.get(t.name),l=e;return c&&(l=l.remove(new Tl(t.name,c))),l.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(uu(this.indexes_,(function(e){if(e===Pl)return e;var r=n.get(t.name);return r?e.remove(new Tl(t.name,r)):e})),this.indexSet_)},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ll(e,t){return vc(e.name,t.name)}function Ml(e,t){return vc(e,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fl=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&gl(this.priorityNode_),this.children_.isEmpty()&&Ls(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Cl||(Cl=new e(new _l(Ml),null,Ol.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Cl},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Cl:t},e.prototype.getChild=function(e){var t=xc(e);return null===t?this:this.getImmediateChild(t).getChild(Nc(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(Ls(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Tl(t,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Cl:this.priorityNode_;return new e(i,a,o)},e.prototype.updateChild=function(e,t){var n=xc(e);if(null===n)return t;Ls(".priority"!==xc(e)||1===Ac(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Nc(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(kl,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+vl(this.getPriority().val())+":"),this.forEachChild(kl,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":nc(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Tl(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Tl(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Tl(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Tl.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Tl.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===jl?-1:0},e.prototype.withIndex=function(t){if(t===Al||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Al||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(kl),r=t.getIterator(kl),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Al?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),jl=new(function(e){function t(){return e.call(this,new _l(Ml),Fl.EMPTY_NODE,Ol.Default)||this}return Cs(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return Fl.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(Fl));Object.defineProperties(Tl,{MIN:{value:new Tl(pc,Fl.EMPTY_NODE)},MAX:{value:new Tl(dc,jl)}}),xl.__EMPTY_NODE=Fl.EMPTY_NODE,ml.__childrenNodeConstructor=Fl,zc=jl,function(e){dl=e}(jl);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ul,ql;function Vl(e,t){if(void 0===t&&(t=null),null===e)return Fl.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),Ls(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new ml(e,Vl(t));if(e instanceof Array){var n=Fl.EMPTY_NODE;return wc(e,(function(t,r){if(ou(e,t)&&"."!==t.substring(0,1)){var i=Vl(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(Vl(t))}var r=[],i=!1;if(wc(e,(function(e,t){if("."!==e.substring(0,1)){var n=Vl(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Tl(e,n)))}})),0===r.length)return Fl.EMPTY_NODE;var o=Rl(r,Ll,(function(e){return e.name}),Ml);if(i){var a=Rl(r,kl.getCompare());return new Fl(o,Vl(t),new Ol({".priority":a},{".priority":kl}))}return new Fl(o,Vl(t),Ol.Default)}function Bl(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){pl=e}(Vl),(ql=Ul||(Ul={}))[ql.OVERWRITE=0]="OVERWRITE",ql[ql.MERGE=1]="MERGE",ql[ql.ACK_USER_WRITE=2]="ACK_USER_WRITE",ql[ql.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var Kl,Hl=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Ul.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(Mc(this.path)){if(null!=this.affectedTree.value)return Ls(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Cc(t));return new e(kc(),n,this.revert)}return Ls(xc(this.path)===t,"operationForChild called for unrelated child."),new e(Nc(this.path),this.affectedTree,this.revert)},e}(),Wl=function(){function e(e,t){void 0===t&&(Kl||(Kl=new _l(gc)),t=Kl),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return wc(t,(function(e,t){n=n.set(new Cc(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:kc(),value:this.value};if(Mc(e))return null;var n=xc(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Nc(e),t);return null!=i?{path:Lc(new Cc(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(Mc(t))return this;var n=xc(t),r=this.children.get(n);return null!==r?r.subtree(Nc(t)):new e(null)},e.prototype.set=function(t,n){if(Mc(t))return new e(n,this.children);var r=xc(t),i=(this.children.get(r)||new e(null)).set(Nc(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(Mc(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=xc(t),r=this.children.get(n);if(r){var i=r.remove(Nc(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(Mc(e))return this.value;var t=xc(e),n=this.children.get(t);return n?n.get(Nc(e)):null},e.prototype.setTree=function(t,n){if(Mc(t))return n;var r=xc(t),i=(this.children.get(r)||new e(null)).setTree(Nc(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(kc(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Lc(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,kc(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Mc(e))return null;var i=xc(e),o=this.children.get(i);return o?o.findOnPath_(Nc(e),Lc(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,kc(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(Mc(t))return this;this.value&&r(n,this.value);var i=xc(t),o=this.children.get(i);return o?o.foreachOnPath_(Nc(t),Lc(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(kc(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Lc(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),Gl=function(){function e(e,t){this.source=e,this.path=t,this.type=Ul.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return Mc(this.path)?new e(this.source,kc()):new e(this.source,Nc(this.path))},e}(),zl=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Ul.OVERWRITE}return e.prototype.operationForChild=function(t){return Mc(this.path)?new e(this.source,kc(),this.snap.getImmediateChild(t)):new e(this.source,Nc(this.path),this.snap)},e}(),Ql=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Ul.MERGE}return e.prototype.operationForChild=function(t){if(Mc(this.path)){var n=this.children.subtree(new Cc(t));return n.isEmpty()?null:n.value?new zl(this.source,kc(),n.value):new e(this.source,kc(),n)}return Ls(xc(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Nc(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),$l=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(Mc(e))return this.isFullyInitialized()&&!this.filtered_;var t=xc(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Yl(e,t){return{eventCache:e,serverCache:t}}function Xl(e,t,n,r){return Yl(new $l(t,n,r),e.serverCache)}function Jl(e,t,n,r){return Yl(e.eventCache,new $l(t,n,r))}function Zl(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function eh(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(e){return{type:"value",snapshotNode:e}}function nh(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function rh(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ih(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var oh=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,o){Ls(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(rh(t,a)):Ls(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(nh(t,n)):o.trackChildChange(ih(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(kl,(function(e,r){t.hasChild(e)||n.trackChildChange(rh(e,r))})),t.isLeafNode()||t.forEachChild(kl,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(ih(t,r,i))}else n.trackChildChange(nh(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?Fl.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),ah=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;Ls("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Ls(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,ih(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,rh(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,nh(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Ms("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,ih(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),sh=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new Wl(null))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(e,t,n){if(Mc(t))return new sh(new Wl(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=Fc(i,t);return o=o.updateChild(a,n),new sh(e.writeTree_.set(i,o))}var s=new Wl(n),u=e.writeTree_.setTree(t,s);return new sh(u)}function ch(e,t,n){var r=e;return wc(n,(function(e,n){r=uh(r,Lc(t,e),n)})),r}function lh(e,t){if(Mc(t))return sh.empty();var n=e.writeTree_.setTree(t,new Wl(null));return new sh(n)}function hh(e,t){return null!=fh(e,t)}function fh(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Fc(n.path,t)):null}function ph(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(kl,(function(e,n){t.push(new Tl(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Tl(e,n.value))})),t}function dh(e,t){if(Mc(t))return e;var n=fh(e,t);return new sh(null!=n?new Wl(n):e.writeTree_.subtree(t))}function vh(e){return e.writeTree_.isEmpty()}function gh(e,t){return mh(kc(),e.writeTree_,t)}function mh(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Ls(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=mh(Lc(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Lc(e,".priority"),r)),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(e,t){return Dh(t,e)}function bh(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Ls(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,o=!1,a=e.allWrites.length-1;i&&a>=0;){var s=e.allWrites[a];s.visible&&(a>=n&&wh(s,r.path)?i=!1:qc(r.path,s.path)&&(o=!0)),a--}if(i){if(o)return function(e){e.visibleWrites=Th(e.allWrites,_h,kc()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=lh(e.visibleWrites,r.path):wc(r.children,(function(t){e.visibleWrites=lh(e.visibleWrites,Lc(r.path,t))}));return!0}return!1}function wh(e,t){if(e.snap)return qc(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&qc(Lc(e.path,n),t))return!0;return!1}function _h(e){return e.visible}function Th(e,t,n){for(var r=sh.empty(),i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path,s=void 0;if(o.snap)qc(n,a)?r=uh(r,s=Fc(n,a),o.snap):qc(a,n)&&(s=Fc(a,n),r=uh(r,kc(),o.snap.getChild(s)));else{if(!o.children)throw Ms("WriteRecord should have .snap or .children");if(qc(n,a))r=ch(r,s=Fc(n,a),o.children);else if(qc(a,n))if(Mc(s=Fc(a,n)))r=ch(r,kc(),o.children);else{var u=au(o.children,xc(s));if(u){var c=u.getChild(Nc(s));r=uh(r,kc(),c)}}}}}return r}function Eh(e,t,n,r,i){if(r||i){var o=dh(e.visibleWrites,t);if(!i&&vh(o))return n;if(i||null!=n||hh(o,kc())){return gh(Th(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(qc(e.path,t)||qc(t,e.path))}),t),n||Fl.EMPTY_NODE)}return null}var a=fh(e.visibleWrites,t);if(null!=a)return a;var s=dh(e.visibleWrites,t);return vh(s)?n:null!=n||hh(s,kc())?gh(s,n||Fl.EMPTY_NODE):null}function Ih(e,t,n,r){return Eh(e.writeTree,e.treePath,t,n,r)}function Sh(e,t){return function(e,t,n){var r=Fl.EMPTY_NODE,i=fh(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(kl,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=dh(e.visibleWrites,t);return n.forEachChild(kl,(function(e,t){var n=gh(dh(o,new Cc(e)),t);r=r.updateImmediateChild(e,n)})),ph(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return ph(dh(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Ch(e,t,n,r){return function(e,t,n,r,i){Ls(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=Lc(t,n);if(hh(e.visibleWrites,o))return null;var a=dh(e.visibleWrites,o);return vh(a)?i.getChild(n):gh(a,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function kh(e,t){return function(e,t){return fh(e.visibleWrites,t)}(e.writeTree,Lc(e.treePath,t))}function xh(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=dh(e.visibleWrites,t),c=fh(u,kc());if(null!=c)s=c;else{if(null==n)return[];s=gh(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),p=f.getNext();p&&l.length<i;)0!==h(p,r)&&l.push(p),p=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}function Ah(e,t,n){return function(e,t,n,r){var i=Lc(t,n),o=fh(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?gh(dh(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Nh(e,t){return Dh(Lc(e.treePath,t),e.writeTree)}function Dh(e,t){return{treePath:e,writeTree:t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rh=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),Ph=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new $l(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ah(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:eh(this.viewCache_),i=xh(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function Oh(e,t,n,r,i){var o,a,s=new ah;if(n.type===Ul.OVERWRITE){var u=n;u.source.fromUser?o=Fh(e,t,u.path,u.snap,r,i,s):(Ls(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!Mc(u.path),o=Mh(e,t,u.path,u.snap,r,i,a,s))}else if(n.type===Ul.MERGE){var c=n;c.source.fromUser?o=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=Lc(n,r);jh(t,xc(c))&&(s=Fh(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=Lc(n,r);jh(t,xc(c))||(s=Fh(e,s,c,u,i,o,a))})),s}(e,t,c.path,c.children,r,i,s):(Ls(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),o=qh(e,t,c.path,c.children,r,i,a,s))}else if(n.type===Ul.ACK_USER_WRITE){var l=n;o=l.revert?function(e,t,n,r,i,o){var a;if(null!=kh(r,n))return t;var s=new Ph(r,t,i),u=t.eventCache.getNode(),c=void 0;if(Mc(n)||".priority"===xc(n)){var l=void 0;if(t.serverCache.isFullyInitialized())l=Ih(r,eh(t));else{var h=t.serverCache.getNode();Ls(h instanceof Fl,"serverChildren would be complete if leaf node"),l=Sh(r,h)}l=l,c=e.filter.updateFullNode(u,l,o)}else{var f=xc(n),p=Ah(r,f,t.serverCache);null==p&&t.serverCache.isCompleteForChild(f)&&(p=u.getImmediateChild(f)),(c=null!=p?e.filter.updateChild(u,f,p,Nc(n),s,o):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(u,f,Fl.EMPTY_NODE,Nc(n),s,o):u).isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Ih(r,eh(t))).isLeafNode()&&(c=e.filter.updateFullNode(c,a,o))}return a=t.serverCache.isFullyInitialized()||null!=kh(r,kc()),Xl(t,c,a,e.filter.filtersNodes())}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,l.path,r,i,s):function(e,t,n,r,i,o,a){if(null!=kh(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Mc(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Mh(e,t,n,u.getNode().getChild(n),i,o,s,a);if(Mc(n)){var c=new Wl(null);return u.getNode().forEachChild(Al,(function(e,t){c=c.set(new Cc(e),t)})),qh(e,t,n,c,i,o,s,a)}return t}var l=new Wl(null);return r.foreach((function(e,t){var r=Lc(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),qh(e,t,n,l,i,o,s,a)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==Ul.LISTEN_COMPLETE)throw Ms("Unknown operation type: "+n.type);o=function(e,t,n,r,i){var o=t.serverCache,a=Jl(t,o.getNode(),o.isFullyInitialized()||Mc(n),o.isFiltered());return Lh(e,a,n,r,Rh,i)}(e,t,n.path,r,s)}var h=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Zl(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(th(Zl(t)))}}(t,o,h),{viewCache:o,changes:h}}function Lh(e,t,n,r,i,o){var a=t.eventCache;if(null!=kh(r,n))return t;var s=void 0,u=void 0;if(Mc(n))if(Ls(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=eh(t),l=Sh(r,c instanceof Fl?c:Fl.EMPTY_NODE);s=e.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{var h=Ih(r,eh(t));s=e.filter.updateFullNode(t.eventCache.getNode(),h,o)}else{var f=xc(n);if(".priority"===f){Ls(1===Ac(n),"Can't have a priority with additional path components");var p=a.getNode(),d=Ch(r,n,p,u=t.serverCache.getNode());s=null!=d?e.filter.updatePriority(p,d):a.getNode()}else{var v=Nc(n),g=void 0;if(a.isCompleteForChild(f)){u=t.serverCache.getNode();var m=Ch(r,n,a.getNode(),u);g=null!=m?a.getNode().getImmediateChild(f).updateChild(v,m):a.getNode().getImmediateChild(f)}else g=Ah(r,f,t.serverCache);s=null!=g?e.filter.updateChild(a.getNode(),f,g,v,i,o):a.getNode()}}return Xl(t,s,a.isFullyInitialized()||Mc(n),e.filter.filtersNodes())}function Mh(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(Mc(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=xc(n);if(!c.isCompleteForPath(n)&&Ac(n)>1)return t;var p=Nc(n),d=c.getNode().getImmediateChild(f).updateChild(p,r);u=".priority"===f?l.updatePriority(c.getNode(),d):l.updateChild(c.getNode(),f,d,p,Rh,null)}var v=Jl(t,u,c.isFullyInitialized()||Mc(n),l.filtersNodes());return Lh(e,v,n,i,new Ph(i,v,o),s)}function Fh(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new Ph(i,t,o);if(Mc(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=Xl(t,u,!0,e.filter.filtersNodes());else{var h=xc(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Xl(t,u,c.isFullyInitialized(),c.isFiltered());else{var f=Nc(n),p=c.getNode().getImmediateChild(h),d=void 0;if(Mc(f))d=r;else{var v=l.getCompleteChild(h);d=null!=v?".priority"===Dc(f)&&v.getChild(Oc(f)).isEmpty()?v:v.updateChild(f,r):Fl.EMPTY_NODE}if(p.equals(d))s=t;else s=Xl(t,e.filter.updateChild(c.getNode(),h,d,f,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function jh(e,t){return e.eventCache.isCompleteForChild(t)}function Uh(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function qh(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Mc(n)?r:new Wl(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Uh(0,t.serverCache.getNode().getImmediateChild(n),r);c=Mh(e,c,new Cc(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=Uh(0,t.serverCache.getNode().getImmediateChild(n),r);c=Mh(e,c,new Cc(n),h,i,o,a,s)}})),c}var Vh=function(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()};function Bh(e,t,n,r,i,o){var a=r.filter((function(e){return e.type===n}));a.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Ms("Should only compare child_ events.");var r=new Tl(t.childName,t.snapshotNode),i=new Tl(n.childName,n.snapshotNode);return e.index_.compare(r,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,n)})),a.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}var Kh,Hh,Wh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Gh=(Kh=0,Hh=[],function(e){var t,n=e===Kh;Kh=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=Wh.charAt(e%64),e=Math.floor(e/64);Ls(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;t>=0&&63===Hh[t];t--)Hh[t]=0;Hh[t]++}else for(t=0;t<12;t++)Hh[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=Wh.charAt(Hh[t]);return Ls(20===i.length,"nextPushId: Length should be 20."),i}),zh=function(e){if("2147483647"===e)return"-";var t=Ec(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return dc;var o=n[i],a=Wh.charAt(Wh.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},Qh=function(e){if("-2147483648"===e)return pc;var t=Ec(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=Wh.charAt(Wh.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))},$h=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cs(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?vc(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Tl.MIN},t.prototype.maxPost=function(){return Tl.MAX},t.prototype.makePost=function(e,t){var n=Vl(e);return new Tl(t,n)},t.prototype.toString=function(){return".value"},t}(El)),Yh=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,Ls(!Mc(t)&&".priority"!==xc(t),"Can't create PathIndex with empty path or .priority key"),n}return Cs(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?vc(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=Vl(e),r=Fl.EMPTY_NODE.updateChild(this.indexPath_,n);return new Tl(t,r)},t.prototype.maxPost=function(){var e=Fl.EMPTY_NODE.updateChild(this.indexPath_,jl);return new Tl(dc,e)},t.prototype.toString=function(){return Pc(this.indexPath_,0).join("/")},t}(El),Xh=function(){function e(t){this.indexedFilter_=new oh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Tl(t,n))||(n=Fl.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=Fl.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Fl.EMPTY_NODE);var i=this;return t.forEachChild(kl,(function(e,t){i.matches(new Tl(e,t))||(r=r.updateImmediateChild(e,Fl.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),Jh=function(){function e(e){this.rangedFilter_=new Xh(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Tl(t,n))||(n=Fl.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Fl.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=Fl.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(Fl.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){a=i.getNext();!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,Fl.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(e,t){return a(t,e)}}else o=this.index_.getCompare();var s=e;Ls(s.numChildren()===this.limit_,"");var u=new Tl(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var h=s.getImmediateChild(t),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===t||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:o(f,u);if(l&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(ih(t,n,h)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(rh(t,h));var d=s.updateImmediateChild(t,Fl.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(nh(f.name,f.node)),d.updateImmediateChild(f.name,f.node)):d}return n.isEmpty()?e:l&&o(c,u)>=0?(null!=i&&(i.trackChildChange(rh(c.name,c.node)),i.trackChildChange(nh(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,Fl.EMPTY_NODE)):e},e}(),Zh=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=kl}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return Ls(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return Ls(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:pc},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return Ls(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return Ls(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:dc},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return Ls(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===kl},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function ef(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function tf(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function nf(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function rf(e,t,n){var r;if(e.index_===Al)"string"==typeof t&&(t=zh(t)),r=nf(e,t,n);else{r=nf(e,t,null==n?dc:zh(n))}return r.startAfterSet_=!0,r}function of(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function af(e,t,n){var r;return e.index_===Al?("string"==typeof t&&(t=Qh(t)),r=of(e,t,n)):r=of(e,t,null==n?pc:Qh(n)),r.endBeforeSet_=!0,r}function sf(e,t){var n=e.copy();return n.index_=t,n}function uf(e){var t,n={};return e.isDefault()||(e.index_===kl?t="$priority":e.index_===$h?t="$value":e.index_===Al?t="$key":(Ls(e.index_ instanceof Yh,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=ru(t),e.startSet_&&(n.startAt=ru(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+ru(e.indexStartName_))),e.endSet_&&(n.endAt=ru(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+ru(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var cf,lf=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_.getQueryParams(),i=new oh(r.getIndex()),o=(n=r).loadsAllData()?new oh(n.getIndex()):n.hasLimit()?new Jh(n):new Xh(n);this.processor_=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(Fl.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(Fl.EMPTY_NODE,s.getNode(),null),l=new $l(u,a.isFullyInitialized(),i.filtersNodes()),h=new $l(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Yl(h,l),this.eventGenerator_=new Vh(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function hf(e,t){var n=eh(e.viewCache_);return n&&(e.query.getQueryParams().loadsAllData()||!Mc(t)&&!n.getImmediateChild(xc(t)).isEmpty())?n.getChild(t):null}function ff(e){return 0===e.eventRegistrations_.length}function pf(e,t,n){var r=[];if(n){Ls(null==t,"A cancel should cancel all event registrations.");var i=e.query.path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var o=[],a=0;a<e.eventRegistrations_.length;++a){var s=e.eventRegistrations_[a];if(s.matches(t)){if(t.hasAnyCallback()){o=o.concat(e.eventRegistrations_.slice(a+1));break}}else o.push(s)}e.eventRegistrations_=o}else e.eventRegistrations_=[];return r}function df(e,t,n,r){t.type===Ul.MERGE&&null!==t.source.queryId&&(Ls(eh(e.viewCache_),"We should always have a full cache before handling merges"),Ls(Zl(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,o,a=e.viewCache_,s=Oh(e.processor_,a,t,n,r);return i=e.processor_,o=s.viewCache,Ls(o.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Ls(o.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Ls(s.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,vf(e,s.changes,s.viewCache.eventCache.getNode(),null)}function vf(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Bh(e,i,"child_removed",t,r,n),Bh(e,i,"child_added",t,r,n),Bh(e,i,"child_moved",o,r,n),Bh(e,i,"child_changed",t,r,n),Bh(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gf=function(){this.views=new Map};function mf(e,t,n,r){var i,o,a=t.source.queryId;if(null!==a){var s=e.views.get(a);return Ls(null!=s,"SyncTree gave us an op for an invalid query."),df(s,t,n,r)}var u=[];try{for(var c=Ns(e.views.values()),l=c.next();!l.done;l=c.next()){s=l.value;u=u.concat(df(s,t,n,r))}}catch(e){i={error:e}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return u}function yf(e,t,n,r,i){var o=t.queryIdentifier(),a=e.views.get(o);if(!a){var s=Ih(n,i?r:null),u=!1;s?u=!0:r instanceof Fl?(s=Sh(n,r),u=!1):(s=Fl.EMPTY_NODE,u=!1);var c=Yl(new $l(s,u,!1),new $l(r,i,!1));return new lf(t,c)}return a}function bf(e,t,n,r,i,o){var a=yf(e,t,r,i,o);return e.views.has(t.queryIdentifier())||e.views.set(t.queryIdentifier(),a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(kl,(function(e,t){r.push(nh(e,t))})),n.isFullyInitialized()&&r.push(th(n.getNode())),vf(e,r,n.getNode(),t)}(a,n)}function wf(e,t,n,r){var i,o,a=t.queryIdentifier(),s=[],u=[],c=Sf(e);if("default"===a)try{for(var l=Ns(e.views.entries()),h=l.next();!h.done;h=l.next()){var f=Ds(h.value,2),p=f[0],d=f[1];u=u.concat(pf(d,n,r)),ff(d)&&(e.views.delete(p),d.query.getQueryParams().loadsAllData()||s.push(d.query))}}catch(e){i={error:e}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}else(d=e.views.get(a))&&(u=u.concat(pf(d,n,r)),ff(d)&&(e.views.delete(a),d.query.getQueryParams().loadsAllData()||s.push(d.query)));return c&&!Sf(e)&&s.push(new(Ls(cf,"Reference.ts has not been loaded"),cf)(t.repo,t.path)),{removed:s,events:u}}function _f(e){var t,n,r=[];try{for(var i=Ns(e.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query.getQueryParams().loadsAllData()||r.push(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Tf(e,t){var n,r,i=null;try{for(var o=Ns(e.views.values()),a=o.next();!a.done;a=o.next()){var s=a.value;i=i||hf(s,t)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Ef(e,t){if(t.getQueryParams().loadsAllData())return Cf(e);var n=t.queryIdentifier();return e.views.get(n)}function If(e,t){return null!=Ef(e,t)}function Sf(e){return null!=Cf(e)}function Cf(e){var t,n;try{for(var r=Ns(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query.getQueryParams().loadsAllData())return o}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kf=1,xf=function(e){this.listenProvider_=e,this.syncPointTree_=new Wl(null),this.pendingWriteTree_={visibleWrites:sh.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Af(e,t,n,r,i){return function(e,t,n,r,i){Ls(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=uh(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Ff(e,new zl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Nf(e,t,n,r){!function(e,t,n,r){Ls(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=ch(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=Wl.fromObject(n);return Ff(e,new Ql({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function Df(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(bh(e.pendingWriteTree_,t)){var i=new Wl(null);return null!=r.snap?i=i.set(kc(),!0):wc(r.children,(function(e){i=i.set(new Cc(e),!0)})),Ff(e,new Hl(r.path,i,n))}return[]}function Rf(e,t,n){return Ff(e,new zl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Pf(e,t,n,r){var i=t.path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t.queryIdentifier()||If(o,t))){var s=wf(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex((function(e){return e.getQueryParams().loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return Sf(t)}));if(c&&!l){var h=e.syncPointTree_.subtree(i);if(!h.isEmpty())for(var f=function(e){return e.fold((function(e,t,n){if(t&&Sf(t))return[Cf(t)];var r=[];return t&&(r=_f(t)),wc(n,(function(e,t){r=r.concat(t)})),r}))}(h),p=0;p<f.length;++p){var d=f[p],v=d.query,g=qf(e,d);e.listenProvider_.startListening(Gf(v),Vf(e,v),g.hashFn,g.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(Gf(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(Bf(t));e.listenProvider_.stopListening(Gf(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r.getQueryParams().loadsAllData()){var i=Bf(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function Of(e,t,n){var r=t.path,i=null,o=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Fc(e,r);i=i||Tf(t,n),o=o||Sf(t)}));var a,s=e.syncPointTree_.get(r);(s?(o=o||Sf(s),i=i||Tf(s,kc())):(s=new gf,e.syncPointTree_=e.syncPointTree_.set(r,s)),null!=i)?a=!0:(a=!1,i=Fl.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Tf(t,kc());n&&(i=i.updateImmediateChild(e,n))})));var u=If(s,t);if(!u&&!t.getQueryParams().loadsAllData()){var c=Bf(t);Ls(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");var l=kf++;e.queryToTagMap.set(c,l),e.tagToQueryMap.set(l,c)}var h=bf(s,t,n,yh(e.pendingWriteTree_,r),i,a);if(!u&&!o){var f=Ef(s,t);h=h.concat(function(e,t,n){var r=t.path,i=Vf(e,t),o=qf(e,n),a=e.listenProvider_.startListening(Gf(t),i,o.hashFn,o.onComplete),s=e.syncPointTree_.subtree(r);if(i)Ls(!Sf(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!Mc(e)&&t&&Sf(t))return[Cf(t).query];var r=[];return t&&(r=r.concat(_f(t).map((function(e){return e.query})))),wc(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(Gf(l),Vf(e,l))}return a}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,f))}return h}function Lf(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Tf(n,Fc(e,t));if(r)return r}));return Eh(r,t,i,n,!0)}function Mf(e,t){var n=t.path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Fc(e,n);r=r||Tf(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Tf(i,kc()):(i=new gf,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new $l(r,!0,!1):null;return function(e){return Zl(e.viewCache_)}(yf(i,t,yh(e.pendingWriteTree_,t.path),o?a.getNode():Fl.EMPTY_NODE,o))}function Ff(e,t){return jf(t,e.syncPointTree_,null,yh(e.pendingWriteTree_,kc()))}function jf(e,t,n,r){if(Mc(e.path))return Uf(e,t,n,r);var i=t.get(kc());null==n&&null!=i&&(n=Tf(i,kc()));var o=[],a=xc(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=Nh(r,a);o=o.concat(jf(s,u,c,l))}return i&&(o=o.concat(mf(i,e,r,n))),o}function Uf(e,t,n,r){var i=t.get(kc());null==n&&null!=i&&(n=Tf(i,kc()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=Nh(r,t),u=e.operationForChild(t);u&&(o=o.concat(Uf(u,i,a,s)))})),i&&(o=o.concat(mf(i,e,r,n))),o}function qf(e,t){var n=t.query,r=Vf(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||Fl.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Kf(e,n);if(r){var i=Hf(r),o=i.path,a=i.queryId,s=Fc(o,t);return Wf(e,o,new Gl(Bl(a),s))}return[]}(e,n.path,r):function(e,t){return Ff(e,new Gl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n.path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Pf(e,n,null,i)}}}function Vf(e,t){var n=Bf(t);return e.queryToTagMap.get(n)}function Bf(e){return e.path.toString()+"$"+e.queryIdentifier()}function Kf(e,t){return e.tagToQueryMap.get(t)}function Hf(e){var t=e.indexOf("$");return Ls(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Cc(e.substr(0,t))}}function Wf(e,t,n){var r=e.syncPointTree_.get(t);return Ls(r,"Missing sync point for query tag that we're tracking"),mf(r,n,yh(e.pendingWriteTree_,t),null)}function Gf(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e}var zf=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),Qf=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=Lc(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return Lf(this.syncTree_,this.path_)},e}(),$f=function(e,t,n){return e&&"object"==typeof e?(Ls(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?Yf(e[".sv"],t,n):"object"==typeof e[".sv"]?Xf(e[".sv"],t):void Ls(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Yf=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Ls(!1,"Unexpected server value: "+e)}},Xf=function(e,t,n){e.hasOwnProperty("increment")||Ls(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&Ls(!1,"Unexpected increment value: "+r);var i=t.node();if(Ls(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!=typeof o?r:o+r},Jf=function(e,t,n,r){return ep(t,new Qf(n,e),r)},Zf=function(e,t,n){return ep(e,new zf(t),n)};function ep(e,t,n){var r,i=e.getPriority().val(),o=$f(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=$f(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new ml(s,Vl(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new ml(o))),u.forEachChild(kl,(function(e,i){var o=ep(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(){return{value:null,children:new Map}}function np(e,t,n){if(Mc(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=xc(t);e.children.has(r)||e.children.set(r,tp()),np(e.children.get(r),t=Nc(t),n)}}function rp(e,t){if(Mc(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(kl,(function(t,n){np(e,new Cc(t),n)})),rp(e,t)}if(e.children.size>0){var r=xc(t);if(t=Nc(t),e.children.has(r))rp(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function ip(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,(function(e,r){ip(r,new Cc(t.toString()+"/"+e),n)}))}var op=function(){function e(){this.rootNode_=Fl.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}(),ap=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),ou(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return qs(this.counters_)},e}(),sp={},up={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(e){var t=e.toString();return sp[t]||(sp[t]=new ap),sp[t]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var lp=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=ks({},e);return this.last_&&wc(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),hp=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new lp(e);var n=1e4+2e4*Math.random();Sc(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;wc(t,(function(t,i){i>0&&ou(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Sc(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var fp=function(){this.eventLists_=[],this.recursionDepth_=0};function pp(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Uc(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function dp(e,t,n){pp(e,n),gp(e,(function(e){return Uc(e,t)}))}function vp(e,t,n){pp(e,n),gp(e,(function(e){return qc(e,t)||qc(t,e)}))}function gp(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(mp(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function mp(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();ic&&sc("event: "+n.toString()),Ic(r)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yp=function(){function e(e){this.allowedEvents_=e,this.listeners_={},Ls(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=Rs([],Ds(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){Ls(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),bp=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return Cs(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Ls("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(yp),wp=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Hs()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return Cs(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Ls("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(yp),_p=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&Ic((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),Tp=function(){function e(e,t,n,r,i){this.connId=e,this.repoInfo=t,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=uc(e),this.stats_=cp(t),this.urlFn=function(e){return Gc(t,"long_polling",e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new _p(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Ep((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Ds(e,5),i=r[0],o=r[1],a=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Ds(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),"undefined"!=typeof location&&location.hostname&&Hc.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!!e.forceAllow_||!(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=ru(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n,r=(n=Fs(t),js.encodeByteArray(n,!0)),i=bc(r,1840),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(e){var t=ru(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),Ep=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=tc(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(e){sc("frame writing exception"),e.stack&&sc(e.stack),sc(e)}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||sc("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){sc("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(e){}}),Math.floor(1))},e}(),Ip="";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(e){Ip=e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cp=null;"undefined"!=typeof MozWebSocket?Cp=MozWebSocket:"undefined"!=typeof WebSocket&&(Cp=WebSocket);var kp=function(){function e(t,n,r,i,o){this.connId=t,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=uc(this.connId),this.stats_=cp(n),this.connURL=e.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n){var r={v:"5"};return"undefined"!=typeof location&&location.hostname&&Hc.test(location.hostname)&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),Gc(e,"websocket",r)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ju.set("previous_websocket_failure",!0);try{if(Qs());else{var r={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new Cp(this.connURL,[],r)}}catch(e){this.log_("Error instantiating WebSocket.");var i=e.message||e.data;return i&&this.log_(i),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Cp&&!e.forceDisallow_},e.previouslyFailed=function(){return Ju.isInMemoryStorage||!0===Ju.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){Ju.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=nu(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(Ls(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=ru(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=bc(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),xp=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[Tp,kp]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=kp&&kp.isAvailable(),o=i&&!kp.previouslyFailed();if(t.webSocketOnly&&(i||hc("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[kp];else{var a=this.transports_=[];try{for(var s=Ns(e.ALL_TRANSPORTS),u=s.next();!u.done;u=s.next()){var c=u.value;c&&c.isAvailable()&&a.push(c)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),Ap=function(){function e(e,t,n,r,i,o,a,s){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=uc("c:"+this.id+":"),this.transportManager_=new xp(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Sc((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=mc("t",e),n=mc("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=mc("t",e),n=mc("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=mc("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?cc("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):cc("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&hc("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Sc((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Sc((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ju.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),Np=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),Dp=function(e){function t(n,r,i,o,a,s,u){var c=e.call(this)||this;if(c.repoInfo_=n,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=o,c.onServerInfoUpdate_=a,c.authTokenProvider_=s,c.authOverride_=u,c.id=t.nextPersistentConnectionId_++,c.log_=uc("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=1e3,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,u&&!Qs())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),bp.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&wp.getInstance().on("online",c.onOnline_,c),c}return Cs(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(ru(i)),Ls(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this,n=new Bs,r={p:e.path.toString(),q:e.queryObject()},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[o];void 0!==e&&i===e&&(delete t.outstandingGets_[o],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(o),n.promise},t.prototype.listen=function(e,t,n,r){var i=e.queryIdentifier(),o=e.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Ls(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Ls(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r.queryObject(),a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&ou(e,"w")){var n=au(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',i=t.path.toString();hc("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){var t;(e&&40===e.length||"object"==typeof(t=iu(e).claims)&&!0===t.admin)&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e,t=this;if(this.connected_&&this.authToken_){var n=this.authToken_,r=(e=iu(n).claims)&&"object"==typeof e&&e.hasOwnProperty("iat")?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,(function(e){var r=e.s,i=e.d||"error";t.authToken_===n&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},t.prototype.unlisten=function(e,t){var n=e.path.toString(),r=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),Ls(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e.queryObject(),t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+ru(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):cc("Unrecognized action received from server: "+ru(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;Ls(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){var e=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,a=this,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,i())};this.realtime_={close:l,sendRequest:function(e){Ls(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then((function(e){u?sc("getToken() completed but was canceled"):(sc("getToken() completed. Creating connection."),a.authToken_=e&&e.accessToken,c=new Ap(o,a.repoInfo_,a.applicationId_,n,r,i,(function(e){hc(e+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")}),s))})).then(null,(function(t){a.log_("Failed to get token: "+t),u||(e.repoInfo_.nodeAdmin&&hc(t),l())}))}},t.prototype.interrupt=function(e){sc("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){sc("Resuming connection for reason: "+e),delete this.interruptReasons_[e],su(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return yc(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new Cc(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){sc("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth();try{for(var i=Ns(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,Ns(a.values())),u=s.next();!u.done;u=s.next()){var c=u.value;this.sendListen_(c)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},t.prototype.sendConnectStats_=function(){var e={};e["sdk.js."+Ip.replace(/\./g,"-")]=1,Hs()?e["framework.cordova"]=1:zs()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=wp.getInstance().currentlyOnline();return su(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(Np),Rp=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=uc("p:rest:"),i.listens_={},i}return Cs(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(Ls(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},t.prototype.listen=function(e,n,r,i){var o=this,a=e.path.toString();this.log_("Listen called for "+a+" "+e.queryIdentifier());var s=t.getListenId_(e,r),u={};this.listens_[s]=u;var c=uf(e.getQueryParams());this.restRequest_(a+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(a,n,!1,r),au(o.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=uf(e.getQueryParams()),r=e.path.toString(),i=new Bs;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(t.auth=o);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}(t);r.log_("Sending REST request for "+a);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(n&&4===s.readyState){r.log_("REST Response for "+a+" received. status:",s.status,"response:",s.responseText);var e=null;if(s.status>=200&&s.status<300){try{e=nu(s.responseText)}catch(e){hc("Failed to parse JSON response for "+a+": "+s.responseText)}n(null,e)}else 401!==s.status&&404!==s.status&&hc("Got unsuccessful REST response for "+a+" Status: "+s.status),n(s.status);n=null}},s.open("GET",a,!0),s.send()}))},t}(Np),Pp=function(){function e(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return e.prototype.val=function(){return pu("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return pu("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return pu("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return pu("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){pu("DataSnapshot.child",0,1,arguments.length),t=String(t),sl("DataSnapshot.child",1,t,!1);var n=new Cc(t),r=this.ref_.child(n);return new e(this.node_.getChild(n),r,kl)},e.prototype.hasChild=function(e){pu("DataSnapshot.hasChild",1,1,arguments.length),sl("DataSnapshot.hasChild",1,e,!1);var t=new Cc(e);return!this.node_.getChild(t).isEmpty()},e.prototype.getPriority=function(){return pu("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;if(pu("DataSnapshot.forEach",1,1,arguments.length),vu("DataSnapshot.forEach",1,t,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return t(new e(i,n.ref_.child(r),kl))}))},e.prototype.hasChildren=function(){return pu("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return pu("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return pu("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Op=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(e,t){for(var n=t instanceof Cc?t:new Cc(t),r=e,i=xc(n);null!==i;){var o=au(r.node.children,i)||{children:{},childCount:0};r=new Op(i,r,o),i=xc(n=Nc(n))}return r}function Mp(e){return e.node.value}function Fp(e,t){e.node.value=t,Bp(e)}function jp(e){return e.node.childCount>0}function Up(e,t){wc(e.node.children,(function(n,r){t(new Op(n,e,r))}))}function qp(e,t,n,r){n&&!r&&t(e),Up(e,(function(e){qp(e,t,!0,r)})),n&&r&&t(e)}function Vp(e){return new Cc(null===e.parent?e.name:Vp(e.parent)+"/"+e.name)}function Bp(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Mp(e)&&!jp(e)}(n),i=ou(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Bp(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Bp(e))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.parent,e.name,e)}var Kp=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fp,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=tp(),this.transactionQueueTree_=new Op,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function Hp(e){if(e.stats_=cp(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Rp(e.repoInfo_,(function(t,n,r,i){zp(e,t,n,r,i)}),e.authTokenProvider_),setTimeout((function(){return Qp(e,!0)}),0);else{var t=e.app.options.databaseAuthVariableOverride;if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ru(t)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new Dp(e.repoInfo_,e.app.options.appId,(function(t,n,r,i){zp(e,t,n,r,i)}),(function(t){Qp(e,t)}),(function(t){!function(e,t){wc(t,(function(t,n){$p(e,t,n)}))}(e,t)}),e.authTokenProvider_,t),e.server_=e.persistentConnection_}var n,r,i;e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.statsReporter_=(n=e.repoInfo_,r=function(){return new hp(e.stats_,e.server_)},i=n.toString(),up[i]||(up[i]=r()),up[i]),e.infoData_=new op,e.infoSyncTree_=new xf({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t.path);return a.isEmpty()||(o=Rf(e.infoSyncTree_,t.path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),$p(e,"connected",!1),e.serverSyncTree_=new xf({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);vp(e.eventQueue_,t.path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Wp(e){var t=e.infoData_.getNode(new Cc(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Gp(e){return(t=(t={timestamp:Wp(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function zp(e,t,n,r,i){e.dataUpdateCount++;var o=new Cc(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var s=uu(n,(function(e){return Vl(e)}));a=function(e,t,n,r){var i=Kf(e,r);if(i){var o=Hf(i),a=o.path,s=o.queryId,u=Fc(a,t),c=Wl.fromObject(n);return Wf(e,a,new Ql(Bl(s),u,c))}return[]}(e.serverSyncTree_,o,s,i)}else{var u=Vl(n);a=function(e,t,n,r){var i=Kf(e,r);if(null!=i){var o=Hf(i),a=o.path,s=o.queryId,u=Fc(a,t);return Wf(e,a,new zl(Bl(s),u,n))}return[]}(e.serverSyncTree_,o,u,i)}else if(r){var c=uu(n,(function(e){return Vl(e)}));a=function(e,t,n){var r=Wl.fromObject(n);return Ff(e,new Ql({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,c)}else{var l=Vl(n);a=Rf(e.serverSyncTree_,o,l)}var h=o;a.length>0&&(h=pd(e,o)),vp(e.eventQueue_,h,a)}function Qp(e,t){$p(e,"connected",t),!1===t&&function(e){sd(e,"onDisconnectEvents");var t=Gp(e),n=tp();ip(e.onDisconnect_,kc(),(function(r,i){var o=Jf(r,i,e.serverSyncTree_,t);np(n,r,o)}));var r=[];ip(n,kc(),(function(t,n){r=r.concat(Rf(e.serverSyncTree_,t,n));var i=yd(e,t);pd(e,i)})),e.onDisconnect_=tp(),vp(e.eventQueue_,kc(),r)}(e)}function $p(e,t,n){var r=new Cc("/.info/"+t),i=Vl(n);e.infoData_.updateSnapshot(r,i);var o=Rf(e.infoSyncTree_,r,i);vp(e.eventQueue_,r,o)}function Yp(e){return e.nextWriteId_++}function Xp(e,t,n,r,i){sd(e,"set",{path:t.toString(),value:n,priority:r});var o=Gp(e),a=Vl(n,r),s=Lf(e.serverSyncTree_,t),u=Zf(a,s,o),c=Yp(e),l=Af(e.serverSyncTree_,t,u,c,!0);pp(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||hc("set at "+t+" failed: "+n);var a=Df(e.serverSyncTree_,c,!o);vp(e.eventQueue_,t,a),ud(e,i,n,r)}));var h=yd(e,t);pd(e,h),vp(e.eventQueue_,h,[])}function Jp(e,t,n,r){sd(e,"update",{path:t.toString(),value:n});var i=!0,o=Gp(e),a={};if(wc(n,(function(n,r){i=!1,a[n]=Jf(Lc(t,n),Vl(r),e.serverSyncTree_,o)})),i)sc("update() called with empty data.  Don't do anything."),ud(e,r,"ok",void 0);else{var s=Yp(e),u=Nf(e.serverSyncTree_,t,a,s);pp(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||hc("update at "+t+" failed: "+n);var a=Df(e.serverSyncTree_,s,!o),u=a.length>0?pd(e,t):t;vp(e.eventQueue_,u,a),ud(e,r,n,i)})),wc(n,(function(n){var r=yd(e,Lc(t,n));pd(e,r)})),vp(e.eventQueue_,t,[])}}function Zp(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&rp(e.onDisconnect_,t),ud(e,n,r,i)}))}function ed(e,t,n,r){var i=Vl(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&np(e.onDisconnect_,t,i),ud(e,r,n,o)}))}function td(e,t,n,r,i){var o=Vl(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&np(e.onDisconnect_,t,o),ud(e,i,n,r)}))}function nd(e,t,n,r){if(su(n))return sc("onDisconnect().update() called with empty data.  Don't do anything."),void ud(e,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&wc(n,(function(n,r){var i=Vl(r);np(e.onDisconnect_,Lc(t,n),i)})),ud(e,r,i,o)}))}function rd(e,t,n){var r;r=".info"===xc(t.path)?Of(e.infoSyncTree_,t,n):Of(e.serverSyncTree_,t,n),dp(e.eventQueue_,t.path,r)}function id(e,t,n){var r;r=".info"===xc(t.path)?Pf(e.infoSyncTree_,t,n):Pf(e.serverSyncTree_,t,n),dp(e.eventQueue_,t.path,r)}function od(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}function ad(e){e.persistentConnection_&&e.persistentConnection_.resume("repo_interrupt")}function sd(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),sc.apply(void 0,Rs([r],Ds(t)))}function ud(e,t,n,r){t&&Ic((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function cd(e){return e.__database||(e.__database=new Od(e))}function ld(e,t,n,r,i){sd(e,"transaction on "+t);var o=function(){},a=new xd(e,t);a.on("value",o);var s={path:t,update:n,onComplete:r,status:null,order:tc(),applyLocally:i,retryCount:0,unwatcher:function(){a.off("value",o)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=hd(e,t,void 0);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var l=new Pp(s.currentInputSnapshot,new xd(e,s.path),kl);s.onComplete(null,!1,l)}}else{nl("transaction failed: Data returned ",c,s.path),s.status=0;var h=Lp(e.transactionQueueTree_,t),f=Mp(h)||[];f.push(s),Fp(h,f);var p=void 0;if("object"==typeof c&&null!==c&&ou(c,".priority"))p=au(c,".priority"),Ls(el(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else p=(Lf(e.serverSyncTree_,t)||Fl.EMPTY_NODE).getPriority().val();var d=Gp(e),v=Vl(c,p),g=Zf(v,u,d);s.currentOutputSnapshotRaw=v,s.currentOutputSnapshotResolved=g,s.currentWriteId=Yp(e);var m=Af(e.serverSyncTree_,t,g,s.currentWriteId,s.applyLocally);vp(e.eventQueue_,t,m),fd(e,e.transactionQueueTree_)}}function hd(e,t,n){return Lf(e.serverSyncTree_,t,n)||Fl.EMPTY_NODE}function fd(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||md(e,t),Mp(t)){var n=vd(e,t);Ls(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=hd(e,t,r),o=i,a=i.hash(),s=0;s<n.length;s++){var u=n[s];Ls(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=Fc(t,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var l=o.val(!0),h=t;e.server_.put(h.toString(),l,(function(r){sd(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<n.length;a++){if(n[a].status=2,i=i.concat(Df(e.serverSyncTree_,n[a].currentWriteId)),n[a].onComplete){var s=n[a].currentOutputSnapshotResolved,u=new xd(e,n[a].path),c=new Pp(s,u,kl);o.push(n[a].onComplete.bind(null,null,!0,c))}n[a].unwatcher()}md(e,Lp(e.transactionQueueTree_,t)),fd(e,e.transactionQueueTree_),vp(e.eventQueue_,t,i);for(a=0;a<o.length;a++)Ic(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)3===n[a].status?n[a].status=4:n[a].status=0;else{hc("transaction at "+h.toString()+" failed: "+r);for(a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r}pd(e,t)}}),a)}(e,Vp(t),n)}else jp(t)&&Up(t,(function(t){fd(e,t)}))}function pd(e,t){var n=dd(e,t),r=Vp(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],o=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),a=0;a<t.length;a++){var s=t[a],u=Fc(n,s.path),c=!1,l=void 0;if(Ls(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)c=!0,l=s.abortReason,i=i.concat(Df(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)c=!0,l="maxretry",i=i.concat(Df(e.serverSyncTree_,s.currentWriteId,!0));else{var h=hd(e,s.path,o);s.currentInputSnapshot=h;var f=t[a].update(h.val());if(void 0!==f){nl("transaction failed: Data returned ",f,s.path);var p=Vl(f);"object"==typeof f&&null!=f&&ou(f,".priority")||(p=p.updatePriority(h.getPriority()));var d=s.currentWriteId,v=Gp(e),g=Zf(p,h,v);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=g,s.currentWriteId=Yp(e),o.splice(o.indexOf(d),1),i=(i=i.concat(Af(e.serverSyncTree_,s.path,g,s.currentWriteId,s.applyLocally))).concat(Df(e.serverSyncTree_,d,!0))}else c=!0,l="nodata",i=i.concat(Df(e.serverSyncTree_,s.currentWriteId,!0))}if(vp(e.eventQueue_,n,i),i=[],c&&(t[a].status=2,w=t[a].unwatcher,setTimeout(w,Math.floor(0)),t[a].onComplete))if("nodata"===l){var m=new xd(e,t[a].path),y=t[a].currentInputSnapshot,b=new Pp(y,m,kl);r.push(t[a].onComplete.bind(null,null,!1,b))}else r.push(t[a].onComplete.bind(null,new Error(l),!1,null))}var w;md(e,e.transactionQueueTree_);for(a=0;a<r.length;a++)Ic(r[a]);fd(e,e.transactionQueueTree_)}(e,vd(e,n),r),r}function dd(e,t){var n,r=e.transactionQueueTree_;for(n=xc(t);null!==n&&void 0===Mp(r);)r=Lp(r,n),n=xc(t=Nc(t));return r}function vd(e,t){var n=[];return gd(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function gd(e,t,n){var r=Mp(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Up(t,(function(t){gd(e,t,n)}))}function md(e,t){var n=Mp(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Fp(t,n.length>0?n:void 0)}Up(t,(function(t){md(e,t)}))}function yd(e,t){var n=Vp(dd(e,t)),r=Lp(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){bd(e,t)})),bd(e,r),qp(r,(function(t){bd(e,t)})),n}function bd(e,t){var n=Mp(t);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)if(3===n[a].status);else if(1===n[a].status)Ls(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set";else if(Ls(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Df(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete){r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))}-1===o?Fp(t,void 0):n.length=o+1,vp(e.eventQueue_,Vp(t),i);for(a=0;a<r.length;a++)Ic(r[a])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wd,_d=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){pu("OnDisconnect.cancel",0,1,arguments.length),vu("OnDisconnect.cancel",1,e,!0);var t=new Bs;return Zp(this.repo_,this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){pu("OnDisconnect.remove",0,1,arguments.length),cl("OnDisconnect.remove",this.path_),vu("OnDisconnect.remove",1,e,!0);var t=new Bs;return ed(this.repo_,this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){pu("OnDisconnect.set",1,2,arguments.length),cl("OnDisconnect.set",this.path_),tl("OnDisconnect.set",1,e,this.path_,!1),vu("OnDisconnect.set",2,t,!0);var n=new Bs;return ed(this.repo_,this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){pu("OnDisconnect.setWithPriority",2,3,arguments.length),cl("OnDisconnect.setWithPriority",this.path_),tl("OnDisconnect.setWithPriority",1,e,this.path_,!1),il("OnDisconnect.setWithPriority",2,t,!1),vu("OnDisconnect.setWithPriority",3,n,!0);var r=new Bs;return td(this.repo_,this.path_,e,t,r.wrapCallback(n)),r.promise},e.prototype.update=function(e,t){if(pu("OnDisconnect.update",1,2,arguments.length),cl("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,hc("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}rl("OnDisconnect.update",1,e,this.path_,!1),vu("OnDisconnect.update",2,t,!0);var i=new Bs;return nd(this.repo_,this.path_,e,i.wrapCallback(t)),i.promise},e}(),Td=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return pu("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Ed=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+ru(this.snapshot.exportVal())},e}(),Id=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Sd=function(){function e(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new Ed("value",this,new Pp(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){Ls(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callback_;return function(){r.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Id(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}(),Cd=function(){function e(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,ou(this.callbacks_,t)},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Id(this,e,t):null},e.prototype.createEvent=function(e,t){Ls(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),r=t.getQueryParams().getIndex();return new Ed(e.type,this,new Pp(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){Ls(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callbacks_[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){var n=this;if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var r=Object.keys(t.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return!(s!==a||t.callbacks_[a]&&this.callbacks_[s]&&t.callbacks_[a]!==this.callbacks_[s])}return i.every((function(e){return t.callbacks_[e]===n.callbacks_[e]}))}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks_},e}(),kd=function(){function e(e,t,n,r){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return Ls(wd,"Reference.ts has not been loaded"),wd},set:function(e){wd=e},enumerable:!1,configurable:!0}),e.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Al){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==pc)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==dc)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===kl){if(null!=t&&!el(t)||null!=n&&!el(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Ls(e.getIndex()instanceof Yh||e.getIndex()===$h,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")},e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return pu("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,r,i){pu("Query.on",2,4,arguments.length),ol("Query.on",1,t,!1),vu("Query.on",2,n,!1);var o=e.getCancelAndContextArgs_("Query.on",r,i);if("value"===t)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[t]=n,this.onChildEvent(a,o.cancel,o.context)}return n},e.prototype.onValueEvent=function(e,t,n){var r=new Sd(e,t||null,n||null);rd(this.repo,this,r)},e.prototype.onChildEvent=function(e,t,n){var r=new Cd(e,t,n);rd(this.repo,this,r)},e.prototype.off=function(e,t,n){pu("Query.off",0,3,arguments.length),ol("Query.off",1,e,!0),vu("Query.off",2,t,!0),gu("Query.off",3,n,!0);var r=null,i=null;if("value"===e){var o=t||null;r=new Sd(o,null,n||null)}else e&&(t&&((i={})[e]=t),r=new Cd(i,null,n||null));id(this.repo,this,r)},e.prototype.get=function(){return e=this.repo,t=this,null!=(n=Mf(e.serverSyncTree_,t))?Promise.resolve(new Pp(n,t.getRef(),t.getQueryParams().getIndex())):e.server_.get(t).then((function(n){var r=Vl(n),i=Rf(e.serverSyncTree_,t.path,r);return dp(e.eventQueue_,t.path,i),Promise.resolve(new Pp(r,t.getRef(),t.getQueryParams().getIndex()))}),(function(n){return sd(e,"get for query "+ru(t)+" failed: "+n),Promise.reject(new Error(n))}));var e,t,n},e.prototype.once=function(t,n,r,i){var o=this;pu("Query.once",1,4,arguments.length),ol("Query.once",1,t,!1),vu("Query.once",2,n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),s=!0,u=new Bs;u.promise.catch((function(){}));var c=function(e){s&&(s=!1,o.off(t,c),n&&n.bind(a.context)(e),u.resolve(e))};return this.on(t,c,(function(e){o.off(t,c),a.cancel&&a.cancel.bind(a.context)(e),u.reject(e)})),u.promise},e.prototype.limitToFirst=function(t){if(pu("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,ef(this.queryParams_,t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if(pu("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,tf(this.queryParams_,t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if(pu("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');sl("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new Cc(t);if(Mc(n))throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Yh(n),i=sf(this.queryParams_,r);return e.validateQueryEndpoints_(i),new e(this.repo,this.path,i,!0)},e.prototype.orderByKey=function(){pu("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=sf(this.queryParams_,Al);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){pu("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=sf(this.queryParams_,kl);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){pu("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=sf(this.queryParams_,$h);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),pu("Query.startAt",0,2,arguments.length),tl("Query.startAt",1,t,this.path,!0),al("Query.startAt",2,n,!0);var r=nf(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(t=null,n=null),new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.startAfter=function(t,n){void 0===t&&(t=null),pu("Query.startAfter",0,2,arguments.length),tl("Query.startAfter",1,t,this.path,!1),al("Query.startAfter",2,n,!0);var r=rf(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAfter: Starting point was already set (by another call to startAt, startAfter or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),pu("Query.endAt",0,2,arguments.length),tl("Query.endAt",1,t,this.path,!0),al("Query.endAt",2,n,!0);var r=of(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endBefore=function(t,n){void 0===t&&(t=null),pu("Query.endBefore",0,2,arguments.length),tl("Query.endBefore",1,t,this.path,!1),al("Query.endBefore",2,n,!0);var r=af(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endBefore: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.equalTo=function(e,t){if(pu("Query.equalTo",1,2,arguments.length),tl("Query.equalTo",1,e,this.path,!1),al("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return pu("Query.toString",0,0,arguments.length),this.repo.toString()+Rc(this.path)},e.prototype.toJSON=function(){return pu("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return function(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==kl&&(t.i=e.index_.toString()),t}(this.queryParams_)},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=yc(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if(pu("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===t.repo,i=Uc(this.path,t.path),o=this.queryIdentifier()===t.queryIdentifier();return r&&i&&o},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:null,context:null};if(t&&n)r.cancel=t,vu(e,3,r.cancel,!0),r.context=n,gu(e,4,r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(du(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),xd=function(e){function t(t,n){if(!(t instanceof Kp))throw new Error("new Reference() no longer supported - use app.database().");return e.call(this,t,n,new Zh,!1)||this}return Cs(t,e),t.prototype.getKey=function(){return pu("Reference.key",0,0,arguments.length),Mc(this.path)?null:Dc(this.path)},t.prototype.child=function(e){return pu("Reference.child",1,1,arguments.length),"number"==typeof e?e=String(e):e instanceof Cc||(null===xc(this.path)?ul("Reference.child",1,e,!1):sl("Reference.child",1,e,!1)),new t(this.repo,Lc(this.path,e))},t.prototype.getParent=function(){pu("Reference.parent",0,0,arguments.length);var e=Oc(this.path);return null===e?null:new t(this.repo,e)},t.prototype.getRoot=function(){pu("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},t.prototype.databaseProp=function(){return cd(this.repo)},t.prototype.set=function(e,t){pu("Reference.set",1,2,arguments.length),cl("Reference.set",this.path),tl("Reference.set",1,e,this.path,!1),vu("Reference.set",2,t,!0);var n=new Bs;return Xp(this.repo,this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if(pu("Reference.update",1,2,arguments.length),cl("Reference.update",this.path),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,hc("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}rl("Reference.update",1,e,this.path,!1),vu("Reference.update",2,t,!0);var i=new Bs;return Jp(this.repo,this.path,e,i.wrapCallback(t)),i.promise},t.prototype.setWithPriority=function(e,t,n){if(pu("Reference.setWithPriority",2,3,arguments.length),cl("Reference.setWithPriority",this.path),tl("Reference.setWithPriority",1,e,this.path,!1),il("Reference.setWithPriority",2,t,!1),vu("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new Bs;return Xp(this.repo,this.path,e,t,r.wrapCallback(n)),r.promise},t.prototype.remove=function(e){return pu("Reference.remove",0,1,arguments.length),cl("Reference.remove",this.path),vu("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,t,n){if(pu("Reference.transaction",1,3,arguments.length),cl("Reference.transaction",this.path),vu("Reference.transaction",1,e,!1),vu("Reference.transaction",2,t,!0),hl("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new Bs;"function"==typeof t&&r.promise.catch((function(){}));var i=function(e,n,i){e?r.reject(e):r.resolve(new Td(n,i)),"function"==typeof t&&t(e,n,i)};return ld(this.repo,this.path,e,i,n),r.promise},t.prototype.setPriority=function(e,t){pu("Reference.setPriority",1,2,arguments.length),cl("Reference.setPriority",this.path),il("Reference.setPriority",1,e,!1),vu("Reference.setPriority",2,t,!0);var n=new Bs;return Xp(this.repo,Lc(this.path,".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){pu("Reference.push",0,2,arguments.length),cl("Reference.push",this.path),tl("Reference.push",1,e,this.path,!0),vu("Reference.push",2,t,!0);var n,r=Wp(this.repo),i=Gh(r),o=this.child(i),a=this.child(i);return n=null!=e?o.set(e,t).then((function(){return a})):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof t&&n.catch((function(){})),o},t.prototype.onDisconnect=function(){return cl("Reference.onDisconnect",this.path),new _d(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(kd);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kd.__referenceConstructor=xd,function(e){Ls(!cf,"__referenceConstructor has already been defined"),cf=e}(xd);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ad=function(){function e(e,t){var n=this;this.app_=e,this.authProvider_=t,this.auth_=null,this.auth_=t.getImmediate({optional:!0}),this.auth_||t.get().then((function(e){return n.auth_=e}))}return e.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(sc("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout((function(){return e(null)}),0),this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)})))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',hc(e)},e}(),Nd=function(){function e(){}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:e.EMULATOR_AUTH_TOKEN})},e.prototype.addTokenChangeListener=function(t){t(e.EMULATOR_AUTH_TOKEN)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.EMULATOR_AUTH_TOKEN="owner",e}(),Dd={},Rd=!1;function Pd(e,t,n,r){var i=n||e.options.databaseURL;void 0===i&&(e.options.projectId||lc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),sc("Using default host for project ",e.options.projectId),i=e.options.projectId+"-default-rtdb.firebaseio.com");var o,a=Qc(i,r),s=a.repoInfo,u=void 0;"undefined"!=typeof process&&(u={NODE_ENV:"production"}.FIREBASE_DATABASE_EMULATOR_HOST),u?(o=!0,i="http://"+u+"?ns="+s.namespace,s=(a=Qc(i,r)).repoInfo):o=!a.repoInfo.secure;var c=r&&o?new Nd:new Ad(e,t);return ll("Invalid Firebase Database URL",1,a),Mc(a.path)||lc("Database URL must point to the root of a Firebase Database (not including a child path)."),cd(function(e,t,n){var r=au(Dd,t.name);r||(r={},Dd[t.name]=r);var i=au(r,e.toURLString());i&&lc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return i=new Kp(e,Rd,t,n),r[e.toURLString()]=i,i}(s,e,c))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Od=function(){function e(e){var t=this;this.repoInternal_=e,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return xs(t,void 0,void 0,(function(){return As(this,(function(e){var t,n;return this.checkDeleted_("delete"),t=this.repo_,(n=au(Dd,t.app.name))&&au(n,t.key)===t||lc("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),od(t),delete n[t.key],this.repoInternal_=null,this.rootInternal_=null,[2]}))}))}},e instanceof Kp||lc("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(e.prototype,"repo_",{get:function(){return this.instanceStarted_||(Hp(this.repoInternal_),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new xd(this.repo_,kc())),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),e.prototype.useEmulator=function(e,t){this.checkDeleted_("useEmulator"),this.instanceStarted_?lc("Cannot call useEmulator() after instance has already been initialized."):function(e,t,n){e.repoInfo_=new Wc(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),e.repoInfo_.nodeAdmin&&(e.authTokenProvider_=new Nd)}(this.repoInternal_,e,t)},e.prototype.ref=function(e){return this.checkDeleted_("ref"),pu("database.ref",0,1,arguments.length),e instanceof xd?this.refFromURL(e.toString()):void 0!==e?this.root_.child(e):this.root_},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),pu(t,1,1,arguments.length);var n=Qc(e,this.repo_.repoInfo_.nodeAdmin);ll(t,1,n);var r=n.repoInfo;return this.repo_.repoInfo_.isCustomHost()||r.host===this.repo_.repoInfo_.host||lc(t+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repoInternal_&&lc("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){pu("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),od(this.repo_)},e.prototype.goOnline=function(){pu("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),ad(this.repo_)},e.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(e){return{".sv":{increment:e}}}},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ld=Object.freeze({__proto__:null,forceLongPolling:function(){kp.forceDisallow(),Tp.forceAllow()},forceWebSockets:function(){Tp.forceDisallow()},isWebSocketsAvailable:function(){return kp.isAvailable()},setSecurityDebugCallback:function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var n;t?(e.statsListener_||(e.statsListener_=new lp(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);wc(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e.repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e.repo,t)},dataUpdateCount:function(e){return e.repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e.repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,o=e.namespace,a=e.nodeAdmin,s=void 0!==a&&a;Sp(r);var u=new wu("auth-internal",new Tu("database-standalone"));return u.setComponent(new bu("auth-internal",(function(){return i}),"PRIVATE")),{instance:Pd(t,u,n,s),namespace:o}}}),Md=Dp;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dp.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Dp.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Fd,jd=Ap,Ud=Wc,qd=Object.freeze({__proto__:null,DataConnection:Md,RealTimeConnection:jd,hijackHash:function(e){var t=Dp.prototype.put;return Dp.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Dp.prototype.put=t}},ConnectionTarget:Ud,queryIdentifier:function(e){return e.queryIdentifier()},forceRestClient:function(e){!function(e){Rd=e}(e)}}),Vd=Od.ServerValue;Sp((Fd=zu).SDK_VERSION),Fd.INTERNAL.registerComponent(new bu("database",(function(e,t){var n=t.instanceIdentifier;return Pd(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),n,void 0)}),"PUBLIC").setServiceProps({Reference:xd,Query:kd,Database:Od,DataSnapshot:Pp,enableLogging:ac,INTERNAL:Ld,ServerValue:Vd,TEST_ACCESS:qd}).setMultipleInstances(!0)),Fd.registerVersion("@firebase/database","0.9.6");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Bd=function(e,t){return(Bd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Kd(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Hd,Wd="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Gd=Gd||{},zd=Wd||self;function Qd(){}function $d(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Yd(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Xd="closure_uid_"+(1e9*Math.random()>>>0),Jd=0;function Zd(e,t,n){return e.call.apply(e.bind,arguments)}function ev(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function tv(e,t,n){return(tv=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Zd:ev).apply(null,arguments)}function nv(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function rv(){return Date.now()}function iv(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function ov(){this.j=this.j,this.i=this.i}ov.prototype.j=!1,ov.prototype.ja=function(){var e;!this.j&&(this.j=!0,this.G(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Xd)&&e[Xd]||(e[Xd]=++Jd))},ov.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var av=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},sv=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function uv(e){return Array.prototype.concat.apply([],arguments)}function cv(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function lv(e){return/^[\s\xa0]*$/.test(e)}var hv,fv=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function pv(e,t){return-1!=e.indexOf(t)}function dv(e,t){return e<t?-1:e>t?1:0}e:{var vv=zd.navigator;if(vv){var gv=vv.userAgent;if(gv){hv=gv;break e}}hv=""}function mv(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function yv(e){var t={};for(var n in e)t[n]=e[n];return t}var bv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wv(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<bv.length;o++)n=bv[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _v(e){return _v[" "](e),e}_v[" "]=Qd;var Tv,Ev,Iv=pv(hv,"Opera"),Sv=pv(hv,"Trident")||pv(hv,"MSIE"),Cv=pv(hv,"Edge"),kv=Cv||Sv,xv=pv(hv,"Gecko")&&!(pv(hv.toLowerCase(),"webkit")&&!pv(hv,"Edge"))&&!(pv(hv,"Trident")||pv(hv,"MSIE"))&&!pv(hv,"Edge"),Av=pv(hv.toLowerCase(),"webkit")&&!pv(hv,"Edge");function Nv(){var e=zd.document;return e?e.documentMode:void 0}e:{var Dv="",Rv=(Ev=hv,xv?/rv:([^\);]+)(\)|;)/.exec(Ev):Cv?/Edge\/([\d\.]+)/.exec(Ev):Sv?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ev):Av?/WebKit\/(\S+)/.exec(Ev):Iv?/(?:Version)[ \/]?(\S+)/.exec(Ev):void 0);if(Rv&&(Dv=Rv?Rv[1]:""),Sv){var Pv=Nv();if(null!=Pv&&Pv>parseFloat(Dv)){Tv=String(Pv);break e}}Tv=Dv}var Ov,Lv={};function Mv(e){return function(e,t){var n=Lv;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=fv(String(Tv)).split("."),r=fv(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=dv(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||dv(0==a[2].length,0==s[2].length)||dv(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(zd.document&&Sv){var Fv=Nv();Ov=Fv||(parseInt(Tv,10)||void 0)}else Ov=void 0;var jv=Ov,Uv=!Sv||9<=Number(jv),qv=Sv&&!Mv("9"),Vv=function(){if(!zd.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{zd.addEventListener("test",Qd,t),zd.removeEventListener("test",Qd,t)}catch(e){}return e}();function Bv(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function Kv(e,t){if(Bv.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(xv){e:{try{_v(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Hv[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}Bv.prototype.b=function(){this.defaultPrevented=!0},iv(Kv,Bv);var Hv={2:"touch",3:"pen",4:"mouse"};Kv.prototype.b=function(){Kv.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,qv)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}};var Wv="closure_listenable_"+(1e6*Math.random()|0),Gv=0;function zv(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++Gv,this.Y=this.Z=!1}function Qv(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function $v(e){this.src=e,this.a={},this.b=0}function Yv(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=av(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Qv(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function Xv(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}$v.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=Xv(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new zv(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var Jv="closure_lm_"+(1e6*Math.random()|0),Zv={};function eg(e,t,n,r,i){if(r&&r.once)return ng(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)eg(e,t[o],n,r,i);return null}return n=lg(n),e&&e[Wv]?e.va(t,n,Yd(r)?!!r.capture:!!r,i):tg(e,t,n,!1,r,i)}function tg(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=Yd(i)?!!i.capture:!!i;if(a&&!Uv)return null;var s=ug(e);if(s||(e[Jv]=s=new $v(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=sg,t=Uv?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Vv||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(og(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ng(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ng(e,t[o],n,r,i);return null}return n=lg(n),e&&e[Wv]?e.wa(t,n,Yd(r)?!!r.capture:!!r,i):tg(e,t,n,!0,r,i)}function rg(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)rg(e,t[o],n,r,i);else r=Yd(r)?!!r.capture:!!r,n=lg(n),e&&e[Wv]?(e=e.c,(t=String(t).toString())in e.a&&(-1<(n=Xv(o=e.a[t],n,r,i))&&(Qv(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=ug(e))&&(t=e.a[t.toString()],e=-1,t&&(e=Xv(t,n,r,i)),(n=-1<e?t[e]:null)&&ig(n))}function ig(e){if("number"!=typeof e&&e&&!e.Y){var t=e.src;if(t&&t[Wv])Yv(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(og(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ug(t))?(Yv(n,e),0==n.b&&(n.src=null,t[Jv]=null)):Qv(e)}}}function og(e){return e in Zv?Zv[e]:Zv[e]="on"+e}function ag(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&ig(e),n.call(r,t)}function sg(e,t){if(e.Y)return!0;if(!Uv){if(!t)e:{t=["window","event"];for(var n=zd,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return ag(e,t=new Kv(t,this))}return ag(e,new Kv(t,this))}function ug(e){return(e=e[Jv])instanceof $v?e:null}var cg="__closure_events_fn_"+(1e9*Math.random()>>>0);function lg(e){return"function"==typeof e?e:(e[cg]||(e[cg]=function(t){return e.handleEvent(t)}),e[cg])}function hg(){ov.call(this),this.c=new $v(this),this.J=this,this.C=null}function fg(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,"string"==typeof t)t=new Bv(t,e);else if(t instanceof Bv)t.target=t.target||e;else{var i=t;wv(t=new Bv(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.a=n[o];i=pg(a,r,!0,t)&&i}if(i=pg(a=t.a=e,r,!0,t)&&i,i=pg(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=pg(a=t.a=n[o],r,!1,t)&&i}function pg(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&Yv(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}iv(hg,ov),hg.prototype[Wv]=!0,(Hd=hg.prototype).addEventListener=function(e,t,n,r){eg(this,e,t,n,r)},Hd.removeEventListener=function(e,t,n,r){rg(this,e,t,n,r)},Hd.G=function(){if(hg.X.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)Qv(n[r]);delete t.a[e],t.b--}}this.C=null},Hd.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},Hd.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var dg=zd.JSON.stringify;function vg(){this.b=this.a=null}var gg,mg=new(function(){function e(e,t){this.c=e,this.f=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},e}())((function(){return new bg}),(function(e){e.reset()}));function yg(){var e=Eg,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function bg(){this.next=this.b=this.a=null}function wg(e){zd.setTimeout((function(){throw e}),0)}function _g(e,t){gg||function(){var e=zd.Promise.resolve(void 0);gg=function(){e.then(Ig)}}(),Tg||(gg(),Tg=!0),Eg.add(e,t)}vg.prototype.add=function(e,t){var n=mg.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},bg.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},bg.prototype.reset=function(){this.next=this.b=this.a=null};var Tg=!1,Eg=new vg;function Ig(){for(var e;e=yg();){try{e.a.call(e.b)}catch(e){wg(e)}var t=mg;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Tg=!1}function Sg(e,t){hg.call(this),this.b=e||1,this.a=t||zd,this.f=tv(this.Za,this),this.g=rv()}function Cg(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function kg(e,t,n){if("function"==typeof e)n&&(e=tv(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=tv(e.handleEvent,e)}return 2147483647<Number(t)?-1:zd.setTimeout(e,t||0)}function xg(e){e.a=kg((function(){e.a=null,e.c&&(e.c=!1,xg(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}iv(Sg,hg),(Hd=Sg.prototype).aa=!1,Hd.M=null,Hd.Za=function(){if(this.aa){var e=rv()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),fg(this,"tick"),this.aa&&(Cg(this),this.start()))}},Hd.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=rv())},Hd.G=function(){Sg.X.G.call(this),Cg(this),delete this.a};var Ag=function(e){function t(t,n){var r=e.call(this)||this;return r.g=t,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(e,t){function n(){this.constructor=e}Bd(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:xg(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(zd.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(ov);function Ng(e){ov.call(this),this.b=e,this.a={}}iv(Ng,ov);var Dg=[];function Rg(e,t,n,r){Array.isArray(n)||(n&&(Dg[0]=n.toString()),n=Dg);for(var i=0;i<n.length;i++){var o=eg(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function Pg(e){mv(e.a,(function(e,t){this.a.hasOwnProperty(t)&&ig(e)}),e),e.a={}}function Og(){this.a=!0}function Lg(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return dg(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Ng.prototype.G=function(){Ng.X.G.call(this),Pg(this)},Ng.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Og.prototype.info=function(){};var Mg={},Fg=null;function jg(){return Fg=Fg||new hg}function Ug(e){Bv.call(this,Mg.Fa,e)}function qg(e){var t=jg();fg(t,new Ug(t,e))}function Vg(e,t){Bv.call(this,Mg.STAT_EVENT,e),this.stat=t}function Bg(e){var t=jg();fg(t,new Vg(t,e))}function Kg(e){Bv.call(this,Mg.Ga,e)}function Hg(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return zd.setTimeout((function(){e()}),t)}Mg.Fa="serverreachability",iv(Ug,Bv),Mg.STAT_EVENT="statevent",iv(Vg,Bv),Mg.Ga="timingevent",iv(Kg,Bv);var Wg={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Gg={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function zg(){}function Qg(e){var t;return(t=e.a)||(t=e.a={}),t}function $g(){}zg.prototype.a=null;var Yg,Xg={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Jg(){Bv.call(this,"d")}function Zg(){Bv.call(this,"c")}function em(){}function tm(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new Ng(this),this.P=nm,e=kv?125:void 0,this.R=new Sg(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}iv(Jg,Bv),iv(Zg,Bv),iv(em,zg),Yg=new em;var nm=45e3,rm={},im={};function om(e,t,n){e.H=1,e.i=km(_m(t)),e.j=n,e.I=!0,am(e,null)}function am(e,t){e.u=rv(),cm(e),e.l=_m(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),qm(n.b,"t",r),e.D=0,e.a=Oy(e.g,e.g.C?t:null),0<e.O&&(e.F=new Ag(tv(e.Ca,e,e.a),e.O)),Rg(e.J,e.a,"readystatechange",e.Xa),t=e.B?yv(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),qg(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.c,e.m,e.l,e.f,e.S,e.j)}function sm(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=um(e,n);if(i==im){4==t&&(e.h=4,Bg(14),r=!1),Lg(e.c,e.f,null,"[Incomplete Response]");break}if(i==rm){e.h=4,Bg(15),Lg(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}Lg(e.c,e.f,i,null),dm(e,i)}4==t&&0==n.length&&(e.h=1,Bg(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,(t=e.g).a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Cy(t),t.F=!0,Bg(11))):(Lg(e.c,e.f,n,"[Invalid Chunked Response]"),pm(e),fm(e))}function um(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?im:(n=Number(t.substring(n,r)),isNaN(n)?rm:(r+=1)+n>t.length?im:(t=t.substr(r,n),e.D=r+n,t))}function cm(e){e.T=rv()+e.P,lm(e,e.P)}function lm(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=Hg(tv(e.Va,e),t)}function hm(e){e.o&&(zd.clearTimeout(e.o),e.o=null)}function fm(e){0==e.g.v||e.A||Ay(e.g,e)}function pm(e){hm(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,Cg(e.R),Pg(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function dm(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||zm(n.b,e)))if(n.I=e.N,!e.C&&zm(n.b,e)&&3==n.v){try{var r=n.ka.a.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;xy(n),my(n)}Sy(n),Bg(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Hg(tv(n.Sa,n),6e3));if(1>=Gm(n.b)&&n.ea){try{n.ea()}catch(e){}n.ea=void 0}}else Dy(n,11)}else if((e.C||n.a==e)&&xy(n),!lv(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=e.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(pv(l,"spdy")||pv(l,"quic")||pv(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Qm(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Cm(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=rv()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=e;if((u=n).la=Py(u,u.C?u.ga:null,u.fa),p.C){$m(u.b,p);var d=p,v=u.D;v&&d.setTimeout(v),d.o&&(hm(d),cm(d)),u.a=p}else Iy(u);0<n.g.length&&wy(n)}else"stop"!=i[0]&&"close"!=i[0]||Dy(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Dy(n,7):gy(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);qg(4)}catch(e){}}function vm(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if($d(e)||"string"==typeof e)sv(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if($d(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"==typeof e)return e.split("");if($d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function gm(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof gm)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function mm(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];ym(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)ym(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function ym(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Hd=tm.prototype).setTimeout=function(e){this.P=e},Hd.Xa=function(e){e=e.target;var t=this.F;t&&3==fy(e)?t.f():this.Ca(e)},Hd.Ca=function(e){try{if(e==this.a)e:{var t=fy(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||3==t&&!kv&&!this.a.$())){this.A||4!=t||7==n||qg(8==n||0>=r?3:2),hm(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lv(a)){var u=a;break t}}u=null}if(!u){this.b=!1,this.h=3,Bg(12),pm(this),fm(this);break e}Lg(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,dm(this,u)}this.I?(sm(this,t,o),kv&&this.b&&3==t&&(Rg(this.J,this.R,"tick",this.Wa),this.R.start())):(Lg(this.c,this.f,o,null),dm(this,o)),4==t&&pm(this),this.b&&!this.A&&(4==t?Ay(this.g,this):(this.b=!1,cm(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Bg(12)):(this.h=0,Bg(13)),pm(this),fm(this)}}}catch(e){}},Hd.Wa=function(){if(this.a){var e=fy(this.a),t=this.a.$();this.D<t.length&&(hm(this),sm(this,e,t),this.b&&4!=e&&cm(this))}},Hd.cancel=function(){this.A=!0,pm(this)},Hd.Va=function(){this.o=null;var e=rv();0<=e-this.T?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.H&&(qg(3),Bg(17)),pm(this),this.h=2,fm(this)):lm(this,this.T-e)},(Hd=gm.prototype).K=function(){mm(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},Hd.L=function(){return mm(this),this.a.concat()},Hd.get=function(e,t){return ym(this.b,e)?this.b[e]:t},Hd.set=function(e,t){ym(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},Hd.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var bm=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function wm(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof wm){this.a=void 0!==t?t:e.a,Tm(this,e.f),this.j=e.j,Em(this,e.c),Im(this,e.h),this.g=e.g,t=e.b;var n=new Mm;n.c=t.c,t.a&&(n.a=new gm(t.a),n.b=t.b),Sm(this,n),this.i=e.i}else e&&(n=String(e).match(bm))?(this.a=!!t,Tm(this,n[1]||"",!0),this.j=xm(n[2]||""),Em(this,n[3]||"",!0),Im(this,n[4]),this.g=xm(n[5]||"",!0),Sm(this,n[6]||"",!0),this.i=xm(n[7]||"")):(this.a=!!t,this.b=new Mm(null,this.a))}function _m(e){return new wm(e)}function Tm(e,t,n){e.f=n?xm(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Em(e,t,n){e.c=n?xm(t,!0):t}function Im(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function Sm(e,t,n){t instanceof Mm?(e.b=t,function(e,t){t&&!e.f&&(Fm(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(jm(this,t),qm(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=Am(t,Om)),e.b=new Mm(t,e.a))}function Cm(e,t,n){e.b.set(t,n)}function km(e){return Cm(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^rv()).toString(36)),e}function xm(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Am(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Nm),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Nm(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}wm.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Am(t,Dm,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Am(t,Dm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(Am(n,"/"==n.charAt(0)?Pm:Rm,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Am(n,Lm)),e.join("")};var Dm=/[#\/\?@]/g,Rm=/[#\?:]/g,Pm=/[#\?]/g,Om=/[#\?@]/g,Lm=/#/g;function Mm(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Fm(e){e.a||(e.a=new gm,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function jm(e,t){Fm(e),t=Vm(e,t),ym(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,ym((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&mm(e)))}function Um(e,t){return Fm(e),t=Vm(e,t),ym(e.a.b,t)}function qm(e,t,n){jm(e,t),0<n.length&&(e.c=null,e.a.set(Vm(e,t),cv(n)),e.b+=n.length)}function Vm(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(Hd=Mm.prototype).add=function(e,t){Fm(this),this.c=null,e=Vm(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},Hd.forEach=function(e,t){Fm(this),this.a.forEach((function(n,r){sv(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Hd.L=function(){Fm(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Hd.K=function(e){Fm(this);var t=[];if("string"==typeof e)Um(this,e)&&(t=uv(t,this.a.get(Vm(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=uv(t,e[n])}return t},Hd.set=function(e,t){return Fm(this),this.c=null,Um(this,e=Vm(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},Hd.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},Hd.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var Bm=function(e,t){this.b=e,this.a=t};function Km(e){this.g=e||Hm,zd.PerformanceNavigationTiming?e=0<(e=zd.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(zd.ia&&zd.ia.ya&&zd.ia.ya()&&zd.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Hm=10;function Wm(e){return!!e.b||!!e.a&&e.a.size>=e.f}function Gm(e){return e.b?1:e.a?e.a.size:0}function zm(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function Qm(e,t){e.a?e.a.add(t):e.b=t}function $m(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function Ym(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var i=Kd(e.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return cv(e.c)}function Xm(){}function Jm(){this.a=new Xm}function Zm(e,t,n){var r=n||"";try{vm(e,(function(e,n){var i=e;Yd(e)&&(i=dg(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function ey(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}Km.prototype.cancel=function(){var e,t;if(this.c=Ym(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Kd(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},Xm.prototype.stringify=function(e){return zd.JSON.stringify(e,void 0)},Xm.prototype.parse=function(e){return zd.JSON.parse(e,void 0)};var ty=zd.JSON.parse;function ny(e){hg.call(this),this.headers=new gm,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=ry,this.D=this.F=!1}iv(ny,hg);var ry="",iy=/^https?$/i,oy=["POST","PUT"];function ay(e){return"content-type"==e.toLowerCase()}function sy(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,uy(e),ly(e)}function uy(e){e.u||(e.u=!0,fg(e,"complete"),fg(e,"error"))}function cy(e){if(e.b&&void 0!==Gd&&(!e.s[1]||4!=fy(e)||2!=e.W()))if(e.l&&4==fy(e))kg(e.za,0,e);else if(fg(e,"readystatechange"),4==fy(e)){e.b=!1;try{var t,n=e.W();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.B).match(bm)[1]||null;if(!o&&zd.self&&zd.self.location){var a=zd.self.location.protocol;o=a.substr(0,a.length-1)}i=!iy.test(o?o.toLowerCase():"")}t=i}if(t)fg(e,"complete"),fg(e,"success");else{e.h=6;try{var s=2<fy(e)?e.a.statusText:""}catch(e){s=""}e.f=s+" ["+e.W()+"]",uy(e)}}finally{ly(e)}}}function ly(e,t){if(e.a){hy(e);var n=e.a,r=e.s[0]?Qd:null;e.a=null,e.s=null,t||fg(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function hy(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(zd.clearTimeout(e.m),e.m=null)}function fy(e){return e.a?e.a.readyState:0}function py(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return mv(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Cm(e,t,n))}function dy(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function vy(e){this.pa=0,this.g=[],this.c=new Og,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=dy("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=dy("baseRetryDelayMs",5e3,e),this.Ra=dy("retryDelaySeedMs",1e4,e),this.Ma=dy("forwardChannelMaxRetries",2,e),this.ma=dy("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new Km(e&&e.concurrentRequestLimit),this.ka=new Jm,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function gy(e){if(yy(e),3==e.v){var t=e.R++,n=_m(e.B);Cm(n,"SID",e.J),Cm(n,"RID",t),Cm(n,"TYPE","terminate"),Ty(e,n),(t=new tm(e,e.c,t,void 0)).H=2,t.i=km(_m(n)),n=!1,zd.navigator&&zd.navigator.sendBeacon&&(n=zd.navigator.sendBeacon(t.i.toString(),"")),!n&&zd.Image&&((new Image).src=t.i,n=!0),n||(t.a=Oy(t.g,null),t.a.ba(t.i)),t.u=rv(),cm(t)}Ry(e)}function my(e){e.a&&(Cy(e),e.a.cancel(),e.a=null)}function yy(e){my(e),e.j&&(zd.clearTimeout(e.j),e.j=null),xy(e),e.b.cancel(),e.h&&("number"==typeof e.h&&zd.clearTimeout(e.h),e.h=null)}function by(e,t){e.g.push(new Bm(e.Oa++,t)),3==e.v&&wy(e)}function wy(e){Wm(e.b)||e.h||(e.h=!0,_g(e.Ba,e),e.u=0)}function _y(e,t){var n;n=t?t.f:e.R++;var r=_m(e.B);Cm(r,"SID",e.J),Cm(r,"RID",n),Cm(r,"AID",e.P),Ty(e,r),e.i&&e.l&&py(r,e.i,e.l),n=new tm(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=Ey(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),Qm(e.b,n),om(n,r,t)}function Ty(e,t){e.f&&vm({},(function(e,n){Cm(t,n,e)}))}function Ey(e,t,n){n=Math.min(e.g.length,n);var r=e.f?tv(e.f.Ja,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{Zm(l,a,"req"+c+"_")}catch(e){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function Iy(e){e.a||e.j||(e.T=1,_g(e.Aa,e),e.o=0)}function Sy(e){return!(e.a||e.j||3<=e.o)&&(e.T++,e.j=Hg(tv(e.Aa,e),Ny(e,e.o)),e.o++,!0)}function Cy(e){null!=e.s&&(zd.clearTimeout(e.s),e.s=null)}function ky(e){e.a=new tm(e,e.c,"rpc",e.T),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=_m(e.la);Cm(t,"RID","rpc"),Cm(t,"SID",e.J),Cm(t,"CI",e.H?"0":"1"),Cm(t,"AID",e.P),Ty(e,t),Cm(t,"TYPE","xmlhttp"),e.i&&e.l&&py(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=km(_m(t)),n.j=null,n.I=!0,am(n,e)}function xy(e){null!=e.m&&(zd.clearTimeout(e.m),e.m=null)}function Ay(e,t){var n=null;if(e.a==t){xy(e),Cy(e),e.a=null;var r=2}else{if(!zm(e.b,t))return;n=t.s,$m(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=rv()-t.u;var i=e.u;fg(r=jg(),new Kg(r,n,t,i)),wy(e)}else Iy(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Gm(e.b)>=e.b.f-(e.h?1:0)||(e.h?(e.g=t.s.concat(e.g),0):1==e.v||2==e.v||e.u>=(e.La?0:e.Ma)||(e.h=Hg(tv(e.Ba,e,t),Ny(e,e.u)),e.u++,0)))}(e,t)||2==r&&Sy(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:Dy(e,5);break;case 4:Dy(e,10);break;case 3:Dy(e,6);break;default:Dy(e,2)}}function Ny(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function Dy(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=tv(e.Ya,e);n||(n=new wm("//www.google.com/images/cleardot.gif"),zd.location&&"http"==zd.location.protocol||Tm(n,"https"),km(n)),function(e,t){var n=new Og;if(zd.Image){var r=new Image;r.onload=nv(ey,n,r,"TestLoadImage: loaded",!0,t),r.onerror=nv(ey,n,r,"TestLoadImage: error",!1,t),r.onabort=nv(ey,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=nv(ey,n,r,"TestLoadImage: timeout",!1,t),zd.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Bg(2);e.v=0,e.f&&e.f.ra(t),Ry(e),yy(e)}function Ry(e){e.v=0,e.I=-1,e.f&&(0==Ym(e.b).length&&0==e.g.length||(e.b.c.length=0,cv(e.g),e.g.length=0),e.f.qa())}function Py(e,t,n){var r=function(e){return e instanceof wm?_m(e):new wm(e,void 0)}(n);if(""!=r.c)t&&Em(r,t+"."+r.c),Im(r,r.h);else{var i=zd.location;r=function(e,t,n,r){var i=new wm(null,void 0);return e&&Tm(i,e),t&&Em(i,t),n&&Im(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&mv(e.V,(function(e,t){Cm(r,t,e)})),t=e.A,n=e.na,t&&n&&Cm(r,t,n),Cm(r,"VER",e.ha),Ty(e,r),r}function Oy(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ny(e.Na)).F=e.C,t}function Ly(){}function My(){if(Sv&&!(10<=Number(jv)))throw Error("Environmental error: no available transport.")}function Fy(e,t){hg.call(this),this.a=new vy(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!lv(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!lv(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&(t in(e=this.b)&&delete e[t])),this.f=new qy(this)}function jy(e){Jg.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function Uy(){Zg.call(this),this.status=1}function qy(e){this.a=e}(Hd=ny.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Qg(this.H):Qg(Yg),this.a.onreadystatechange=tv(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(e){return void sy(this,e)}e=n||"";var i=new gm(this.headers);r&&vm(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=ay,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.L()),n=zd.FormData&&e instanceof zd.FormData,!(0<=av(oy,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{hy(this),0<this.o&&((this.D=function(e){return Sv&&Mv(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=tv(this.xa,this)):this.m=kg(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(e){sy(this,e)}},Hd.xa=function(){void 0!==Gd&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,fg(this,"timeout"),this.abort(8))},Hd.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,fg(this,"complete"),fg(this,"abort"),ly(this))},Hd.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),ly(this,!0)),ny.X.G.call(this)},Hd.za=function(){this.j||(this.A||this.l||this.g?cy(this):this.Ua())},Hd.Ua=function(){cy(this)},Hd.W=function(){try{return 2<fy(this)?this.a.status:-1}catch(e){return-1}},Hd.$=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},Hd.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ty(t)}},Hd.ua=function(){return this.h},Hd.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Hd=vy.prototype).ha=8,Hd.v=1,Hd.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new tm(this,this.c,e,void 0),r=this.l;if(this.O&&(r?wv(r=yv(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Ey(this,n,t),Cm(i=_m(this.B),"RID",e),Cm(i,"CVER",22),this.A&&Cm(i,"X-HTTP-Session-Id",this.A),Ty(this,i),this.i&&r&&py(i,this.i,r),Qm(this.b,n),this.Ia&&Cm(i,"TYPE","init"),this.da?(Cm(i,"$req",t),Cm(i,"SID","null"),n.U=!0,om(n,i,null)):om(n,i,t),this.v=2}}else 3==this.v&&(e?_y(this,e):0==this.g.length||Wm(this.b)||_y(this))},Hd.Aa=function(){if(this.j=null,ky(this),this.U&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=Hg(tv(this.Ta,this),e)}},Hd.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Bg(10),my(this),ky(this))},Hd.Sa=function(){null!=this.m&&(this.m=null,my(this),Sy(this),Bg(19))},Hd.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),Bg(2)):(this.c.info("Failed to ping google.com"),Bg(1))},(Hd=Ly.prototype).ta=function(){},Hd.sa=function(){},Hd.ra=function(){},Hd.qa=function(){},Hd.Ja=function(){},My.prototype.a=function(e,t){return new Fy(e,t)},iv(Fy,hg),Fy.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;Bg(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=Py(e,null,e.fa),wy(e)},Fy.prototype.close=function(){gy(this.a)},Fy.prototype.h=function(e){if("string"==typeof e){var t={};t.__data__=e,by(this.a,t)}else this.l?((t={}).__data__=dg(e),by(this.a,t)):by(this.a,e)},Fy.prototype.G=function(){this.a.f=null,delete this.f,gy(this.a),delete this.a,Fy.X.G.call(this)},iv(jy,Jg),iv(Uy,Zg),iv(qy,Ly),qy.prototype.ta=function(){fg(this.a,"a")},qy.prototype.sa=function(e){fg(this.a,new jy(e))},qy.prototype.ra=function(e){fg(this.a,new Uy(e))},qy.prototype.qa=function(){fg(this.a,"b")},My.prototype.createWebChannel=My.prototype.a,Fy.prototype.send=Fy.prototype.h,Fy.prototype.open=Fy.prototype.g,Fy.prototype.close=Fy.prototype.close,Wg.NO_ERROR=0,Wg.TIMEOUT=8,Wg.HTTP_ERROR=6,Gg.COMPLETE="complete",$g.EventType=Xg,Xg.OPEN="a",Xg.CLOSE="b",Xg.ERROR="c",Xg.MESSAGE="d",hg.prototype.listen=hg.prototype.va,ny.prototype.listenOnce=ny.prototype.wa,ny.prototype.getLastError=ny.prototype.Qa,ny.prototype.getLastErrorCode=ny.prototype.ua,ny.prototype.getStatus=ny.prototype.W,ny.prototype.getResponseJson=ny.prototype.Pa,ny.prototype.getResponseText=ny.prototype.$,ny.prototype.send=ny.prototype.ba;var Vy=Wg,By=Gg,Ky=Mg,Hy=10,Wy=11,Gy=$g,zy=ny,Qy=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();Qy.o=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var $y=new Ru("@firebase/firestore");function Yy(){return $y.logLevel}function Xy(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if($y.logLevel<=Iu.DEBUG){var r=t.map(eb);$y.debug.apply($y,Rs(["Firestore (8.3.1): "+e],r))}}function Jy(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if($y.logLevel<=Iu.ERROR){var r=t.map(eb);$y.error.apply($y,Rs(["Firestore (8.3.1): "+e],r))}}function Zy(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if($y.logLevel<=Iu.WARN){var r=t.map(eb);$y.warn.apply($y,Rs(["Firestore (8.3.1): "+e],r))}}function eb(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}
/**
  * @license
  * Copyright 2020 Google LLC
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
  * You may obtain a copy of the License at
  *
  *   http://www.apache.org/licenses/LICENSE-2.0
  *
  * Unless required by applicable law or agreed to in writing, software
  * distributed under the License is distributed on an "AS IS" BASIS,
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.3.1) INTERNAL ASSERTION FAILED: "+e;throw Jy(t),new Error(t)}function nb(e,t){e||tb()}function rb(e,t){return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ob=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=ib(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function ab(e,t){return e<t?-1:e>t?1:0}function sb(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function ub(e){return e+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function lb(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function hb(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(e){return null==e}function pb(e){return 0===e&&1/e==-1/0}function db(e){return"number"==typeof e&&Number.isInteger(e)&&!pb(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},gb=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Cs(t,e),t}(Error),mb=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&tb(),void 0===n?n=e.length-t:n>e.length-t&&tb(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),yb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cs(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new gb(vb.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(mb),bb=/^[_a-zA-Z][_a-zA-Z0-9]*$/,wb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cs(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return bb.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new gb(vb.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new gb(vb.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new gb(vb.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new gb(vb.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(mb),_b=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(yb.fromString(t))},e.fromName=function(t){return new e(yb.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===yb.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return yb.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new yb(t.slice()))},e}(),Tb=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return ab(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();Tb.EMPTY_BYTE_STRING=new Tb("");var Eb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ib(e){if(nb(!!e),"string"==typeof e){var t=0,n=Eb.exec(e);if(nb(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Sb(e.seconds),nanos:Sb(e.nanos)}}function Sb(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Cb(e){return"string"==typeof e?Tb.fromBase64String(e):Tb.fromUint8Array(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kb=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new gb(vb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new gb(vb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new gb(vb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gb(vb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?ab(this.nanoseconds,e.nanoseconds):ab(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ab(e){var t=e.mapValue.fields.__previous_value__;return xb(t)?Ab(t):t}function Nb(e){var t=Ib(e.mapValue.fields.__local_write_time__.timestampValue);return new kb(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?xb(e)?4:10:tb()}function Rb(e,t){var n,r=Db(e);if(r!==Db(t))return!1;switch(r){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Nb(e).isEqual(Nb(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Ib(e.timestampValue),r=Ib(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return n=t,Cb(e.bytesValue).isEqual(Cb(n.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Sb(e.geoPointValue.latitude)===Sb(t.geoPointValue.latitude)&&Sb(e.geoPointValue.longitude)===Sb(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Sb(e.integerValue)===Sb(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Sb(e.doubleValue),r=Sb(t.doubleValue);return n===r?pb(n)===pb(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return sb(e.arrayValue.values||[],t.arrayValue.values||[],Rb);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(cb(n)!==cb(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Rb(n[i],r[i])))return!1;return!0}(e,t);default:return tb()}}function Pb(e,t){return void 0!==(e.values||[]).find((function(e){return Rb(e,t)}))}function Ob(e,t){var n,r,i,o,a=Db(e),s=Db(t);if(a!==s)return ab(a,s);switch(a){case 0:return 0;case 1:return ab(e.booleanValue,t.booleanValue);case 2:return r=t,i=Sb((n=e).integerValue||n.doubleValue),o=Sb(r.integerValue||r.doubleValue),i<o?-1:i>o?1:i===o?0:isNaN(i)?isNaN(o)?0:-1:1;case 3:return Lb(e.timestampValue,t.timestampValue);case 4:return Lb(Nb(e),Nb(t));case 5:return ab(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Cb(e),r=Cb(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ab(n[i],r[i]);if(0!==o)return o}return ab(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=ab(Sb(e.latitude),Sb(t.latitude));return 0!==n?n:ab(Sb(e.longitude),Sb(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ob(n[i],r[i]);if(o)return o}return ab(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=ab(r[a],o[a]);if(0!==s)return s;var u=Ob(n[r[a]],i[o[a]]);if(0!==u)return u}return ab(r.length,o.length)}(e.mapValue,t.mapValue);default:throw tb()}}function Lb(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ab(e,t);var n=Ib(e),r=Ib(t),i=ab(n.seconds,r.seconds);return 0!==i?i:ab(n.nanos,r.nanos)}function Mb(e){return Fb(e)}function Fb(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(t=e.timestampValue,"time("+(n=Ib(t)).seconds+","+n.nanos+")"):"stringValue"in e?e.stringValue:"bytesValue"in e?Cb(e.bytesValue).toBase64():"referenceValue"in e?(i=e.referenceValue,_b.fromName(i).toString()):"geoPointValue"in e?"geo("+(r=e.geoPointValue).latitude+","+r.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=Fb(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+Fb(e.fields[o])}return t+"}"}(e.mapValue):tb();var t,n,r,i}function jb(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Ub(e){return!!e&&"integerValue"in e}function qb(e){return!!e&&"arrayValue"in e}function Vb(e){return!!e&&"nullValue"in e}function Bb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Kb(e){return!!e&&"mapValue"in e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hb=function(e,t){this.key=e,this.version=t},Wb=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this,t,n)||this).objectValue=r,o.hasLocalMutations=!!i.hasLocalMutations,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Cs(t,e),t.prototype.field=function(e){return this.objectValue.field(e)},t.prototype.data=function(){return this.objectValue},t.prototype.toProto=function(){return this.objectValue.proto},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.hasLocalMutations===e.hasLocalMutations&&this.hasCommittedMutations===e.hasCommittedMutations&&this.objectValue.isEqual(e.objectValue)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.objectValue.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t}(Hb),Gb=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Cs(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(Hb),zb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cs(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(Hb),Qb=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function $b(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Qb(e,t,n,r,i,o,a)}function Yb(e){var t=rb(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Mb(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return(t=e).field.canonicalString()+t.dir;var t})).join(","),fb(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=cw(t.startAt)),t.endAt&&(n+="|ub:",n+=cw(t.endAt)),t.h=n}return t.h}function Xb(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!hw(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Rb(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!pw(e.startAt,t.startAt)&&pw(e.endAt,t.endAt)}function Jb(e){return _b.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Zb=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return Cs(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new ew(e,n,r):"array-contains"===n?new iw(e,r):"in"===n?new ow(e,r):"not-in"===n?new aw(e,r):"array-contains-any"===n?new sw(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new tw(e,n):new nw(e,n)},t.prototype.matches=function(e){var t=e.field(this.field);return"!="===this.op?null!==t&&this.m(Ob(t,this.value)):null!==t&&Db(this.value)===Db(t)&&this.m(Ob(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tb()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),ew=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=_b.fromName(r.referenceValue),i}return Cs(t,e),t.prototype.matches=function(e){var t=_b.comparator(e.key,this.key);return this.m(t)},t}(Zb),tw=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=rw("in",n),r}return Cs(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Zb),nw=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=rw("not-in",n),r}return Cs(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Zb);function rw(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return _b.fromName(e.referenceValue)}))}var iw=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return Cs(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return qb(t)&&Pb(t.arrayValue,this.value)},t}(Zb),ow=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return Cs(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&Pb(this.value.arrayValue,t)},t}(Zb),aw=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return Cs(t,e),t.prototype.matches=function(e){if(Pb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.field(this.field);return null!==t&&!Pb(this.value.arrayValue,t)},t}(Zb),sw=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return Cs(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return!(!qb(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Pb(t.value.arrayValue,e)}))},t}(Zb),uw=function(e,t){this.position=e,this.before=t};function cw(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return Mb(e)})).join(",")}var lw=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function hw(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function fw(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?_b.comparator(_b.fromName(a.referenceValue),n.key):Ob(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function pw(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Rb(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dw=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function vw(e,t,n,r,i,o,a,s){return new dw(e,t,n,r,i,o,a,s)}function gw(e){return new dw(e)}function mw(e){return!fb(e.limit)&&"F"===e.limitType}function yw(e){return!fb(e.limit)&&"L"===e.limitType}function bw(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ww(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function _w(e){return null!==e.collectionGroup}function Tw(e){var t=rb(e);if(null===t.p){t.p=[];var n=ww(t),r=bw(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new lw(n)),t.p.push(new lw(wb.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new lw(wb.keyField(),u))}}}return t.p}function Ew(e){var t=rb(e);if(!t.T)if("F"===t.limitType)t.T=$b(t.path,t.collectionGroup,Tw(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Tw(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new lw(o.field,a))}var s=t.endAt?new uw(t.endAt.position,!t.endAt.before):null,u=t.startAt?new uw(t.startAt.position,!t.startAt.before):null;t.T=$b(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function Iw(e,t,n){return new dw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Sw(e,t){return Xb(Ew(e),Ew(t))&&e.limitType===t.limitType}function Cw(e){return Yb(Ew(e))+"|lt:"+e.limitType}function kw(e){return"Query(target="+(t=Ew(e),n=t.path.canonicalString(),null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+Mb(t.value);var t})).join(", ")+"]"),fb(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map((function(e){return(t=e).field.canonicalString()+" ("+t.dir+")";var t})).join(", ")+"]"),t.startAt&&(n+=", startAt: "+cw(t.startAt)),t.endAt&&(n+=", endAt: "+cw(t.endAt)),"Target("+n+"); limitType=")+e.limitType+")";var t,n}function xw(e,t){return n=e,i=(r=t).key.path,(null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):_b.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i))&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!fw(e.startAt,Tw(e),t)||e.endAt&&fw(e.endAt,Tw(e),t))}(e,t);var n,r,i}function Aw(e){return function(t,n){for(var r=!1,i=0,o=Tw(e);i<o.length;i++){var a=o[i],s=Nw(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Nw(e,t,n){var r,i,o,a,s=e.field.isKeyField()?_b.comparator(t.key,n.key):(r=e.field,i=n,o=t.field(r),a=i.field(r),null!==o&&null!==a?Ob(o,a):tb());switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return tb()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dw=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new kb(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}(),Rw=function(){function e(e){this.fields=e,e.sort(wb.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return sb(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),Pw=function(){function e(e){this.proto=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.proto;for(var t=this.proto,n=0;n<e.length-1;++n){if(!t.mapValue.fields)return null;if(!Kb(t=t.mapValue.fields[e.get(n)]))return null}return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.isEqual=function(e){return Rb(this.proto,e.proto)},e}(),Ow=function(){function e(e){void 0===e&&(e=Pw.empty()),this.I=e,this.A=new Map}return e.prototype.set=function(e,t){return this.R(e,t),this},e.prototype.delete=function(e){return this.R(e,null),this},e.prototype.R=function(e,t){for(var n=this.A,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Db(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e.lastSegment(),t)},e.prototype.v=function(){var e=this.P(wb.emptyPath(),this.A);return null!=e?new Pw(e):this.I},e.prototype.P=function(e,t){var n=this,r=!1,i=this.I.field(e),o=Kb(i)?Object.assign({},i.mapValue.fields):{};return t.forEach((function(t,i){if(t instanceof Map){var a=n.P(e.child(i),t);null!=a&&(o[i]=a,r=!0)}else null!==t?(o[i]=t,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(e){var t=[];return lb(e.fields||{},(function(e,n){var r=new wb([e]);if(Kb(n)){var i=Lw(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new Rw(t)}function Mw(e,t){if(e.V){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pb(t)?"-0":t}}function Fw(e){return{integerValue:""+e}}function jw(e,t){return db(t)?Fw(t):Mw(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uw=function(){this._=void 0};function qw(e,t,n){return e instanceof Kw?(i=t,o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(r=n).seconds,nanos:r.nanoseconds}}}},i&&(o.fields.__previous_value__=i),{mapValue:o}):e instanceof Hw?Ww(e,t):e instanceof Gw?zw(e,t):function(e,t){var n=Bw(e,t),r=$w(n)+$w(e.S);return Ub(n)&&Ub(e.S)?Fw(r):Mw(e.D,r)}(e,t);var r,i,o}function Vw(e,t,n){return e instanceof Hw?Ww(e,t):e instanceof Gw?zw(e,t):n}function Bw(e,t){return e instanceof Qw?Ub(r=t)||(n=r)&&"doubleValue"in n?t:{integerValue:0}:null;var n,r}var Kw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cs(t,e),t}(Uw),Hw=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Cs(t,e),t}(Uw);function Ww(e,t){for(var n=Yw(t),r=function(e){n.some((function(t){return Rb(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Gw=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Cs(t,e),t}(Uw);function zw(e,t){for(var n=Yw(t),r=function(e){n=n.filter((function(t){return!Rb(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Qw=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).D=t,r.S=n,r}return Cs(t,e),t}(Uw);function $w(e){return Sb(e.integerValue||e.doubleValue)}function Yw(e){return qb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xw=function(e,t){this.field=e,this.transform=t},Jw=function(e,t){this.version=e,this.transformResults=t},Zw=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function e_(e,t){return void 0!==e.updateTime?t instanceof Wb&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t instanceof Wb}var t_=function(){};function n_(e,t,n){return e instanceof s_?(i=t,o=n,a=(r=e).value,s=l_(r.fieldTransforms,i,o.transformResults),a=f_(r.fieldTransforms,a,s),new Wb(r.key,o.version,a,{hasCommittedMutations:!0})):e instanceof u_?function(e,t,n){if(!e_(e.precondition,t))return new zb(e.key,n.version);var r=c_(e,t,l_(e.fieldTransforms,t,n.transformResults));return new Wb(e.key,n.version,r,{hasCommittedMutations:!0})}(e,t,n):function(e,t,n){return new Gb(e.key,n.version,{hasCommittedMutations:!0})}(e,0,n);var r,i,o,a,s}function r_(e,t,n){return e instanceof s_?function(e,t,n){if(!e_(e.precondition,t))return t;var r=e.value,i=h_(e.fieldTransforms,n,t);r=f_(e.fieldTransforms,r,i);var o=a_(t);return new Wb(e.key,o,r,{hasLocalMutations:!0})}(e,t,n):e instanceof u_?function(e,t,n){if(!e_(e.precondition,t))return t;var r=a_(t),i=c_(e,t,h_(e.fieldTransforms,n,t));return new Wb(e.key,r,i,{hasLocalMutations:!0})}(e,t,n):(i=t,e_((r=e).precondition,i)?new Gb(r.key,Dw.min()):i);var r,i}function i_(e,t){return function(e,t){for(var n=null,r=0,i=e;r<i.length;r++){var o=i[r],a=t instanceof Wb?t.field(o.field):void 0,s=Bw(o.transform,a||null);null!=s&&(n=null==n?(new Ow).set(o.field,s):n.set(o.field,s))}return n?n.v():null}(e.fieldTransforms,t)}function o_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&sb(n,r,(function(e,t){return r=t,(n=e).field.isEqual(r.field)&&(i=n.transform,o=r.transform,i instanceof Hw&&o instanceof Hw||i instanceof Gw&&o instanceof Gw?sb(i.elements,o.elements,Rb):i instanceof Qw&&o instanceof Qw?Rb(i.S,o.S):i instanceof Kw&&o instanceof Kw);var n,r,i,o}))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask));var n,r}function a_(e){return e instanceof Wb?e.version:Dw.min()}var s_=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Cs(t,e),t}(t_),u_=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Cs(t,e),t}(t_);function c_(e,t,n){var r,i,o,a;return i=e,o=r=t instanceof Wb?t.data():Pw.empty(),a=new Ow(o),i.fieldMask.fields.forEach((function(e){if(!e.isEmpty()){var t=i.data.field(e);null!==t?a.set(e,t):a.delete(e)}})),r=a.v(),f_(e.fieldTransforms,r,n)}function l_(e,t,n){var r=[];nb(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=null;t instanceof Wb&&(s=t.field(o.field)),r.push(Vw(a,s,n[i]))}return r}function h_(e,t,n){for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=null;n instanceof Wb&&(u=n.field(a.field)),r.push(qw(s,u,t))}return r}function f_(e,t,n){for(var r=new Ow(t),i=0;i<e.length;i++){var o=e[i];r.set(o.field,n[i])}return r.v()}var p_,d_,v_=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Cs(t,e),t}(t_),g_=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Cs(t,e),t}(t_),m_=function(e){this.count=e};function y_(e){switch(e){case vb.OK:return tb();case vb.CANCELLED:case vb.UNKNOWN:case vb.DEADLINE_EXCEEDED:case vb.RESOURCE_EXHAUSTED:case vb.INTERNAL:case vb.UNAVAILABLE:case vb.UNAUTHENTICATED:return!1;case vb.INVALID_ARGUMENT:case vb.NOT_FOUND:case vb.ALREADY_EXISTS:case vb.PERMISSION_DENIED:case vb.FAILED_PRECONDITION:case vb.ABORTED:case vb.OUT_OF_RANGE:case vb.UNIMPLEMENTED:case vb.DATA_LOSS:return!0;default:return tb()}}function b_(e){if(void 0===e)return Jy("GRPC error has no .code"),vb.UNKNOWN;switch(e){case p_.OK:return vb.OK;case p_.CANCELLED:return vb.CANCELLED;case p_.UNKNOWN:return vb.UNKNOWN;case p_.DEADLINE_EXCEEDED:return vb.DEADLINE_EXCEEDED;case p_.RESOURCE_EXHAUSTED:return vb.RESOURCE_EXHAUSTED;case p_.INTERNAL:return vb.INTERNAL;case p_.UNAVAILABLE:return vb.UNAVAILABLE;case p_.UNAUTHENTICATED:return vb.UNAUTHENTICATED;case p_.INVALID_ARGUMENT:return vb.INVALID_ARGUMENT;case p_.NOT_FOUND:return vb.NOT_FOUND;case p_.ALREADY_EXISTS:return vb.ALREADY_EXISTS;case p_.PERMISSION_DENIED:return vb.PERMISSION_DENIED;case p_.FAILED_PRECONDITION:return vb.FAILED_PRECONDITION;case p_.ABORTED:return vb.ABORTED;case p_.OUT_OF_RANGE:return vb.OUT_OF_RANGE;case p_.UNIMPLEMENTED:return vb.UNIMPLEMENTED;case p_.DATA_LOSS:return vb.DATA_LOSS;default:return tb()}}(d_=p_||(p_={}))[d_.OK=0]="OK",d_[d_.CANCELLED=1]="CANCELLED",d_[d_.UNKNOWN=2]="UNKNOWN",d_[d_.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",d_[d_.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",d_[d_.NOT_FOUND=5]="NOT_FOUND",d_[d_.ALREADY_EXISTS=6]="ALREADY_EXISTS",d_[d_.PERMISSION_DENIED=7]="PERMISSION_DENIED",d_[d_.UNAUTHENTICATED=16]="UNAUTHENTICATED",d_[d_.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",d_[d_.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",d_[d_.ABORTED=10]="ABORTED",d_[d_.OUT_OF_RANGE=11]="OUT_OF_RANGE",d_[d_.UNIMPLEMENTED=12]="UNIMPLEMENTED",d_[d_.INTERNAL=13]="INTERNAL",d_[d_.UNAVAILABLE=14]="UNAVAILABLE",d_[d_.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var w_=function(){function e(e,t){this.comparator=e,this.root=t||T_.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,T_.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,T_.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new __(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new __(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new __(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new __(this.root,e,this.comparator,!0)},e}(),__=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),T_=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw tb();if(this.right.isRed())throw tb();var e=this.left.check();if(e!==this.right.check())throw tb();return e+(this.isRed()?0:1)},e}();T_.EMPTY=null,T_.RED=!0,T_.BLACK=!1,T_.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw tb()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw tb()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw tb()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw tb()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw tb()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new T_(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var E_=function(){function e(e){this.comparator=e,this.data=new w_(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new I_(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new I_(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),I_=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),S_=new w_(_b.comparator);function C_(){return S_}function k_(){return C_()}var x_=new w_(_b.comparator);function A_(){return x_}var N_=new w_(_b.comparator);function D_(){return N_}var R_=new E_(_b.comparator);function P_(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=R_,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var O_=new E_(ab);function L_(){return O_}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M_=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,F_.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Dw.min(),r,L_(),C_(),P_())},e}(),F_=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Tb.EMPTY_BYTE_STRING,n,P_(),P_(),P_())},e}(),j_=function(e,t,n,r){this.C=e,this.removedTargetIds=t,this.key=n,this.N=r},U_=function(e,t){this.targetId=e,this.$=t},q_=function(e,t,n,r){void 0===n&&(n=Tb.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},V_=function(){function e(){this.F=0,this.O=H_(),this.k=Tb.EMPTY_BYTE_STRING,this.M=!1,this.L=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.M},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.k},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"B",{get:function(){return 0!==this.F},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"q",{get:function(){return this.L},enumerable:!1,configurable:!0}),e.prototype.U=function(e){e.approximateByteSize()>0&&(this.L=!0,this.k=e)},e.prototype.K=function(){var e=P_(),t=P_(),n=P_();return this.O.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:tb()}})),new F_(this.k,this.M,e,t,n)},e.prototype.W=function(){this.L=!1,this.O=H_()},e.prototype.j=function(e,t){this.L=!0,this.O=this.O.insert(e,t)},e.prototype.G=function(e){this.L=!0,this.O=this.O.remove(e)},e.prototype.H=function(){this.F+=1},e.prototype.J=function(){this.F-=1},e.prototype.Y=function(){this.L=!0,this.M=!0},e}(),B_=function(){function e(e){this.X=e,this.Z=new Map,this.tt=C_(),this.et=K_(),this.nt=new E_(ab)}return e.prototype.st=function(e){for(var t=0,n=e.C;t<n.length;t++){var r=n[t];e.N instanceof Wb?this.it(r,e.N):e.N instanceof Gb&&this.rt(r,e.key,e.N)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.rt(r,e.key,e.N)},e.prototype.ot=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ct(n);switch(e.state){case 0:t.at(n)&&r.U(e.resumeToken);break;case 1:r.J(),r.B||r.W(),r.U(e.resumeToken);break;case 2:r.J(),r.B||t.removeTarget(n);break;case 3:t.at(n)&&(r.Y(),r.U(e.resumeToken));break;case 4:t.at(n)&&(t.ut(n),r.U(e.resumeToken));break;default:tb()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Z.forEach((function(e,r){n.at(r)&&t(r)}))},e.prototype.ht=function(e){var t=e.targetId,n=e.$.count,r=this.lt(t);if(r){var i=r.target;if(Jb(i))if(0===n){var o=new _b(i.path);this.rt(t,o,new Gb(o,Dw.min()))}else nb(1===n);else this.ft(t)!==n&&(this.ut(t),this.nt=this.nt.add(t))}},e.prototype.dt=function(e){var t=this,n=new Map;this.Z.forEach((function(r,i){var o=t.lt(i);if(o){if(r.current&&Jb(o.target)){var a=new _b(o.target.path);null!==t.tt.get(a)||t.wt(i,a)||t.rt(i,a,new Gb(a,e))}r.q&&(n.set(i,r.K()),r.W())}}));var r=P_();this.et.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.lt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new M_(e,n,this.nt,this.tt,r);return this.tt=C_(),this.et=K_(),this.nt=new E_(ab),i},e.prototype.it=function(e,t){if(this.at(e)){var n=this.wt(e,t.key)?2:0;this.ct(e).j(t.key,n),this.tt=this.tt.insert(t.key,t),this.et=this.et.insert(t.key,this._t(t.key).add(e))}},e.prototype.rt=function(e,t,n){if(this.at(e)){var r=this.ct(e);this.wt(e,t)?r.j(t,1):r.G(t),this.et=this.et.insert(t,this._t(t).delete(e)),n&&(this.tt=this.tt.insert(t,n))}},e.prototype.removeTarget=function(e){this.Z.delete(e)},e.prototype.ft=function(e){var t=this.ct(e).K();return this.X.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.H=function(e){this.ct(e).H()},e.prototype.ct=function(e){var t=this.Z.get(e);return t||(t=new V_,this.Z.set(e,t)),t},e.prototype._t=function(e){var t=this.et.get(e);return t||(t=new E_(ab),this.et=this.et.insert(e,t)),t},e.prototype.at=function(e){var t=null!==this.lt(e);return t||Xy("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.lt=function(e){var t=this.Z.get(e);return t&&t.B?null:this.X.yt(e)},e.prototype.ut=function(e){var t=this;this.Z.set(e,new V_),this.X.getRemoteKeysForTarget(e).forEach((function(n){t.rt(e,n,null)}))},e.prototype.wt=function(e,t){return this.X.getRemoteKeysForTarget(e).has(t)},e}();function K_(){return new w_(_b.comparator)}function H_(){return new w_(_b.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W_={asc:"ASCENDING",desc:"DESCENDING"},G_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},z_=function(e,t){this.databaseId=e,this.V=t};function Q_(e,t){return e.V?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function $_(e,t){return e.V?t.toBase64():t.toUint8Array()}function Y_(e,t){return Q_(e,t.toTimestamp())}function X_(e){return nb(!!e),Dw.fromTimestamp((t=Ib(e),new kb(t.seconds,t.nanos)));var t}function J_(e,t){return(n=e,new yb(["projects",n.projectId,"databases",n.database])).child("documents").child(t).canonicalString();var n}function Z_(e){var t=yb.fromString(e);return nb(ET(t)),t}function eT(e,t){return J_(e.databaseId,t.path)}function tT(e,t){var n=Z_(t);if(n.get(1)!==e.databaseId.projectId)throw new gb(vb.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new gb(vb.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new _b(oT(n))}function nT(e,t){return J_(e.databaseId,t)}function rT(e){var t=Z_(e);return 4===t.length?yb.emptyPath():oT(t)}function iT(e){return new yb(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function oT(e){return nb(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function aT(e,t,n){return{name:eT(e,t),fields:n.proto.mapValue.fields}}function sT(e,t,n){var r=tT(e,t.name),i=X_(t.updateTime),o=new Pw({mapValue:{fields:t.fields}});return new Wb(r,i,o,{hasCommittedMutations:!!n})}function uT(e,t){var n,r,i;if(t instanceof s_)n={update:aT(e,t.key,t.value)};else if(t instanceof v_)n={delete:eT(e,t.key)};else if(t instanceof u_)n={update:aT(e,t.key,t.data),updateMask:TT(t.fieldMask)};else{if(!(t instanceof g_))return tb();n={verify:eT(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Kw)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Hw)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Gw)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Qw)return{fieldPath:t.field.canonicalString(),increment:n.S};throw tb()}(0,e)}))),t.precondition.isNone||(n.currentDocument=(r=e,void 0!==(i=t.precondition).updateTime?{updateTime:Y_(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:tb())),n}function cT(e,t){var n,r=t.currentDocument?void 0!==(n=t.currentDocument).updateTime?Zw.updateTime(X_(n.updateTime)):void 0!==n.exists?Zw.exists(n.exists):Zw.none():Zw.none(),i=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)nb("REQUEST_TIME"===t.setToServerValue),n=new Kw;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Hw(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Gw(i)}else"increment"in t?n=new Qw(e,t.increment):tb();var o=wb.fromServerFormat(t.fieldPath);return new Xw(o,n)}(e,t)})):[];if(t.update){t.update.name;var o=tT(e,t.update.name),a=new Pw({mapValue:{fields:t.update.fields}});if(t.updateMask){var s=function(e){var t=e.fieldPaths||[];return new Rw(t.map((function(e){return wb.fromServerFormat(e)})))}(t.updateMask);return new u_(o,a,s,r,i)}return new s_(o,a,r,i)}if(t.delete){var u=tT(e,t.delete);return new v_(u,r)}if(t.verify){var c=tT(e,t.verify);return new g_(c,r)}return tb()}function lT(e,t){return{documents:[nT(e,t.path)]}}function hT(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=nT(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=nT(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Bb(e.value))return{unaryFilter:{field:yT(e.field),op:"IS_NAN"}};if(Vb(e.value))return{unaryFilter:{field:yT(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Bb(e.value))return{unaryFilter:{field:yT(e.field),op:"IS_NOT_NAN"}};if(Vb(e.value))return{unaryFilter:{field:yT(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yT(e.field),op:mT(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return{field:yT((t=e).field),direction:gT(t.dir)};var t}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a,s,u=(a=e,s=t.limit,a.V||fb(s)?s:{value:s});return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt=dT(t.startAt)),t.endAt&&(n.structuredQuery.endAt=dT(t.endAt)),n}function fT(e){var t=rT(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){nb(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=pT(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return new lw(bT((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t})));var u,c,l=null;n.limit&&(u=n.limit,l=fb(c="object"==typeof u?u.value:u)?null:c);var h=null;n.startAt&&(h=vT(n.startAt));var f=null;return n.endAt&&(f=vT(n.endAt)),vw(t,i,s,a,l,"F",h,f)}function pT(e){return e?void 0!==e.unaryFilter?[_T(e)]:void 0!==e.fieldFilter?[wT(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return pT(e)})).reduce((function(e,t){return e.concat(t)})):tb():[]}function dT(e){return{before:e.before,values:e.position}}function vT(e){var t=!!e.before,n=e.values||[];return new uw(n,t)}function gT(e){return W_[e]}function mT(e){return G_[e]}function yT(e){return{fieldPath:e.canonicalString()}}function bT(e){return wb.fromServerFormat(e.fieldPath)}function wT(e){return Zb.create(bT(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return tb()}}(e.fieldFilter.op),e.fieldFilter.value)}function _T(e){switch(e.unaryFilter.op){case"IS_NAN":var t=bT(e.unaryFilter.field);return Zb.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=bT(e.unaryFilter.field);return Zb.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=bT(e.unaryFilter.field);return Zb.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=bT(e.unaryFilter.field);return Zb.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return tb()}}function TT(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function ET(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=CT(t)),t=ST(e.get(n),t);return CT(t)}function ST(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function CT(e){return e+""}function kT(e){var t=e.length;if(nb(t>=2),2===t)return nb(""===e.charAt(0)&&""===e.charAt(1)),yb.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("",o);switch((a<0||a>n)&&tb(),e.charAt(a+1)){case"":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=e.substring(o,a),i+="\0";break;case"":i+=e.substring(o,a+1);break;default:tb()}o=a+2}return new yb(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xT=function(e,t){this.seconds=e,this.nanoseconds=t},AT=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};AT.store="owner",AT.key="owner";var NT=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};NT.store="mutationQueues",NT.keyPath="userId";var DT=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};DT.store="mutations",DT.keyPath="batchId",DT.userMutationsIndex="userMutationsIndex",DT.userMutationsKeyPath=["userId","batchId"];var RT=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,IT(t)]},e.key=function(e,t,n){return[e,IT(t),n]},e}();RT.store="documentMutations",RT.PLACEHOLDER=new RT;var PT=function(e,t){this.path=e,this.readTime=t},OT=function(e,t){this.path=e,this.version=t},LT=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};LT.store="remoteDocuments",LT.readTimeIndex="readTimeIndex",LT.readTimeIndexPath="readTime",LT.collectionReadTimeIndex="collectionReadTimeIndex",LT.collectionReadTimeIndexPath=["parentPath","readTime"];var MT=function(e){this.byteSize=e};MT.store="remoteDocumentGlobal",MT.key="remoteDocumentGlobalKey";var FT=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};FT.store="targets",FT.keyPath="targetId",FT.queryTargetsIndexName="queryTargetsIndex",FT.queryTargetsKeyPath=["canonicalId","targetId"];var jT=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};jT.store="targetDocuments",jT.keyPath=["targetId","path"],jT.documentTargetsIndex="documentTargetsIndex",jT.documentTargetsKeyPath=["path","targetId"];var UT=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};UT.key="targetGlobalKey",UT.store="targetGlobal";var qT=function(e,t){this.collectionId=e,this.parent=t};qT.store="collectionParents",qT.keyPath=["collectionId","parent"];var VT=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};VT.store="clientMetadata",VT.keyPath="clientId";var BT=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};BT.store="bundles",BT.keyPath="bundleId";var KT=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};KT.store="namedQueries",KT.keyPath="name";var HT=Rs(Rs([],Rs(Rs([],Rs(Rs([],Rs(Rs([],[NT.store,DT.store,RT.store,LT.store,FT.store,AT.store,UT.store,jT.store]),[VT.store])),[MT.store])),[qT.store])),[BT.store,KT.store]),WT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",GT=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),zT=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},QT=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&tb(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),$T=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.gt=new zT,this.transaction.oncomplete=function(){n.gt.resolve()},this.transaction.onabort=function(){t.error?n.gt.reject(new JT(e,t.error)):n.gt.resolve()},this.transaction.onerror=function(t){var r=rE(t.target.error);n.gt.reject(new JT(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(e){throw new JT(n,e)}},Object.defineProperty(e.prototype,"Et",{get:function(){return this.gt.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.gt.reject(e),this.aborted||(Xy("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new eE(t)},e}(),YT=function(){function e(t,n,r){this.name=t,this.version=n,this.Tt=r,12.2===e.It(Ks())&&Jy("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return Xy("SimpleDb","Removing database:",e),tE(window.indexedDB.deleteDatabase(e)).toPromise()},e.At=function(){if("undefined"==typeof indexedDB)return!1;if(e.Rt())return!0;var t=Ks(),n=e.It(t),r=0<n&&n<10,i=e.bt(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.Rt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production"})||void 0===e?void 0:e.vt)},e.Pt=function(e,t){return e.store(t)},e.It=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.bt=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.Vt=function(e){return xs(this,void 0,void 0,(function(){var t,n=this;return As(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Xy("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new JT(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new gb(vb.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new JT(e,n))},i.onupgradeneeded=function(e){Xy("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Tt.St(t,i.transaction,e.oldVersion,n.version).next((function(){Xy("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.Dt&&(this.db.onversionchange=function(e){return n.Dt(e)}),this.db)]}}))}))},e.prototype.Ct=function(e){this.Dt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return xs(this,void 0,void 0,(function(){var i,o,a,s,u;return As(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return As(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.Vt(e)];case 2:return s.db=h.sent(),t=$T.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),QT.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.Et];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,Xy("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),XT=function(){function e(e){this.xt=e,this.Nt=!1,this.$t=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Nt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Ft",{get:function(){return this.$t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.xt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Nt=!0},e.prototype.Ot=function(e){this.$t=e},e.prototype.delete=function(){return tE(this.xt.delete())},e}(),JT=function(e){function t(t,n){var r=this;return(r=e.call(this,vb.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Cs(t,e),t}(gb);function ZT(e){return"IndexedDbTransactionError"===e.name}var eE=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(Xy("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Xy("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),tE(n)},e.prototype.add=function(e){return Xy("SimpleDb","ADD",this.store.name,e,e),tE(this.store.add(e))},e.prototype.get=function(e){var t=this;return tE(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Xy("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return Xy("SimpleDb","DELETE",this.store.name,e),tE(this.store.delete(e))},e.prototype.count=function(){return Xy("SimpleDb","COUNT",this.store.name),tE(this.store.count())},e.prototype.kt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Mt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Lt=function(e,t){Xy("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Bt=!1;var r=this.cursor(n);return this.Mt(r,(function(e,t,n){return n.delete()}))},e.prototype.qt=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Mt(r,t)},e.prototype.Ut=function(e){var t=this.cursor({});return new QT((function(n,r){t.onerror=function(e){var t=rE(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.Mt=function(e,t){var n=[];return new QT((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new XT(i),a=t(i.primaryKey,i.value,o);if(a instanceof QT){var s=a.catch((function(e){return o.done(),QT.reject(e)}));n.push(s)}o.isDone?r():null===o.Ft?i.continue():i.continue(o.Ft)}else r()}})).next((function(){return QT.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Bt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function tE(e){return new QT((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=rE(e.target.error);n(t)}}))}var nE=!1;function rE(e){var t=YT.It(Ks());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new gb("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return nE||(nE=!0,setTimeout((function(){throw r}),0)),r}}return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iE=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Qt=t,r.currentSequenceNumber=n,r}return Cs(t,e),t}(GT);function oE(e,t){var n=rb(e);return YT.Pt(n.Qt,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aE=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e)&&(t=n_(o,t,r[i]))}return t},e.prototype.applyToLocalView=function(e,t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(e)&&(t=r_(a,t,this.localWriteTime));for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(e)&&(t=r_(a,t,this.localWriteTime))}return t},e.prototype.applyToLocalDocumentSet=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var i=t.applyToLocalView(r.key,e.get(r.key));i&&(n=n.insert(r.key,i))})),n},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),P_())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&sb(this.mutations,e.mutations,(function(e,t){return o_(e,t)}))&&sb(this.baseMutations,e.baseMutations,(function(e,t){return o_(e,t)}))},e}(),sE=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){nb(t.mutations.length===r.length);for(var i=D_(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),uE=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=Dw.min()),void 0===o&&(o=Dw.min()),void 0===a&&(a=Tb.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),cE=function(e){this.Kt=e};function lE(e,t){if(t.document)return sT(e.Kt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=_b.fromSegments(t.noDocument.path),r=vE(t.noDocument.readTime);return new Gb(n,r,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var i=_b.fromSegments(t.unknownDocument.path);return r=vE(t.unknownDocument.version),new zb(i,r)}return tb()}function hE(e,t,n){var r,i,o=fE(n),a=t.key.path.popLast().toArray();if(t instanceof Wb){var s={name:eT(r=e.Kt,(i=t).key),fields:i.toProto().mapValue.fields,updateTime:Q_(r,i.version.toTimestamp())},u=t.hasCommittedMutations;return new LT(null,null,s,u,o,a)}if(t instanceof Gb){var c=t.key.path.toArray(),l=dE(t.version);return u=t.hasCommittedMutations,new LT(null,new PT(c,l),null,u,o,a)}if(t instanceof zb){var h=t.key.path.toArray(),f=dE(t.version);return new LT(new OT(h,f),null,null,!0,o,a)}return tb()}function fE(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function pE(e){var t=new kb(e[0],e[1]);return Dw.fromTimestamp(t)}function dE(e){var t=e.toTimestamp();return new xT(t.seconds,t.nanoseconds)}function vE(e){var t=new kb(e.seconds,e.nanoseconds);return Dw.fromTimestamp(t)}function gE(e,t){for(var n=(t.baseMutations||[]).map((function(t){return cT(e.Kt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return cT(e.Kt,t)})),s=kb.fromMillis(t.localWriteTimeMs);return new aE(t.batchId,s,n,a)}function mE(e){var t,n,r=vE(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?vE(e.lastLimboFreeSnapshotVersion):Dw.min();return void 0!==e.query.documents?(nb(1===(n=e.query).documents.length),t=Ew(gw(rT(n.documents[0])))):t=Ew(fT(e.query)),new uE(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Tb.fromBase64String(e.resumeToken))}function yE(e,t){var n,r=dE(t.snapshotVersion),i=dE(t.lastLimboFreeSnapshotVersion);n=Jb(t.target)?lT(e.Kt,t.target):hT(e.Kt,t.target);var o=t.resumeToken.toBase64();return new FT(t.targetId,Yb(t.target),r,o,t.sequenceNumber,i,n)}function bE(e){var t=fT({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Iw(t,t.limit,"L"):t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wE=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return _E(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:vE(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return _E(e).put({bundleId:(n=t).id,createTime:dE(X_(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return TE(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:bE(t.bundledQuery),readTime:vE(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return TE(e).put({name:(n=t).name,readTime:dE(X_(n.readTime)),bundledQuery:n.bundledQuery});var n},e}();function _E(e){return oE(e,BT.store)}function TE(e){return oE(e,KT.store)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EE=function(){function e(){this.Wt=new IE}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Wt.add(t),QT.resolve()},e.prototype.getCollectionParents=function(e,t){return QT.resolve(this.Wt.getEntries(t))},e}(),IE=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new E_(yb.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new E_(yb.comparator)).toArray()},e}(),SE=function(){function e(){this.jt=new IE}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.jt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.jt.add(t)}));var o={collectionId:r,parent:IT(i)};return CE(e).put(o)}return QT.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[ub(t),""],!1,!0);return CE(e).kt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(kT(o.parent))}return n}))},e}();function CE(e){return oE(e,qT.store)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xE=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(e,t,n){var r=e.store(DT.store),i=e.store(RT.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.qt({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){nb(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],p=RT.key(t,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return QT.waitFor(o).next((function(){return c}))}function NE(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw tb();t=e.noDocument}return JSON.stringify(t).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xE.DEFAULT_COLLECTION_PERCENTILE=10,xE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xE.DEFAULT=new xE(41943040,xE.DEFAULT_COLLECTION_PERCENTILE,xE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xE.DISABLED=new xE(-1,0,0);var DE=function(){function e(e,t,n,r){this.userId=e,this.D=t,this.Gt=n,this.referenceDelegate=r,this.zt={}}return e.Ht=function(t,n,r,i){return nb(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return PE(e).qt({index:DT.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=OE(e),a=PE(e);return a.add({}).next((function(s){nb("number"==typeof s);for(var u=new aE(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return uT(e.Kt,t)})),i=n.mutations.map((function(t){return uT(e.Kt,t)}));return new DT(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.D,i.userId,u),l=[],h=new E_((function(e,t){return ab(e.canonicalString(),t.canonicalString())})),f=0,p=r;f<p.length;f++){var d=p[f],v=RT.key(i.userId,d.key.path,s);h=h.add(d.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,RT.PLACEHOLDER))}return h.forEach((function(t){l.push(i.Gt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.zt[s]=u.keys()})),QT.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return PE(e).get(t).next((function(e){return e?(nb(e.userId===n.userId),gE(n.D,e)):null}))},e.prototype.Jt=function(e,t){var n=this;return this.zt[t]?QT.resolve(this.zt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.zt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return PE(e).qt({index:DT.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(nb(t.batchId>=r),o=gE(n.D,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return PE(e).qt({index:DT.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return PE(e).kt(DT.userMutationsIndex,n).next((function(e){return e.map((function(e){return gE(t.D,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=RT.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return OE(e).qt({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=kT(u);if(s===n.userId&&t.path.isEqual(l))return PE(e).get(c).next((function(e){if(!e)throw tb();nb(e.userId===n.userId),o.push(gE(n.D,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new E_(ab),i=[];return t.forEach((function(t){var o=RT.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=OE(e).qt({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=kT(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),QT.waitFor(i).next((function(){return n.Yt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=RT.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new E_(ab);return OE(e).qt({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=kT(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Yt(e,s)}))},e.prototype.Yt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(PE(e).get(t).next((function(e){if(null===e)throw tb();nb(e.userId===n.userId),r.push(gE(n.D,e))})))})),QT.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return AE(e.Qt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Xt(t.batchId)})),QT.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Xt=function(e){delete this.zt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return QT.resolve();var r=IDBKeyRange.lowerBound(RT.prefixForUser(t.userId)),i=[];return OE(e).qt({range:r},(function(e,n,r){if(e[0]===t.userId){var o=kT(e[1]);i.push(o)}else r.done()})).next((function(){nb(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return RE(e,this.userId,t)},e.prototype.Zt=function(e){var t=this;return LE(e).get(this.userId).next((function(e){return e||new NT(t.userId,-1,"")}))},e}();function RE(e,t,n){var r=RT.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return OE(e).qt({range:o,Bt:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function PE(e){return oE(e,DT.store)}function OE(e){return oE(e,RT.store)}function LE(e){return oE(e,NT.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ME=function(){function e(e){this.te=e}return e.prototype.next=function(){return this.te+=2,this.te},e.ee=function(){return new e(0)},e.ne=function(){return new e(-1)},e}(),FE=function(){function e(e,t){this.referenceDelegate=e,this.D=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.se(e).next((function(n){var r=new ME(n.highestTargetId);return n.highestTargetId=r.next(),t.ie(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.se(e).next((function(e){return Dw.fromTimestamp(new kb(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.se(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.se(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ie(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.re(e,t).next((function(){return n.se(e).next((function(r){return r.targetCount+=1,n.oe(t,r),n.ie(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.re(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return jE(e).delete(t.targetId)})).next((function(){return n.se(e)})).next((function(t){return nb(t.targetCount>0),t.targetCount-=1,n.ie(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return jE(e).qt((function(a,s){var u=mE(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return QT.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return jE(e).qt((function(e,n){var r=mE(n);t(r)}))},e.prototype.se=function(e){return UE(e).get(UT.key).next((function(e){return nb(null!==e),e}))},e.prototype.ie=function(e,t){return UE(e).put(UT.key,t)},e.prototype.re=function(e,t){return jE(e).put(yE(this.D,t))},e.prototype.oe=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.se(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=Yb(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return jE(e).qt({range:r,index:FT.queryTargetsIndexName},(function(e,n,r){var o=mE(n);Xb(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=qE(e);return t.forEach((function(t){var a=IT(t.path);i.push(o.put(new jT(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),QT.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=qE(e);return QT.forEach(t,(function(t){var o=IT(t.path);return QT.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=qE(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=qE(e),i=P_();return r.qt({range:n,Bt:!0},(function(e,t,n){var r=kT(e[1]),o=new _b(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=IT(t.path),r=IDBKeyRange.bound([n],[ub(n)],!1,!0),i=0;return qE(e).qt({index:jT.documentTargetsIndex,Bt:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.yt=function(e,t){return jE(e).get(t).next((function(e){return e?mE(e):null}))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(e){return oE(e,FT.store)}function UE(e){return oE(e,UT.store)}function qE(e){return oE(e,jT.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(e){return xs(this,void 0,void 0,(function(){return As(this,(function(t){if(e.code!==vb.FAILED_PRECONDITION||e.message!==WT)throw e;return Xy("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=ab(n,i);return 0===a?ab(r,o):a}var KE=function(){function e(e){this.ce=e,this.buffer=new E_(BE),this.ae=0}return e.prototype.ue=function(){return++this.ae},e.prototype.he=function(e){var t=[e,this.ue()];if(this.buffer.size<this.ce)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();BE(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),HE=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.le=!1,this.fe=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.de(e)},e.prototype.stop=function(){this.fe&&(this.fe.cancel(),this.fe=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.fe},enumerable:!1,configurable:!0}),e.prototype.de=function(e){var t=this,n=this.le?3e5:6e4;Xy("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.fe=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return xs(t,void 0,void 0,(function(){var t;return As(this,(function(n){switch(n.label){case 0:this.fe=null,this.le=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return ZT(t=n.sent())?(Xy("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,VE(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.de(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),WE=function(){function e(e,t){this.we=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.we._e(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return QT.resolve(Qy.o);var r=new KE(t);return this.we.forEachTarget(e,(function(e){return r.he(e.sequenceNumber)})).next((function(){return n.we.me(e,(function(e){return r.he(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.we.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.we.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Xy("LruGarbageCollector","Garbage collection skipped; disabled"),QT.resolve(kE)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Xy("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),kE):n.ye(e,t)}))},e.prototype.getCacheSize=function(e){return this.we.getCacheSize(e)},e.prototype.ye=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Xy("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Yy()<=Iu.DEBUG&&Xy("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),QT.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),GE=function(){function e(e,t){this.db=e,this.garbageCollector=new WE(this,t)}return e.prototype._e=function(e){var t=this.ge(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.ge=function(e){var t=0;return this.me(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.me=function(e,t){return this.pe(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return zE(e,n)},e.prototype.removeReference=function(e,t,n){return zE(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return zE(e,t)},e.prototype.Ee=function(e,t){return r=t,i=!1,LE(n=e).Ut((function(e){return RE(n,e,r).next((function(e){return e&&(i=!0),QT.resolve(!e)}))})).next((function(){return i}));var n,r,i},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.pe(e,(function(a,s){if(s<=t){var u=n.Ee(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),qE(e).delete([0,IT(a.path)])}))}));i.push(u)}})).next((function(){return QT.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return zE(e,t)},e.prototype.pe=function(e,t){var n,r=qE(e),i=Qy.o;return r.qt({index:jT.documentTargetsIndex},(function(e,r){var o=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===o?(i!==Qy.o&&t(new _b(kT(n)),i),i=s,n=a):i=Qy.o})).next((function(){i!==Qy.o&&t(new _b(kT(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function zE(e,t){return qE(e).put((n=t,r=e.currentSequenceNumber,new jT(0,IT(n.path),r)));var n,r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QE=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){lb(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return hb(this.inner)},e}(),$E=function(){function e(){this.changes=new QE((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:Dw.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{maybeDocument:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{maybeDocument:null,readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?QT.resolve(n.maybeDocument):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),YE=function(){function e(e,t){this.D=e,this.Gt=t}return e.prototype.addEntry=function(e,t,n){return ZE(e).put(eI(t),n)},e.prototype.removeEntry=function(e,t){var n=ZE(e),r=eI(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Te(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return ZE(e).get(eI(t)).next((function(e){return n.Ie(e)}))},e.prototype.Ae=function(e,t){var n=this;return ZE(e).get(eI(t)).next((function(e){var t=n.Ie(e);return t?{maybeDocument:t,size:NE(e)}:null}))},e.prototype.getEntries=function(e,t){var n=this,r=k_();return this.Re(e,t,(function(e,t){var i=n.Ie(t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.be=function(e,t){var n=this,r=k_(),i=new w_(_b.comparator);return this.Re(e,t,(function(e,t){var o=n.Ie(t);o?(r=r.insert(e,o),i=i.insert(e,NE(t))):(r=r.insert(e,null),i=i.insert(e,0))})).next((function(){return{ve:r,Pe:i}}))},e.prototype.Re=function(e,t,n){if(t.isEmpty())return QT.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return ZE(e).qt({range:r},(function(e,t,r){for(var a=_b.fromSegments(e);o&&_b.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ot(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=A_(),o=t.path.length+1,a={};if(n.isEqual(Dw.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=fE(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=LT.collectionReadTimeIndex}return ZE(e).qt(a,(function(e,n,a){if(e.length===o){var s=lE(r.D,n);t.path.isPrefixOf(s.key.path)?s instanceof Wb&&xw(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new XE(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return JE(e).get(MT.key).next((function(e){return nb(!!e),e}))},e.prototype.Te=function(e,t){return JE(e).put(MT.key,t)},e.prototype.Ie=function(e){if(e){var t=lE(this.D,e);return t instanceof Gb&&t.version.isEqual(Dw.min())?null:t}return null},e}(),XE=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ve=t,r.trackRemovals=n,r.Se=new QE((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return Cs(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new E_((function(e,t){return ab(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Se.get(o);if(a.maybeDocument){var u=hE(t.Ve.D,a.maybeDocument,t.getReadTime(o));i=i.add(o.path.popLast());var c=NE(u);r+=c-s,n.push(t.Ve.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=hE(t.Ve.D,new Gb(o,Dw.min()),t.getReadTime(o));n.push(t.Ve.addEntry(e,o,l))}else n.push(t.Ve.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ve.Gt.addToCollectionParentIndex(e,r))})),n.push(this.Ve.updateMetadata(e,r)),QT.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ve.Ae(e,t).next((function(e){return null===e?(n.Se.set(t,0),null):(n.Se.set(t,e.size),e.maybeDocument)}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ve.be(e,t).next((function(e){var t=e.ve;return e.Pe.forEach((function(e,t){n.Se.set(e,t)})),t}))},t}($E);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(e){return oE(e,MT.store)}function ZE(e){return oE(e,LT.store)}function eI(e){return e.path.toArray()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tI=function(){function e(e){this.D=e}return e.prototype.St=function(e,t,n,r){var i=this;nb(n<r&&n>=0&&r<=11);var o=new $T("createOrUpgrade",t);n<1&&r>=1&&(e.createObjectStore(AT.store),function(e){e.createObjectStore(NT.store,{keyPath:NT.keyPath}),e.createObjectStore(DT.store,{keyPath:DT.keyPath,autoIncrement:!0}).createIndex(DT.userMutationsIndex,DT.userMutationsKeyPath,{unique:!0}),e.createObjectStore(RT.store)}(e),nI(e),function(e){e.createObjectStore(LT.store)}(e));var a=QT.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(jT.store),e.deleteObjectStore(FT.store),e.deleteObjectStore(UT.store)}(e),nI(e)),a=a.next((function(){return function(e){var t=e.store(UT.store),n=new UT(0,0,Dw.min().toTimestamp(),0);return t.put(UT.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(DT.store).kt().next((function(n){e.deleteObjectStore(DT.store),e.createObjectStore(DT.store,{keyPath:DT.keyPath,autoIncrement:!0}).createIndex(DT.userMutationsIndex,DT.userMutationsKeyPath,{unique:!0});var r=t.store(DT.store),i=n.map((function(e){return r.put(e)}));return QT.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(VT.store,{keyPath:VT.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.De(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(MT.store)}(e),i.Ce(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.xe(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Ne(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(LT.store);t.createIndex(LT.readTimeIndex,LT.readTimeIndexPath,{unique:!1}),t.createIndex(LT.collectionReadTimeIndex,LT.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.$e(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(BT.store,{keyPath:BT.keyPath})}(e),function(e){e.createObjectStore(KT.store,{keyPath:KT.keyPath})}(e)}))),a},e.prototype.Ce=function(e){var t=0;return e.store(LT.store).qt((function(e,n){t+=NE(n)})).next((function(){var n=new MT(t);return e.store(MT.store).put(MT.key,n)}))},e.prototype.De=function(e){var t=this,n=e.store(NT.store),r=e.store(DT.store);return n.kt().next((function(n){return QT.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.kt(DT.userMutationsIndex,i).next((function(r){return QT.forEach(r,(function(r){nb(r.userId===n.userId);var i=gE(t.D,r);return AE(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.xe=function(e){var t=e.store(jT.store),n=e.store(LT.store);return e.store(UT.store).get(UT.key).next((function(e){var r=[];return n.qt((function(n,i){var o=new yb(n),a=[0,IT(o)];r.push(t.get(a).next((function(n){return n?QT.resolve():(r=o,t.put(new jT(0,IT(r),e.highestListenSequenceNumber)));var r})))})).next((function(){return QT.waitFor(r)}))}))},e.prototype.Ne=function(e,t){e.createObjectStore(qT.store,{keyPath:qT.keyPath});var n=t.store(qT.store),r=new IE,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:IT(i)})}};return t.store(LT.store).qt({Bt:!0},(function(e,t){var n=new yb(e);return i(n.popLast())})).next((function(){return t.store(RT.store).qt({Bt:!0},(function(e,t){e[0];var n=e[1],r=(e[2],kT(n));return i(r.popLast())}))}))},e.prototype.$e=function(e){var t=this,n=e.store(FT.store);return n.qt((function(e,r){var i=mE(r),o=yE(t.D,i);return n.put(o)}))},e}();function nI(e){e.createObjectStore(jT.store,{keyPath:jT.keyPath}).createIndex(jT.documentTargetsIndex,jT.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(FT.store,{keyPath:FT.keyPath}).createIndex(FT.queryTargetsIndexName,FT.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(UT.store)}var rI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",iI=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Fe=o,this.window=a,this.document=s,this.Oe=c,this.ke=l,this.Me=null,this.Le=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Be=null,this.inForeground=!1,this.qe=null,this.Ue=null,this.Qe=Number.NEGATIVE_INFINITY,this.Ke=function(e){return Promise.resolve()},!e.At())throw new gb(vb.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");var h,f;this.referenceDelegate=new GE(this,i),this.We=n+"main",this.D=new cE(u),this.je=new YT(this.We,11,new tI(this.D)),this.Ge=new FE(this.referenceDelegate,this.D),this.Gt=new SE,this.ze=(h=this.D,f=this.Gt,new YE(h,f)),this.He=new wE,this.window&&this.window.localStorage?this.Je=this.window.localStorage:(this.Je=null,!1===l&&Jy("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.Ye().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new gb(vb.FAILED_PRECONDITION,rI);return e.Xe(),e.Ze(),e.tn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Ge.getHighestSequenceNumber(t)}))})).then((function(t){e.Me=new Qy(t,e.Oe)})).then((function(){e.Le=!0})).catch((function(t){return e.je&&e.je.close(),Promise.reject(t)}))},e.prototype.en=function(e){var t=this;return this.Ke=function(n){return xs(t,void 0,void 0,(function(){return As(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.je.Ct((function(n){return xs(t,void 0,void 0,(function(){return As(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Fe.enqueueAndForget((function(){return xs(t,void 0,void 0,(function(){return As(this,(function(e){switch(e.label){case 0:return this.started?[4,this.Ye()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.Ye=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return aI(t).put(new VT(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.nn(t).next((function(t){t||(e.isPrimary=!1,e.Fe.enqueueRetryable((function(){return e.Ke(!1)})))}))})).next((function(){return e.sn(t)})).next((function(n){return e.isPrimary&&!n?e.rn(t).next((function(){return!1})):!!n&&e.on(t).next((function(){return!0}))}))})).catch((function(t){if(ZT(t))return Xy("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Xy("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Fe.enqueueRetryable((function(){return e.Ke(t)})),e.isPrimary=t}))},e.prototype.nn=function(e){var t=this;return oI(e).get(AT.key).next((function(e){return QT.resolve(t.cn(e))}))},e.prototype.an=function(e){return aI(e).delete(this.clientId)},e.prototype.un=function(){return xs(this,void 0,void 0,(function(){var e,t,n,r,i=this;return As(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.hn(this.Qe,18e5)?[3,2]:(this.Qe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=oE(e,VT.store);return t.kt().next((function(e){var n=i.ln(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return QT.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Je)for(t=0,n=e;t<n.length;t++)r=n[t],this.Je.removeItem(this.fn(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.tn=function(){var e=this;this.Ue=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ye().then((function(){return e.un()})).then((function(){return e.tn()}))}))},e.prototype.cn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.sn=function(e){var t=this;return this.ke?QT.resolve(!0):oI(e).get(AT.key).next((function(n){if(null!==n&&t.hn(n.leaseTimestampMs,5e3)&&!t.dn(n.ownerId)){if(t.cn(n)&&t.networkEnabled)return!0;if(!t.cn(n)){if(!n.allowTabSynchronization)throw new gb(vb.FAILED_PRECONDITION,rI);return!1}}return!(!t.networkEnabled||!t.inForeground)||aI(e).kt().next((function(e){return void 0===t.ln(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Xy("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return xs(this,void 0,void 0,(function(){var e=this;return As(this,(function(t){switch(t.label){case 0:return this.Le=!1,this.wn(),this.Ue&&(this.Ue.cancel(),this.Ue=null),this._n(),this.mn(),[4,this.je.runTransaction("shutdown","readwrite",[AT.store,VT.store],(function(t){var n=new iE(t,Qy.o);return e.rn(n).next((function(){return e.an(n)}))}))];case 1:return t.sent(),this.je.close(),this.yn(),[2]}}))}))},e.prototype.ln=function(e,t){var n=this;return e.filter((function(e){return n.hn(e.updateTimeMs,t)&&!n.dn(e.clientId)}))},e.prototype.gn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return aI(t).kt().next((function(t){return e.ln(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return DE.Ht(e,this.D,this.Gt,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.Ge},e.prototype.getRemoteDocumentCache=function(){return this.ze},e.prototype.getIndexManager=function(){return this.Gt},e.prototype.getBundleCache=function(){return this.He},e.prototype.runTransaction=function(e,t,n){var r=this;Xy("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.je.runTransaction(e,o,HT,(function(o){return i=new iE(o,r.Me?r.Me.next():Qy.o),"readwrite-primary"===t?r.nn(i).next((function(e){return!!e||r.sn(i)})).next((function(t){if(!t)throw Jy("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Fe.enqueueRetryable((function(){return r.Ke(!1)})),new gb(vb.FAILED_PRECONDITION,WT);return n(i)})).next((function(e){return r.on(i).next((function(){return e}))})):r.pn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.pn=function(e){var t=this;return oI(e).get(AT.key).next((function(e){if(null!==e&&t.hn(e.leaseTimestampMs,5e3)&&!t.dn(e.ownerId)&&!t.cn(e)&&!(t.ke||t.allowTabSynchronization&&e.allowTabSynchronization))throw new gb(vb.FAILED_PRECONDITION,rI)}))},e.prototype.on=function(e){var t=new AT(this.clientId,this.allowTabSynchronization,Date.now());return oI(e).put(AT.key,t)},e.At=function(){return YT.At()},e.prototype.rn=function(e){var t=this,n=oI(e);return n.get(AT.key).next((function(e){return t.cn(e)?(Xy("IndexedDbPersistence","Releasing primary lease."),n.delete(AT.key)):QT.resolve()}))},e.prototype.hn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(Jy("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.Xe=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){e.Fe.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ye()}))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)},e.prototype._n=function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)},e.prototype.Ze=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Be=function(){t.wn(),t.Fe.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Be))},e.prototype.mn=function(){this.Be&&(this.window.removeEventListener("unload",this.Be),this.Be=null)},e.prototype.dn=function(e){var t;try{var n=null!==(null===(t=this.Je)||void 0===t?void 0:t.getItem(this.fn(e)));return Xy("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return Jy("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.wn=function(){if(this.Je)try{this.Je.setItem(this.fn(this.clientId),String(Date.now()))}catch(e){Jy("Failed to set zombie client id.",e)}},e.prototype.yn=function(){if(this.Je)try{this.Je.removeItem(this.fn(this.clientId))}catch(e){}},e.prototype.fn=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function oI(e){return oE(e,AT.store)}function aI(e){return oE(e,VT.store)}function sI(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var uI=function(e,t){this.progress=e,this.En=t},cI=function(){function e(e,t,n){this.ze=e,this.Tn=t,this.Gt=n}return e.prototype.In=function(e,t){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.An(e,t,r)}))},e.prototype.An=function(e,t,n){return this.ze.getEntry(e,t).next((function(e){for(var r=0,i=n;r<i.length;r++)e=i[r].applyToLocalView(t,e);return e}))},e.prototype.Rn=function(e,t,n){var r=k_();return t.forEach((function(e,t){for(var i=0,o=n;i<o.length;i++)t=o[i].applyToLocalView(e,t);r=r.insert(e,t)})),r},e.prototype.bn=function(e,t){var n=this;return this.ze.getEntries(e,t).next((function(t){return n.vn(e,t)}))},e.prototype.vn=function(e,t){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(r){var i=n.Rn(e,t,r),o=C_();return i.forEach((function(e,t){t||(t=new Gb(e,Dw.min())),o=o.insert(e,t)})),o}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return r=t,_b.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Pn(e,t.path):_w(t)?this.Vn(e,t,n):this.Sn(e,t,n);var r},e.prototype.Pn=function(e,t){return this.In(e,new _b(t)).next((function(e){var t=A_();return e instanceof Wb&&(t=t.insert(e.key,e)),t}))},e.prototype.Vn=function(e,t,n){var r=this,i=t.collectionGroup,o=A_();return this.Gt.getCollectionParents(e,i).next((function(a){return QT.forEach(a,(function(a){var s,u,c=(s=t,u=a.child(i),new dw(u,null,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt));return r.Sn(e,c,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.Sn=function(e,t,n){var r,i,o=this;return this.ze.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o.Tn.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Dn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r_(u,r.get(c),o.localWriteTime);r=l instanceof Wb?r.insert(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(e,n){xw(t,n)||(r=r.remove(e))})),r}))},e.prototype.Dn=function(e,t,n){for(var r=P_(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof u_&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ze.getEntries(e,r).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof Wb&&(c=c.insert(e,t))})),c}))},e}(),lI=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.Cn=n,this.xn=r}return e.Nn=function(t,n){for(var r=P_(),i=P_(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),hI=function(){function e(){}return e.prototype.$n=function(e){this.Fn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i,o=this;return 0===(i=t).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(Dw.min())?this.On(e,t):this.Fn.bn(e,r).next((function(i){var a=o.kn(t,i);return(mw(t)||yw(t))&&o.Mn(t.limitType,a,r,n)?o.On(e,t):(Yy()<=Iu.DEBUG&&Xy("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),kw(t)),o.Fn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.kn=function(e,t){var n=new E_(Aw(e));return t.forEach((function(t,r){r instanceof Wb&&xw(e,r)&&(n=n.add(r))})),n},e.prototype.Mn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.On=function(e,t){return Yy()<=Iu.DEBUG&&Xy("QueryEngine","Using full collection scan to execute query:",kw(t)),this.Fn.getDocumentsMatchingQuery(e,t,Dw.min())},e}(),fI=function(){function e(e,t,n,r){this.persistence=e,this.Ln=t,this.D=r,this.Bn=new w_(ab),this.qn=new QE((function(e){return Yb(e)}),Xb),this.Un=Dw.min(),this.Tn=e.getMutationQueue(n),this.Qn=e.getRemoteDocumentCache(),this.Ge=e.getTargetCache(),this.Kn=new cI(this.Qn,this.Tn,this.persistence.getIndexManager()),this.He=e.getBundleCache(),this.Ln.$n(this.Kn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Bn)}))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(e,t,n,r){return new fI(e,t,n,r)}function dI(e,t){return xs(this,void 0,void 0,(function(){var n,r,i,o;return As(this,(function(a){switch(a.label){case 0:return n=rb(e),r=n.Tn,i=n.Kn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n.Tn.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new cI(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=P_(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var p=0,d=t;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var g=0,m=v.mutations;g<m.length;g++){var y=m[g];a=a.add(y.key)}}return i.bn(e,a).next((function(e){return{Wn:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n.Tn=r,n.Kn=i,n.Ln.$n(n.Kn),o)]}}))}))}function vI(e,t){var n=rb(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r,i,o,a,s,u,c,l=t.batch.keys(),h=n.Qn.newChangeBuffer({trackRemovals:!0});return(r=n,i=e,o=t,a=h,s=o.batch,u=s.keys(),c=QT.resolve(),u.forEach((function(e){c=c.next((function(){return a.getEntry(i,e)})).next((function(t){var n=t,r=o.docVersions.get(e);nb(null!==r),(!n||n.version.compareTo(r)<0)&&(n=s.applyToRemoteDocument(e,n,o))&&a.addEntry(n,o.commitVersion)}))})),c.next((function(){return r.Tn.removeMutationBatch(i,s)}))).next((function(){return h.apply(e)})).next((function(){return n.Tn.performConsistencyCheck(e)})).next((function(){return n.Kn.bn(e,l)}))}))}function gI(e){var t=rb(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ge.getLastRemoteSnapshotVersion(e)}))}function mI(e,t){var n=rb(e),r=t.snapshotVersion,i=n.Bn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.Bn;var a=[];t.targetChanges.forEach((function(t,o){var s,u,c,l=i.get(o);if(l){a.push(n.Ge.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.Ge.addMatchingKeys(e,t.addedDocuments,o)})));var h=t.resumeToken;if(h.approximateByteSize()>0){var f=l.withResumeToken(h,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,f),s=l,c=t,nb((u=f).resumeToken.approximateByteSize()>0),(0===s.resumeToken.approximateByteSize()||u.snapshotVersion.toMicroseconds()-s.snapshotVersion.toMicroseconds()>=3e8||c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size>0)&&a.push(n.Ge.updateTargetData(e,f))}}}));var s=C_();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(yI(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Dw.min())){var u=n.Ge.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ge.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return QT.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Kn.vn(e,s)}))})).then((function(e){return n.Bn=i,e}))}function yI(e,t,n,r,i){var o=P_();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=C_();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a instanceof Gb&&a.version.isEqual(Dw.min())?(t.removeEntry(n,u),o=o.insert(n,a)):null==s||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):Xy("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function bI(e,t){var n=rb(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Tn.getNextMutationBatchAfterBatchId(e,t)}))}function wI(e,t){var n=rb(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ge.getTargetData(e,t).next((function(i){return i?(r=i,QT.resolve(r)):n.Ge.allocateTargetId(e).next((function(i){return r=new uE(t,i,0,e.currentSequenceNumber),n.Ge.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Bn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Bn=n.Bn.insert(e.targetId,e),n.qn.set(t,e.targetId)),e}))}function _I(e,t,n){return xs(this,void 0,void 0,(function(){var r,i,o,a;return As(this,(function(s){switch(s.label){case 0:r=rb(e),i=r.Bn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!ZT(a=s.sent()))throw a;return Xy("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Bn=r.Bn.remove(t),r.qn.delete(i.target),[2]}}))}))}function TI(e,t,n){var r=rb(e),i=Dw.min(),o=P_();return r.persistence.runTransaction("Execute query","readonly",(function(e){return(a=r,s=e,u=Ew(t),c=rb(a),l=c.qn.get(u),void 0!==l?QT.resolve(c.Bn.get(l)):c.Ge.getTargetData(s,u)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ge.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.Ln.getDocumentsMatchingQuery(e,t,n?i:Dw.min(),n?o:P_())})).next((function(e){return{documents:e,jn:o}}));var a,s,u,c,l}))}function EI(e,t){var n=rb(e),r=rb(n.Ge),i=n.Bn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.yt(e,t).next((function(e){return e?e.target:null}))}))}function II(e){var t=rb(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return n=t.Qn,r=e,i=t.Un,o=rb(n),a=C_(),s=fE(i),u=ZE(r),c=IDBKeyRange.lowerBound(s,!0),u.qt({index:LT.readTimeIndex,range:c},(function(e,t){var n=lE(o.D,t);a=a.insert(n.key,n),s=t.readTime})).next((function(){return{En:a,readTime:pE(s)}}));var n,r,i,o,a,s,u,c})).then((function(e){var n=e.En,r=e.readTime;return t.Un=r,n}))}function SI(e){return xs(this,void 0,void 0,(function(){var t;return As(this,(function(n){return[2,(t=rb(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return t=ZE(e),n=Dw.min(),t.qt({index:LT.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=pE(t.readTime)),r.done()})).next((function(){return n}));var t,n})).then((function(e){t.Un=e}))]}))}))}function CI(e,t,n,r){return xs(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,p;return As(this,(function(d){switch(d.label){case 0:for(i=rb(e),o=P_(),a=C_(),s=D_(),u=0,c=n;u<c.length;u++)l=c[u],h=t.Gn(l.metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,t.zn(l)),s=s.insert(h,t.Hn(l.metadata.readTime));return f=i.Qn.newChangeBuffer({trackRemovals:!0}),[4,wI(i,(v=r,Ew(gw(yb.fromString("__bundle__/docs/"+v)))))];case 1:return p=d.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return yI(e,f,a,Dw.min(),s).next((function(t){return f.apply(e),t})).next((function(t){return i.Ge.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return i.Ge.addMatchingKeys(e,o,p.targetId)})).next((function(){return i.Kn.vn(e,t)}))}))}))]}var v}))}))}function kI(e,t,n){return void 0===n&&(n=P_()),xs(this,void 0,void 0,(function(){var r,i;return As(this,(function(o){switch(o.label){case 0:return[4,wI(e,Ew(bE(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=rb(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=X_(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.He.saveNamedQuery(e,t);var a=r.withResumeToken(Tb.EMPTY_BYTE_STRING,o);return i.Bn=i.Bn.insert(a.targetId,a),i.Ge.updateTargetData(e,a).next((function(){return i.Ge.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.Ge.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.He.saveNamedQuery(e,t)}))}))]}}))}))
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var xI=function(){function e(e){this.D=e,this.Jn=new Map,this.Yn=new Map}return e.prototype.getBundleMetadata=function(e,t){return QT.resolve(this.Jn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:X_(n.createTime)}),QT.resolve()},e.prototype.getNamedQuery=function(e,t){return QT.resolve(this.Yn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.Yn.set(t.name,{name:(n=t).name,query:bE(n.bundledQuery),readTime:X_(n.readTime)}),QT.resolve();var n},e}(),AI=function(){function e(){this.Xn=new E_(NI.Zn),this.ts=new E_(NI.es)}return e.prototype.isEmpty=function(){return this.Xn.isEmpty()},e.prototype.addReference=function(e,t){var n=new NI(e,t);this.Xn=this.Xn.add(n),this.ts=this.ts.add(n)},e.prototype.ns=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.ss(new NI(e,t))},e.prototype.rs=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.os=function(e){var t=this,n=new _b(new yb([])),r=new NI(n,e),i=new NI(n,e+1),o=[];return this.ts.forEachInRange([r,i],(function(e){t.ss(e),o.push(e.key)})),o},e.prototype.cs=function(){var e=this;this.Xn.forEach((function(t){return e.ss(t)}))},e.prototype.ss=function(e){this.Xn=this.Xn.delete(e),this.ts=this.ts.delete(e)},e.prototype.us=function(e){var t=new _b(new yb([])),n=new NI(t,e),r=new NI(t,e+1),i=P_();return this.ts.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new NI(e,0),n=this.Xn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),NI=function(){function e(e,t){this.key=e,this.hs=t}return e.Zn=function(e,t){return _b.comparator(e.key,t.key)||ab(e.hs,t.hs)},e.es=function(e,t){return ab(e.hs,t.hs)||_b.comparator(e.key,t.key)},e}(),DI=function(){function e(e,t){this.Gt=e,this.referenceDelegate=t,this.Tn=[],this.ls=1,this.fs=new E_(NI.Zn)}return e.prototype.checkEmpty=function(e){return QT.resolve(0===this.Tn.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ls;this.ls++,this.Tn.length>0&&this.Tn[this.Tn.length-1];var o=new aE(i,t,n,r);this.Tn.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.fs=this.fs.add(new NI(u.key,i)),this.Gt.addToCollectionParentIndex(e,u.key.path.popLast())}return QT.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return QT.resolve(this.ds(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return QT.resolve(this.Tn.length>i?this.Tn[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return QT.resolve(0===this.Tn.length?-1:this.ls-1)},e.prototype.getAllMutationBatches=function(e){return QT.resolve(this.Tn.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new NI(t,0),i=new NI(t,Number.POSITIVE_INFINITY),o=[];return this.fs.forEachInRange([r,i],(function(e){var t=n.ds(e.hs);o.push(t)})),QT.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new E_(ab);return t.forEach((function(e){var t=new NI(e,0),i=new NI(e,Number.POSITIVE_INFINITY);n.fs.forEachInRange([t,i],(function(e){r=r.add(e.hs)}))})),QT.resolve(this._s(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;_b.isDocumentKey(i)||(i=i.child(""));var o=new NI(new _b(i),0),a=new E_(ab);return this.fs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.hs)),!0)}),o),QT.resolve(this._s(a))},e.prototype._s=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ds(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;nb(0===this.ys(t.batchId,"removed")),this.Tn.shift();var r=this.fs;return QT.forEach(t.mutations,(function(i){var o=new NI(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.fs=r}))},e.prototype.Xt=function(e){},e.prototype.containsKey=function(e,t){var n=new NI(t,0),r=this.fs.firstAfterOrEqual(n);return QT.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this.Tn.length,QT.resolve()},e.prototype.ys=function(e,t){return this.ws(e)},e.prototype.ws=function(e){return 0===this.Tn.length?0:e-this.Tn[0].batchId},e.prototype.ds=function(e){var t=this.ws(e);return t<0||t>=this.Tn.length?null:this.Tn[t]},e}(),RI=function(){function e(e,t){this.Gt=e,this.gs=t,this.docs=new w_(_b.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.gs(t);return this.docs=this.docs.insert(r,{maybeDocument:t,size:a,readTime:n}),this.size+=a-o,this.Gt.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return QT.resolve(n?n.maybeDocument:null)},e.prototype.getEntries=function(e,t){var n=this,r=k_();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null)})),QT.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=A_(),i=new _b(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.maybeDocument,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||c instanceof Wb&&xw(t,c)&&(r=r.insert(c.key,c))}return QT.resolve(r)},e.prototype.ps=function(e,t){return QT.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new PI(this)},e.prototype.getSize=function(e){return QT.resolve(this.size)},e}(),PI=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ve=t,n}return Cs(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i&&i.maybeDocument?n.push(t.Ve.addEntry(e,i.maybeDocument,t.getReadTime(r))):t.Ve.removeEntry(r)})),QT.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ve.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ve.getEntries(e,t)},t}($E),OI=function(){function e(e){this.persistence=e,this.Es=new QE((function(e){return Yb(e)}),Xb),this.lastRemoteSnapshotVersion=Dw.min(),this.highestTargetId=0,this.Ts=0,this.Is=new AI,this.targetCount=0,this.As=ME.ee()}return e.prototype.forEachTarget=function(e,t){return this.Es.forEach((function(e,n){return t(n)})),QT.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return QT.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return QT.resolve(this.Ts)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.As.next(),QT.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ts&&(this.Ts=t),QT.resolve()},e.prototype.re=function(e){this.Es.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.As=new ME(t),this.highestTargetId=t),e.sequenceNumber>this.Ts&&(this.Ts=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.re(t),this.targetCount+=1,QT.resolve()},e.prototype.updateTargetData=function(e,t){return this.re(t),QT.resolve()},e.prototype.removeTargetData=function(e,t){return this.Es.delete(t.target),this.Is.os(t.targetId),this.targetCount-=1,QT.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.Es.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Es.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),QT.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return QT.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.Es.get(t)||null;return QT.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this.Is.ns(t,n),QT.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this.Is.rs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),QT.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this.Is.os(t),QT.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.Is.us(t);return QT.resolve(n)},e.prototype.containsKey=function(e,t){return QT.resolve(this.Is.containsKey(t))},e}(),LI=function(){function e(e,t){var n,r=this;this.Rs={},this.Me=new Qy(0),this.Le=!1,this.Le=!0,this.referenceDelegate=e(this),this.Ge=new OI(this),this.Gt=new EE,this.ze=(n=this.Gt,new RI(n,(function(e){return r.referenceDelegate.bs(e)}))),this.D=new cE(t),this.He=new xI(this.D)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.Le=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Gt},e.prototype.getMutationQueue=function(e){var t=this.Rs[e.toKey()];return t||(t=new DI(this.Gt,this.referenceDelegate),this.Rs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.Ge},e.prototype.getRemoteDocumentCache=function(){return this.ze},e.prototype.getBundleCache=function(){return this.He},e.prototype.runTransaction=function(e,t,n){var r=this;Xy("MemoryPersistence","Starting transaction:",e);var i=new MI(this.Me.next());return this.referenceDelegate.vs(),n(i).next((function(e){return r.referenceDelegate.Ps(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Vs=function(e,t){return QT.or(Object.values(this.Rs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),MI=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return Cs(t,e),t}(GT),FI=function(){function e(e){this.persistence=e,this.Ss=new AI,this.Ds=null}return e.Cs=function(t){return new e(t)},Object.defineProperty(e.prototype,"xs",{get:function(){if(this.Ds)return this.Ds;throw tb()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.Ss.addReference(n,t),this.xs.delete(n.toString()),QT.resolve()},e.prototype.removeReference=function(e,t,n){return this.Ss.removeReference(n,t),this.xs.add(n.toString()),QT.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.xs.add(t.toString()),QT.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.Ss.os(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.vs=function(){this.Ds=new Set},e.prototype.Ps=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return QT.forEach(this.xs,(function(r){var i=_b.fromPath(r);return t.Ns(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ds=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ns(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))},e.prototype.bs=function(e){return 0},e.prototype.Ns=function(e,t){var n=this;return QT.or([function(){return QT.resolve(n.Ss.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Vs(e,t)}])},e}(),jI=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(e,t){return"firestore_clients_"+e+"_"+t}function qI(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function VI(e,t){return"firestore_targets_"+e+"_"+t}jI.UNAUTHENTICATED=new jI(null),jI.GOOGLE_CREDENTIALS=new jI("google-credentials-uid"),jI.FIRST_PARTY=new jI("first-party-uid");var BI=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.$s=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new gb(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(Jy("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Fs=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),KI=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.$s=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new gb(i.error.code,i.error.message)),o?new e(t,i.state,r):(Jy("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Fs=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),HI=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.$s=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=L_(),a=0;i&&a<r.activeTargetIds.length;++a)i=db(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(Jy("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),WI=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.$s=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Jy("SharedClientState","Failed to parse online state: "+t),null)},e}(),GI=function(){function e(){this.activeTargetIds=L_()}return e.prototype.Os=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.ks=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Fs=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),zI=function(){function e(e,t,n,r,i){this.window=e,this.Fe=t,this.persistenceKey=n,this.Ms=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ls=this.Bs.bind(this),this.qs=new w_(ab),this.started=!1,this.Us=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=UI(this.persistenceKey,this.Ms),this.Ks="firestore_sequence_number_"+this.persistenceKey,this.qs=this.qs.insert(this.Ms,new GI),this.Ws=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.js=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Gs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.zs=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Hs=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.Ls)}return e.At=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return xs(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,h=this;return As(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.gn()];case 1:for(e=f.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ms&&(i=this.getItem(UI(this.persistenceKey,r)))&&(o=HI.$s(r,i))&&(this.qs=this.qs.insert(o.clientId,o));for(this.Js(),(a=this.storage.getItem(this.zs))&&(s=this.Ys(a))&&this.Xs(s),u=0,c=this.Us;u<c.length;u++)l=c[u],this.Bs(l);return this.Us=[],this.window.addEventListener("unload",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ks,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Zs(this.qs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.qs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.ti(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.ti(e,t,n),this.ei(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(VI(this.persistenceKey,e));if(n){var r=KI.$s(e,n);r&&(t=r.state)}}return this.ni.Os(e),this.Js(),t},e.prototype.removeLocalQueryTarget=function(e){this.ni.ks(e),this.Js()},e.prototype.isLocalQueryTarget=function(e){return this.ni.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(VI(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.si(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.ei(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.ii(e)},e.prototype.notifyBundleLoaded=function(){this.ri()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.Ls),this.removeItem(this.Qs),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return Xy("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){Xy("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){Xy("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Bs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Xy("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void Jy("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable((function(){return xs(t,void 0,void 0,(function(){var e,t,r,i,o,a;return As(this,(function(s){if(this.started){if(null!==n.key)if(this.Ws.test(n.key)){if(null==n.newValue)return e=this.oi(n.key),[2,this.ci(e,null)];if(t=this.ai(n.key,n.newValue))return[2,this.ci(t.clientId,t)]}else if(this.js.test(n.key)){if(null!==n.newValue&&(r=this.ui(n.key,n.newValue)))return[2,this.hi(r)]}else if(this.Gs.test(n.key)){if(null!==n.newValue&&(i=this.li(n.key,n.newValue)))return[2,this.fi(i)]}else if(n.key===this.zs){if(null!==n.newValue&&(o=this.Ys(n.newValue)))return[2,this.Xs(o)]}else if(n.key===this.Ks)(a=function(e){var t=Qy.o;if(null!=e)try{var n=JSON.parse(e);nb("number"==typeof n),t=n}catch(e){Jy("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Qy.o&&this.sequenceNumberHandler(a);else if(n.key===this.Hs)return[2,this.syncEngine.di()]}else this.Us.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"ni",{get:function(){return this.qs.get(this.Ms)},enumerable:!1,configurable:!0}),e.prototype.Js=function(){this.setItem(this.Qs,this.ni.Fs())},e.prototype.ti=function(e,t,n){var r=new BI(this.currentUser,e,t,n),i=qI(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Fs())},e.prototype.ei=function(e){var t=qI(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.ii=function(e){var t={clientId:this.Ms,onlineState:e};this.storage.setItem(this.zs,JSON.stringify(t))},e.prototype.si=function(e,t,n){var r=VI(this.persistenceKey,e),i=new KI(e,t,n);this.setItem(r,i.Fs())},e.prototype.ri=function(){this.setItem(this.Hs,"value-not-used")},e.prototype.oi=function(e){var t=this.Ws.exec(e);return t?t[1]:null},e.prototype.ai=function(e,t){var n=this.oi(e);return HI.$s(n,t)},e.prototype.ui=function(e,t){var n=this.js.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return BI.$s(new jI(i),r,t)},e.prototype.li=function(e,t){var n=this.Gs.exec(e),r=Number(n[1]);return KI.$s(r,t)},e.prototype.Ys=function(e){return WI.$s(e)},e.prototype.hi=function(e){return xs(this,void 0,void 0,(function(){return As(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.wi(e.batchId,e.state,e.error)]:(Xy("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.fi=function(e){return this.syncEngine._i(e.targetId,e.state,e.error)},e.prototype.ci=function(e,t){var n=this,r=t?this.qs.insert(e,t):this.qs.remove(e),i=this.Zs(this.qs),o=this.Zs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.mi(a,s).then((function(){n.qs=r}))},e.prototype.Xs=function(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Zs=function(e){var t=L_();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),QI=function(){function e(){this.yi=new GI,this.gi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.yi.Os(e),this.gi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.gi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.yi.ks(e)},e.prototype.isLocalQueryTarget=function(e){return this.yi.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.gi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.yi.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.yi.activeTargetIds.has(e)},e.prototype.start=function(){return this.yi=new GI,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),$I=function(){function e(){}return e.prototype.pi=function(e){},e.prototype.shutdown=function(){},e}(),YI=function(){function e(){var e=this;this.Ei=function(){return e.Ti()},this.Ii=function(){return e.Ai()},this.Ri=[],this.bi()}return e.prototype.pi=function(e){this.Ri.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ii)},e.prototype.bi=function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ii)},e.prototype.Ti=function(){Xy("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.Ri;e<t.length;e++)(0,t[e])(0)},e.prototype.Ai=function(){Xy("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.Ri;e<t.length;e++)(0,t[e])(1)},e.At=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),XI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},JI=function(){function e(e){this.vi=e.vi,this.Pi=e.Pi}return e.prototype.Vi=function(e){this.Si=e},e.prototype.Di=function(e){this.Ci=e},e.prototype.onMessage=function(e){this.xi=e},e.prototype.close=function(){this.Pi()},e.prototype.send=function(e){this.vi(e)},e.prototype.Ni=function(){this.Si()},e.prototype.$i=function(e){this.Ci(e)},e.prototype.Fi=function(e){this.xi(e)},e}(),ZI=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n}return Cs(t,e),t.prototype.qi=function(e,t,n,r){return new Promise((function(i,o){var a=new zy;a.listenOnce(By.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Vy.NO_ERROR:var t=a.getResponseJson();Xy("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Vy.TIMEOUT:Xy("Connection",'RPC "'+e+'" timed out'),o(new gb(vb.DEADLINE_EXCEEDED,"Request time out"));break;case Vy.HTTP_ERROR:var n=a.getStatus();if(Xy("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=(u=r.status,c=u.toLowerCase().replace(/_/g,"-"),Object.values(vb).indexOf(c)>=0?c:vb.UNKNOWN);o(new gb(s,r.message))}else o(new gb(vb.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new gb(vb.UNAVAILABLE,"Connection failed."));break;default:tb()}}finally{Xy("Connection",'RPC "'+e+'" completed.')}var u,c}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Qi=function(e,t){var n,r=[this.Oi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=new My,o=jg(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Bi(a.initMessageHeaders,t),Hs()||zs()||Ks().indexOf("Electron/")>=0||((n=Ks()).indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0)||Ks().indexOf("MSAppHost/")>=0||Gs()||(a.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");Xy("Connection","Creating WebChannel: "+s,a);var u=i.createWebChannel(s,a),c=!1,l=!1,h=new JI({vi:function(e){l?Xy("Connection","Not sending because WebChannel is closed:",e):(c||(Xy("Connection","Opening WebChannel transport."),u.open(),c=!0),Xy("Connection","WebChannel sending:",e),u.send(e))},Pi:function(){return u.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,Gy.EventType.OPEN,(function(){l||Xy("Connection","WebChannel transport opened.")})),f(u,Gy.EventType.CLOSE,(function(){l||(l=!0,Xy("Connection","WebChannel transport closed"),h.$i())})),f(u,Gy.EventType.ERROR,(function(e){l||(l=!0,Zy("Connection","WebChannel transport errored:",e),h.$i(new gb(vb.UNAVAILABLE,"The operation could not be completed")))})),f(u,Gy.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];nb(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Xy("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=p_[e];if(void 0!==t)return b_(t)}(o),s=i.message;void 0===a&&(a=vb.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),l=!0,h.$i(new gb(a,s)),u.close()}else Xy("Connection","WebChannel received:",n),h.Fi(n)}})),f(o,Ky.STAT_EVENT,(function(e){e.stat===Hy?Xy("Connection","Detected buffering proxy"):e.stat===Wy&&Xy("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Ni()}),0),h},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Oi=t+"://"+e.host,this.ki="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Mi=function(e,t,n,r){var i=this.Li(e,t);Xy("RestConnection","Sending: ",i,n);var o={};return this.Bi(o,r),this.qi(e,i,o,n).then((function(e){return Xy("RestConnection","Received: ",e),e}),(function(t){throw Zy("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.Ui=function(e,t,n,r){return this.Mi(e,t,n,r)},e.prototype.Bi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.3.1",e["Content-Type"]="text/plain",t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.Li=function(e,t){var n=XI[e];return this.Oi+"/v1/"+t+":"+n},e}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(){return"undefined"!=typeof window?window:null}function tS(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(e){return new z_(e,!0)}var rS=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Fe=e,this.timerId=t,this.Ki=n,this.Wi=r,this.ji=i,this.Gi=0,this.zi=null,this.Hi=Date.now(),this.reset()}return e.prototype.reset=function(){this.Gi=0},e.prototype.Ji=function(){this.Gi=this.ji},e.prototype.Yi=function(e){var t=this;this.cancel();var n=Math.floor(this.Gi+this.Xi()),r=Math.max(0,Date.now()-this.Hi),i=Math.max(0,n-r);i>0&&Xy("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Gi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.zi=this.Fe.enqueueAfterDelay(this.timerId,i,(function(){return t.Hi=Date.now(),e()})),this.Gi*=this.Wi,this.Gi<this.Ki&&(this.Gi=this.Ki),this.Gi>this.ji&&(this.Gi=this.ji)},e.prototype.Zi=function(){null!==this.zi&&(this.zi.skipDelay(),this.zi=null)},e.prototype.cancel=function(){null!==this.zi&&(this.zi.cancel(),this.zi=null)},e.prototype.Xi=function(){return(Math.random()-.5)*this.Gi},e}(),iS=function(){function e(e,t,n,r,i,o){this.Fe=e,this.tr=n,this.er=r,this.nr=i,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new rS(e,t)}return e.prototype.cr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.ar=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.ur()},e.prototype.stop=function(){return xs(this,void 0,void 0,(function(){return As(this,(function(e){switch(e.label){case 0:return this.cr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.hr=function(){this.state=0,this.rr.reset()},e.prototype.lr=function(){var e=this;this.ar()&&null===this.ir&&(this.ir=this.Fe.enqueueAfterDelay(this.tr,6e4,(function(){return e.dr()})))},e.prototype.wr=function(e){this._r(),this.stream.send(e)},e.prototype.dr=function(){return xs(this,void 0,void 0,(function(){return As(this,(function(e){return this.ar()?[2,this.close(0)]:[2]}))}))},e.prototype._r=function(){this.ir&&(this.ir.cancel(),this.ir=null)},e.prototype.close=function(e,t){return xs(this,void 0,void 0,(function(){return As(this,(function(n){switch(n.label){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==e?this.rr.reset():t&&t.code===vb.RESOURCE_EXHAUSTED?(Jy(t.toString()),Jy("Using maximum backoff delay to prevent overloading the backend."),this.rr.Ji()):t&&t.code===vb.UNAUTHENTICATED&&this.nr.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Di(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.mr=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.yr(this.sr),n=this.sr;this.nr.getToken().then((function(t){e.sr===n&&e.gr(t)}),(function(n){t((function(){var t=new gb(vb.UNKNOWN,"Fetching auth token failed: "+n.message);return e.pr(t)}))}))},e.prototype.gr=function(e){var t=this,n=this.yr(this.sr);this.stream=this.Er(e),this.stream.Vi((function(){n((function(){return t.state=2,t.listener.Vi()}))})),this.stream.Di((function(e){n((function(){return t.pr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.ur=function(){var e=this;this.state=4,this.rr.Yi((function(){return xs(e,void 0,void 0,(function(){return As(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.pr=function(e){return Xy("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.yr=function(e){var t=this;return function(n){t.Fe.enqueueAndForget((function(){return t.sr===e?n():(Xy("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),oS=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).D=i,a}return Cs(t,e),t.prototype.Er=function(e){return this.er.Qi("Listen",e)},t.prototype.onMessage=function(e){this.rr.reset();var t=function(e,t){var n,r;if("targetChange"in t){t.targetChange;var i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:tb(),o=t.targetChange.targetIds||[],a=function(e,t){return e.V?(nb(void 0===t||"string"==typeof t),Tb.fromBase64String(t||"")):(nb(void 0===t||t instanceof Uint8Array),Tb.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=(u=t.targetChange.cause)&&function(e){var t=void 0===e.code?vb.UNKNOWN:b_(e.code);return new gb(t,e.message||"")}(u);n=new q_(i,o,a,s||null)}else if("documentChange"in t){t.documentChange,(i=t.documentChange).document,i.document.name,i.document.updateTime,o=tT(e,i.document.name),a=X_(i.document.updateTime);var u=new Pw({mapValue:{fields:i.document.fields}}),c=(s=new Wb(o,a,u,{}),i.targetIds||[]),l=i.removedTargetIds||[];n=new j_(c,l,s.key,s)}else if("documentDelete"in t)t.documentDelete,(i=t.documentDelete).document,o=tT(e,i.document),a=i.readTime?X_(i.readTime):Dw.min(),u=new Gb(o,a),s=i.removedTargetIds||[],n=new j_([],s,u.key,u);else if("documentRemove"in t)t.documentRemove,(i=t.documentRemove).document,o=tT(e,i.document),a=i.removedTargetIds||[],n=new j_([],a,o,null);else{if(!("filter"in t))return tb();t.filter;var h=t.filter;h.targetId,i=h.count||0,o=new m_(i),a=h.targetId,n=new U_(a,o)}return n}(this.D,e),n=function(e){if(!("targetChange"in e))return Dw.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Dw.min():t.readTime?X_(t.readTime):Dw.min()}(e);return this.listener.Tr(t,n)},t.prototype.Ir=function(e){var t,n,r,i,o={};o.database=iT(this.D),o.addTarget=(t=this.D,i=(n=e).target,(r=Jb(i)?{documents:lT(t,i)}:{query:hT(t,i)}).targetId=n.targetId,n.resumeToken.approximateByteSize()>0?r.resumeToken=$_(t,n.resumeToken):n.snapshotVersion.compareTo(Dw.min())>0&&(r.readTime=Q_(t,n.snapshotVersion.toTimestamp())),r);var a=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return tb()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.D,e);a&&(o.labels=a),this.wr(o)},t.prototype.Ar=function(e){var t={};t.database=iT(this.D),t.removeTarget=e,this.wr(t)},t}(iS),aS=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).D=i,a.Rr=!1,a}return Cs(t,e),Object.defineProperty(t.prototype,"br",{get:function(){return this.Rr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.Rr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.mr=function(){this.Rr&&this.vr([])},t.prototype.Er=function(e){return this.er.Qi("Write",e)},t.prototype.onMessage=function(e){if(nb(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();var t=(r=e.writeResults,i=e.commitTime,r&&r.length>0?(nb(void 0!==i),r.map((function(e){return n=i,(r=(t=e).updateTime?X_(t.updateTime):X_(n)).isEqual(Dw.min())&&(r=X_(n)),new Jw(r,t.transformResults||[]);var t,n,r}))):[]),n=X_(e.commitTime);return this.listener.Pr(n,t)}var r,i;return nb(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()},t.prototype.Sr=function(){var e={};e.database=iT(this.D),this.wr(e)},t.prototype.vr=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return uT(t.D,e)}))};this.wr(n)},t}(iS),sS=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.er=n,i.D=r,i.Dr=!1,i}return Cs(t,e),t.prototype.Cr=function(){if(this.Dr)throw new gb(vb.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Mi=function(e,t,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(i){return r.er.Mi(e,t,n,i)})).catch((function(e){throw e.code===vb.UNAUTHENTICATED&&r.credentials.invalidateToken(),e}))},t.prototype.Ui=function(e,t,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(i){return r.er.Ui(e,t,n,i)})).catch((function(e){throw e.code===vb.UNAUTHENTICATED&&r.credentials.invalidateToken(),e}))},t.prototype.terminate=function(){this.Dr=!1},t}((function(){})),uS=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.$r=null,this.Fr=!0}return e.prototype.Or=function(){var e=this;0===this.Nr&&(this.kr("Unknown"),this.$r=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.$r=null,e.Mr("Backend didn't respond within 10 seconds."),e.kr("Offline"),Promise.resolve()})))},e.prototype.Lr=function(e){"Online"===this.state?this.kr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: "+e.toString()),this.kr("Offline")))},e.prototype.set=function(e){this.Br(),this.Nr=0,"Online"===e&&(this.Fr=!1),this.kr(e)},e.prototype.kr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Mr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fr?(Jy(t),this.Fr=!1):Xy("OnlineStateTracker",t)},e.prototype.Br=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},e}(),cS=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.qr=[],this.Ur=new Map,this.Qr=new Set,this.Kr=[],this.Wr=i,this.Wr.pi((function(e){n.enqueueAndForget((function(){return xs(o,void 0,void 0,(function(){return As(this,(function(e){switch(e.label){case 0:return yS(this)?(Xy("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return xs(this,void 0,void 0,(function(){var t;return As(this,(function(n){switch(n.label){case 0:return(t=rb(e)).Qr.add(4),[4,hS(t)];case 1:return n.sent(),t.jr.set("Unknown"),t.Qr.delete(4),[4,lS(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.jr=new uS(n,r)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(e){return xs(this,void 0,void 0,(function(){var t,n;return As(this,(function(r){switch(r.label){case 0:if(!yS(e))return[3,4];t=0,n=e.Kr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function hS(e){return xs(this,void 0,void 0,(function(){var t,n;return As(this,(function(r){switch(r.label){case 0:t=0,n=e.Kr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function fS(e,t){var n=rb(e);n.Ur.has(t.targetId)||(n.Ur.set(t.targetId,t),mS(n)?gS(n):PS(n).ar()&&dS(n,t))}function pS(e,t){var n=rb(e),r=PS(n);n.Ur.delete(t),r.ar()&&vS(n,t),0===n.Ur.size&&(r.ar()?r.lr():yS(n)&&n.jr.set("Unknown"))}function dS(e,t){e.Gr.H(t.targetId),PS(e).Ir(t)}function vS(e,t){e.Gr.H(t),PS(e).Ar(t)}function gS(e){e.Gr=new B_({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},yt:function(t){return e.Ur.get(t)||null}}),PS(e).start(),e.jr.Or()}function mS(e){return yS(e)&&!PS(e).cr()&&e.Ur.size>0}function yS(e){return 0===rb(e).Qr.size}function bS(e){e.Gr=void 0}function wS(e){return xs(this,void 0,void 0,(function(){return As(this,(function(t){return e.Ur.forEach((function(t,n){dS(e,t)})),[2]}))}))}function _S(e,t){return xs(this,void 0,void 0,(function(){return As(this,(function(n){return bS(e),mS(e)?(e.jr.Lr(t),gS(e)):e.jr.set("Unknown"),[2]}))}))}function TS(e,t,n){return xs(this,void 0,void 0,(function(){var r,i,o;return As(this,(function(a){switch(a.label){case 0:if(e.jr.set("Online"),!(t instanceof q_&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return xs(this,void 0,void 0,(function(){var n,r,i,o;return As(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.Ur.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.Ur.delete(o),e.Gr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Xy("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,ES(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof j_?e.Gr.st(t):t instanceof U_?e.Gr.ht(t):e.Gr.ot(t),n.isEqual(Dw.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,gI(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,(s=e,u=n,c=s.Gr.dt(u),c.targetChanges.forEach((function(e,t){if(e.resumeToken.approximateByteSize()>0){var n=s.Ur.get(t);n&&s.Ur.set(t,n.withResumeToken(e.resumeToken,u))}})),c.targetMismatches.forEach((function(e){var t=s.Ur.get(e);if(t){s.Ur.set(e,t.withResumeToken(Tb.EMPTY_BYTE_STRING,t.snapshotVersion)),vS(s,e);var n=new uE(t.target,e,1,t.sequenceNumber);dS(s,n)}})),s.remoteSyncer.applyRemoteEvent(c))]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Xy("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,ES(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}var s,u,c}))}))}function ES(e,t,n){return xs(this,void 0,void 0,(function(){var r=this;return As(this,(function(i){switch(i.label){case 0:if(!ZT(t))throw t;return e.Qr.add(1),[4,hS(e)];case 1:return i.sent(),e.jr.set("Offline"),n||(n=function(){return gI(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return xs(r,void 0,void 0,(function(){return As(this,(function(t){switch(t.label){case 0:return Xy("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Qr.delete(1),[4,lS(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function IS(e,t){return t().catch((function(n){return ES(e,n,t)}))}function SS(e){return xs(this,void 0,void 0,(function(){var t,n,r,i,o;return As(this,(function(a){switch(a.label){case 0:t=rb(e),n=OS(t),r=t.qr.length>0?t.qr[t.qr.length-1].batchId:-1,a.label=1;case 1:if(!(yS(s=t)&&s.qr.length<10))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,bI(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.qr.length&&n.lr(),[3,7]):(r=i.batchId,function(e,t){e.qr.push(t);var n=OS(e);n.ar()&&n.br&&n.vr(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,ES(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return CS(t)&&kS(t),[2]}var s}))}))}function CS(e){return yS(e)&&!OS(e).cr()&&e.qr.length>0}function kS(e){OS(e).start()}function xS(e){return xs(this,void 0,void 0,(function(){return As(this,(function(t){return OS(e).Sr(),[2]}))}))}function AS(e){return xs(this,void 0,void 0,(function(){var t,n,r,i;return As(this,(function(o){for(t=OS(e),n=0,r=e.qr;n<r.length;n++)i=r[n],t.vr(i.mutations);return[2]}))}))}function NS(e,t,n){return xs(this,void 0,void 0,(function(){var r,i;return As(this,(function(o){switch(o.label){case 0:return r=e.qr.shift(),i=sE.from(r,t,n),[4,IS(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,SS(e)];case 2:return o.sent(),[2]}}))}))}function DS(e,t){return xs(this,void 0,void 0,(function(){return As(this,(function(n){switch(n.label){case 0:return t&&OS(e).br?[4,function(e,t){return xs(this,void 0,void 0,(function(){var n,r;return As(this,(function(i){switch(i.label){case 0:return y_(r=t.code)&&r!==vb.ABORTED?(n=e.qr.shift(),OS(e).hr(),[4,IS(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,SS(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return CS(e)&&kS(e),[2]}}))}))}function RS(e,t){return xs(this,void 0,void 0,(function(){var n;return As(this,(function(r){switch(r.label){case 0:return n=rb(e),t?(n.Qr.delete(2),[4,lS(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Qr.add(2),[4,hS(n)]);case 3:r.sent(),n.jr.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function PS(e){var t,n,r,i,o=this;return e.zr||(e.zr=(t=e.datastore,n=e.asyncQueue,r={Vi:wS.bind(null,e),Di:_S.bind(null,e),Tr:TS.bind(null,e)},(i=rb(t)).Cr(),new oS(n,i.er,i.credentials,i.D,r)),e.Kr.push((function(t){return xs(o,void 0,void 0,(function(){return As(this,(function(n){switch(n.label){case 0:return t?(e.zr.hr(),mS(e)?gS(e):e.jr.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.zr.stop()];case 2:n.sent(),bS(e),n.label=3;case 3:return[2]}}))}))}))),e.zr}function OS(e){var t,n,r,i,o=this;return e.Hr||(e.Hr=(t=e.datastore,n=e.asyncQueue,r={Vi:xS.bind(null,e),Di:DS.bind(null,e),Vr:AS.bind(null,e),Pr:NS.bind(null,e)},(i=rb(t)).Cr(),new aS(n,i.er,i.credentials,i.D,r)),e.Kr.push((function(t){return xs(o,void 0,void 0,(function(){return As(this,(function(n){switch(n.label){case 0:return t?(e.Hr.hr(),[4,SS(e)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,e.Hr.stop()];case 3:n.sent(),e.qr.length>0&&(Xy("RemoteStore","Stopping write stream with "+e.qr.length+" pending writes"),e.qr=[]),n.label=4;case 4:return[2]}}))}))}))),e.Hr}var LS=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new zT,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new gb(vb.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function MS(e,t){if(Jy("AsyncQueue",t+": "+e),ZT(e))return new gb(vb.UNAVAILABLE,t+": "+e);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FS=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||_b.comparator(t.key,n.key)}:function(e,t){return _b.comparator(e.key,t.key)},this.keyedMap=A_(),this.sortedSet=new w_(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),jS=function(){function e(){this.Jr=new w_(_b.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Jr.get(t);n?0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):tb():this.Jr=this.Jr.insert(t,e)},e.prototype.Yr=function(){var e=[];return this.Jr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),US=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,FS.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),qS=function(){this.Xr=void 0,this.listeners=[]},VS=function(){this.queries=new QE((function(e){return Cw(e)}),Sw),this.onlineState="Unknown",this.Zr=new Set};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(e,t){return xs(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return As(this,(function(c){switch(c.label){case 0:if(n=rb(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new qS),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Xr=c.sent(),[3,4];case 3:return s=c.sent(),u=MS(s,"Initialization of query '"+kw(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.eo(n.onlineState),o.Xr&&t.no(o.Xr)&&GS(n),[2]}}))}))}function KS(e,t){return xs(this,void 0,void 0,(function(){var n,r,i,o,a;return As(this,(function(s){return n=rb(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function HS(e,t){for(var n=rb(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].no(a)&&(r=!0);u.Xr=a}}r&&GS(n)}function WS(e,t,n){var r=rb(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function GS(e){e.Zr.forEach((function(e){e.next()}))}var zS=function(){function e(e,t,n){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.no=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new US(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.io?this.oo(e)&&(this.so.next(e),o=!0):this.co(e,this.onlineState)&&(this.ao(e),o=!0),this.ro=e,o},e.prototype.onError=function(e){this.so.error(e)},e.prototype.eo=function(e){this.onlineState=e;var t=!1;return this.ro&&!this.io&&this.co(this.ro,e)&&(this.ao(this.ro),t=!0),t},e.prototype.co=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.uo&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.oo=function(e){if(e.docChanges.length>0)return!0;var t=this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.ao=function(e){e=US.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)},e}(),QS=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.ho=function(){return"metadata"in this.payload},e}(),$S=function(){function e(e){this.D=e}return e.prototype.Gn=function(e){return tT(this.D,e)},e.prototype.zn=function(e){return e.metadata.exists?sT(this.D,e.document,!1):new Gb(this.Gn(e.metadata.name),this.Hn(e.metadata.readTime))},e.prototype.Hn=function(e){return X_(e)},e}(),YS=function(){function e(e,t,n){this.lo=e,this.localStore=t,this.D=n,this.queries=[],this.documents=[],this.progress=XS(e)}return e.prototype.fo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.wo=function(e){for(var t=new Map,n=new $S(this.D),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.Gn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||P_()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return xs(this,void 0,void 0,(function(){var e,t,n,r,i;return As(this,(function(o){switch(o.label){case 0:return[4,CI(this.localStore,new $S(this.D),this.documents,this.lo.id)];case 1:e=o.sent(),t=this.wo(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,kI(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new uI(Object.assign({},this.progress),e))]}}))}))},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JS=function(e){this.key=e},ZS=function(e){this.key=e},eC=function(){function e(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=P_(),this.mutatedKeys=P_(),this.po=Aw(e),this.Eo=new FS(this.po)}return Object.defineProperty(e.prototype,"To",{get:function(){return this._o},enumerable:!1,configurable:!0}),e.prototype.Io=function(e,t){var n=this,r=t?t.Ao:new jS,i=t?t.Eo:this.Eo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=mw(this.query)&&i.size===this.query.limit?i.last():null,c=yw(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=t instanceof Wb?t:null;h&&(h=xw(n.query,h)?h:null);var f=!!l&&n.mutatedKeys.has(l.key),p=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),d=!1;l&&h?l.data().isEqual(h.data())?f!==p&&(r.track({type:3,doc:h}),d=!0):n.Ro(l,h)||(r.track({type:2,doc:h}),d=!0,(u&&n.po(h,u)>0||c&&n.po(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),d=!0):l&&!h&&(r.track({type:1,doc:l}),d=!0,(u||c)&&(s=!0)),d&&(h?(a=a.add(h),o=p?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),mw(this.query)||yw(this.query))for(;a.size>this.query.limit;){var l=mw(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Eo:a,Ao:r,Mn:s,mutatedKeys:o}},e.prototype.Ro=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.Eo;this.Eo=e.Eo,this.mutatedKeys=e.mutatedKeys;var o=e.Ao.Yr();o.sort((function(e,t){return n=e.type,i=t.type,(o=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tb()}})(n)-o(i)||r.po(e.doc,t.doc);var n,i,o})),this.bo(n);var a=t?this.vo():[],s=0===this.yo.size&&this.current?1:0,u=s!==this.mo;return this.mo=s,0!==o.length||u?{snapshot:new US(this.query,e.Eo,i,o,e.mutatedKeys,0===s,u,!1),Po:a}:{Po:a}},e.prototype.eo=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new jS,mutatedKeys:this.mutatedKeys,Mn:!1},!1)):{Po:[]}},e.prototype.Vo=function(e){return!this._o.has(e)&&!!this.Eo.has(e)&&!this.Eo.get(e).hasLocalMutations},e.prototype.bo=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t._o=t._o.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t._o=t._o.delete(e)})),this.current=e.current)},e.prototype.vo=function(){var e=this;if(!this.current)return[];var t=this.yo;this.yo=P_(),this.Eo.forEach((function(t){e.Vo(t.key)&&(e.yo=e.yo.add(t.key))}));var n=[];return t.forEach((function(t){e.yo.has(t)||n.push(new ZS(t))})),this.yo.forEach((function(e){t.has(e)||n.push(new JS(e))})),n},e.prototype.So=function(e){this._o=e.jn,this.yo=P_();var t=this.Io(e.documents);return this.applyChanges(t,!0)},e.prototype.Do=function(){return US.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)},e}(),tC=function(e,t,n){this.query=e,this.targetId=t,this.view=n},nC=function(e){this.key=e,this.Co=!1},rC=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.xo={},this.No=new QE((function(e){return Cw(e)}),Sw),this.$o=new Map,this.Fo=new Set,this.Oo=new w_(_b.comparator),this.ko=new Map,this.Mo=new AI,this.Lo={},this.Bo=new Map,this.qo=ME.ne(),this.onlineState="Unknown",this.Uo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.Uo},enumerable:!1,configurable:!0}),e}();function iC(e,t){return xs(this,void 0,void 0,(function(){var n,r,i,o,a,s;return As(this,(function(u){switch(u.label){case 0:return n=PC(e),(o=n.No.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Do(),[3,4]):[3,1];case 1:return[4,wI(n.localStore,Ew(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,oC(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&fS(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function oC(e,t,n,r){return xs(this,void 0,void 0,(function(){var i,o,a,s,u,c;return As(this,(function(l){switch(l.label){case 0:return e.Qo=function(t,n,r){return function(e,t,n,r){return xs(this,void 0,void 0,(function(){var i,o,a;return As(this,(function(s){switch(s.label){case 0:return(i=t.view.Io(n)).Mn?[4,TI(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view.Io(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(yC(e,t.targetId,a.Po),a.snapshot)]}}))}))}(e,t,n,r)},[4,TI(e.localStore,t,!0)];case 1:return i=l.sent(),o=new eC(t,i.jn),a=o.Io(i.documents),s=F_.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),yC(e,n,u.Po),c=new tC(t,n,o),[2,(e.No.set(t,c),e.$o.has(n)?e.$o.get(n).push(t):e.$o.set(n,[t]),u.snapshot)]}}))}))}function aC(e,t){return xs(this,void 0,void 0,(function(){var n,r,i;return As(this,(function(o){switch(o.label){case 0:return n=rb(e),r=n.No.get(t),(i=n.$o.get(r.targetId)).length>1?[2,(n.$o.set(r.targetId,i.filter((function(e){return!Sw(e,t)}))),void n.No.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,_I(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),pS(n.remoteStore,r.targetId),gC(n,r.targetId)})).catch(VE)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return gC(n,r.targetId),[4,_I(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function sC(e,t,n){return xs(this,void 0,void 0,(function(){var r,i,o,a;return As(this,(function(s){switch(s.label){case 0:r=OC(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,(u=r.localStore,c=t,h=rb(u),f=kb.now(),p=c.reduce((function(e,t){return e.add(t.key)}),P_()),h.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return h.Kn.bn(e,p).next((function(t){l=t;for(var n=[],r=0,i=c;r<i.length;r++){var o=i[r],a=i_(o,l.get(o.key));null!=a&&n.push(new u_(o.key,a,Lw(a.proto.mapValue),Zw.exists(!0)))}return h.Tn.addMutationBatch(e,f,n,c)}))})).then((function(e){var t=e.applyToLocalDocumentSet(l);return{batchId:e.batchId,changes:t}})))];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.Lo[e.currentUser.toKey()];r||(r=new w_(ab)),r=r.insert(t,n),e.Lo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,_C(r,i.changes)];case 3:return s.sent(),[4,SS(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=MS(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}var u,c,l,h,f,p}))}))}function uC(e,t){return xs(this,void 0,void 0,(function(){var n,r;return As(this,(function(i){switch(i.label){case 0:n=rb(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,mI(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.ko.get(t);r&&(nb(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Co=!0:e.modifiedDocuments.size>0?nb(r.Co):e.removedDocuments.size>0&&(nb(r.Co),r.Co=!1))})),[4,_C(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,VE(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function cC(e,t,n){var r=rb(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.No.forEach((function(e,n){var r=n.view.eo(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=rb(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].eo(t)&&(r=!0)})),r&&GS(n)}(r.eventManager,t),i.length&&r.xo.Tr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function lC(e,t,n){return xs(this,void 0,void 0,(function(){var r,i,o,a,s,u;return As(this,(function(c){switch(c.label){case 0:return(r=rb(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.ko.get(t),(o=i&&i.key)?(a=(a=new w_(_b.comparator)).insert(o,new Gb(o,Dw.min())),s=P_().add(o),u=new M_(Dw.min(),new Map,new E_(ab),a,s),[4,uC(r,u)]):[3,2];case 1:return c.sent(),r.Oo=r.Oo.remove(o),r.ko.delete(t),wC(r),[3,4];case 2:return[4,_I(r.localStore,t,!1).then((function(){return gC(r,t,n)})).catch(VE)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function hC(e,t){return xs(this,void 0,void 0,(function(){var n,r,i;return As(this,(function(o){switch(o.label){case 0:n=rb(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,vI(n.localStore,t)];case 2:return i=o.sent(),vC(n,r,null),dC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,_C(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,VE(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function fC(e,t,n){return xs(this,void 0,void 0,(function(){var r,i;return As(this,(function(o){switch(o.label){case 0:r=rb(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(a=r.localStore,s=t,u=rb(a),u.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var t;return u.Tn.lookupMutationBatch(e,s).next((function(n){return nb(null!==n),t=n.keys(),u.Tn.removeMutationBatch(e,n)})).next((function(){return u.Tn.performConsistencyCheck(e)})).next((function(){return u.Kn.bn(e,t)}))})))];case 2:return i=o.sent(),vC(r,t,n),dC(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,_C(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,VE(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var a,s,u}))}))}function pC(e,t){return xs(this,void 0,void 0,(function(){var n,r,i,o,a;return As(this,(function(s){switch(s.label){case 0:yS((n=rb(e)).remoteStore)||Xy("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,(u=n.localStore,c=rb(u),c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return c.Tn.getHighestUnacknowledgedBatchId(e)})))];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.Bo.get(r)||[]).push(t),n.Bo.set(r,i),[3,4]);case 3:return o=s.sent(),a=MS(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}var u,c}))}))}function dC(e,t){(e.Bo.get(t)||[]).forEach((function(e){e.resolve()})),e.Bo.delete(t)}function vC(e,t,n){var r=rb(e),i=r.Lo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Lo[r.currentUser.toKey()]=i}}function gC(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.$o.get(t);r<i.length;r++){var o=i[r];e.No.delete(o),n&&e.xo.Ko(o,n)}e.$o.delete(t),e.isPrimaryClient&&e.Mo.os(t).forEach((function(t){e.Mo.containsKey(t)||mC(e,t)}))}function mC(e,t){e.Fo.delete(t.path.canonicalString());var n=e.Oo.get(t);null!==n&&(pS(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.ko.delete(n),wC(e))}function yC(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof JS?(e.Mo.addReference(o.key,t),bC(e,o)):o instanceof ZS?(Xy("SyncEngine","Document no longer in limbo: "+o.key),e.Mo.removeReference(o.key,t),e.Mo.containsKey(o.key)||mC(e,o.key)):tb()}}function bC(e,t){var n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.Fo.has(r)||(Xy("SyncEngine","New document in limbo: "+n),e.Fo.add(r),wC(e))}function wC(e){for(;e.Fo.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){var t=e.Fo.values().next().value;e.Fo.delete(t);var n=new _b(yb.fromString(t)),r=e.qo.next();e.ko.set(r,new nC(n)),e.Oo=e.Oo.insert(n,r),fS(e.remoteStore,new uE(Ew(gw(n.path)),r,2,Qy.o))}}function _C(e,t,n){return xs(this,void 0,void 0,(function(){var r,i,o,a;return As(this,(function(s){switch(s.label){case 0:return r=rb(e),i=[],o=[],a=[],r.No.isEmpty()?[3,3]:(r.No.forEach((function(e,s){a.push(r.Qo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=lI.Nn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.xo.Tr(i),[4,function(e,t){return xs(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return As(this,(function(h){switch(h.label){case 0:n=rb(e),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return QT.forEach(t,(function(t){return QT.forEach(t.Cn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return QT.forEach(t.xn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!ZT(r=h.sent()))throw r;return Xy("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Bn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Bn=n.Bn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function TC(e,t){return xs(this,void 0,void 0,(function(){var n,r;return As(this,(function(i){switch(i.label){case 0:return(n=rb(e)).currentUser.isEqual(t)?[3,3]:(Xy("SyncEngine","User change. New user:",t.toKey()),[4,dI(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,(o=n).Bo.forEach((function(e){e.forEach((function(e){e.reject(new gb(vb.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.Bo.clear(),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,_C(n,r.Wn)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function EC(e,t){var n=rb(e),r=n.ko.get(t);if(r&&r.Co)return P_().add(r.key);var i=P_(),o=n.$o.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.No.get(u);i=i.unionWith(c.view.To)}return i}function IC(e,t){return xs(this,void 0,void 0,(function(){var n,r,i;return As(this,(function(o){switch(o.label){case 0:return[4,TI((n=rb(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.So(r),[2,(n.isPrimaryClient&&yC(n,t.targetId,i.Po),i)]}}))}))}function SC(e){return xs(this,void 0,void 0,(function(){var t;return As(this,(function(n){return[2,II((t=rb(e)).localStore).then((function(e){return _C(t,e)}))]}))}))}function CC(e,t,n,r){return xs(this,void 0,void 0,(function(){var i,o;return As(this,(function(a){switch(a.label){case 0:return[4,(s=(i=rb(e)).localStore,u=t,c=rb(s),l=rb(c.Tn),c.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return l.Jt(e,u).next((function(t){return t?c.Kn.bn(e,t):QT.resolve(null)}))})))];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,SS(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(vC(i,t,r||null),dC(i,t),function(e,t){rb(rb(e).Tn).Xt(t)}(i.localStore,t)):tb(),a.label=4;case 4:return[4,_C(i,o)];case 5:return a.sent(),[3,7];case 6:Xy("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}var s,u,c,l}))}))}function kC(e,t){return xs(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return As(this,(function(l){switch(l.label){case 0:return PC(n=rb(e)),OC(n),!0!==t||!0===n.Uo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,xC(n,r.toArray())]);case 1:return i=l.sent(),n.Uo=!0,[4,RS(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],fS(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.Uo?[3,7]:(u=[],c=Promise.resolve(),n.$o.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return gC(n,t),_I(n.localStore,t,!0)})),pS(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,xC(n,u)];case 5:return l.sent(),(h=rb(n)).ko.forEach((function(e,t){pS(h.remoteStore,t)})),h.Mo.cs(),h.ko=new Map,h.Oo=new w_(_b.comparator),n.Uo=!1,[4,RS(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}var h}))}))}function xC(e,t,n){return xs(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,p,d,v;return As(this,(function(g){switch(g.label){case 0:n=rb(e),r=[],i=[],o=0,a=t,g.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.$o.get(s))&&0!==c.length?[4,wI(n.localStore,Ew(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=h[l],p=n.No.get(f),[4,IC(n,p)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,EI(n.localStore,s)];case 8:return v=g.sent(),[4,wI(n.localStore,v)];case 9:return u=g.sent(),[4,oC(n,AC(v),s,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.xo.Tr(i),r)]}}))}))}function AC(e){return vw(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function NC(e){var t=rb(e);return rb(rb(t.localStore).persistence).gn()}function DC(e,t,n,r){return xs(this,void 0,void 0,(function(){var i,o,a;return As(this,(function(s){switch(s.label){case 0:return(i=rb(e)).Uo?(Xy("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.$o.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,II(i.localStore)];case 3:return o=s.sent(),a=M_.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,_C(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,_I(i.localStore,t,!0)];case 6:return s.sent(),gC(i,t,r),[3,8];case 7:tb(),s.label=8;case 8:return[2]}}))}))}function RC(e,t,n){return xs(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f;return As(this,(function(p){switch(p.label){case 0:if(!(r=PC(e)).Uo)return[3,10];i=0,o=t,p.label=1;case 1:return i<o.length?(a=o[i],r.$o.has(a)?(Xy("SyncEngine","Adding an already active target "+a),[3,5]):[4,EI(r.localStore,a)]):[3,6];case 2:return s=p.sent(),[4,wI(r.localStore,s)];case 3:return u=p.sent(),[4,oC(r,AC(s),u.targetId,!1)];case 4:p.sent(),fS(r.remoteStore,u),p.label=5;case 5:return i++,[3,1];case 6:c=function(e){return As(this,(function(t){switch(t.label){case 0:return r.$o.has(e)?[4,_I(r.localStore,e,!1).then((function(){pS(r.remoteStore,e),gC(r,e)})).catch(VE)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,h=n,p.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:p.sent(),p.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function PC(e){var t=rb(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=uC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=EC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lC.bind(null,t),t.xo.Tr=HS.bind(null,t.eventManager),t.xo.Ko=WS.bind(null,t.eventManager),t}function OC(e){var t=rb(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fC.bind(null,t),t}function LC(e,t,n){var r=rb(e);(function(e,t,n){return xs(this,void 0,void 0,(function(){var r,i,o,a,s,u;return As(this,(function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=c.sent(),[4,(l=e.localStore,h=r,f=rb(l),p=X_(h.createTime),f.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return f.He.getBundleMetadata(e,h.id)})).then((function(e){return!!e&&e.createTime.compareTo(p)>=0})))];case 2:return c.sent()?[4,t.close()]:[3,4];case 3:return[2,(c.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)))];case 4:return n._updateProgress(XS(r)),i=new YS(r,e.localStore,t.D),[4,t.Wo()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.fo(o)]:[3,10];case 7:return(a=c.sent())&&n._updateProgress(a),[4,t.Wo()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=c.sent(),[4,_C(e,s.En,void 0)];case 12:return c.sent(),[4,function(e,t){var n=rb(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.He.saveBundleMetadata(e,t)}))}(e.localStore,r)];case 13:return c.sent(),n._completeWith(s.progress),[3,15];case 14:return Zy("SyncEngine","Loading bundle failed with "+(u=c.sent())),n._failWith(u),[3,15];case 15:return[2]}var l,h,f,p}))}))})(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var MC=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return xs(this,void 0,void 0,(function(){return As(this,(function(t){switch(t.label){case 0:return this.D=nS(e.databaseInfo.databaseId),this.sharedClientState=this.jo(e),this.persistence=this.Go(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.zo(e),this.localStore=this.Ho(e),[2]}}))}))},e.prototype.zo=function(e){return null},e.prototype.Ho=function(e){return pI(this.persistence,new hI,e.initialUser,this.D)},e.prototype.Go=function(e){return new LI(FI.Cs,this.D)},e.prototype.jo=function(e){return new QI},e.prototype.terminate=function(){return xs(this,void 0,void 0,(function(){return As(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),FC=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Jo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Cs(t,e),t.prototype.initialize=function(t){return xs(this,void 0,void 0,(function(){return As(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,SI(this.localStore)];case 2:return n.sent(),[4,this.Jo.initialize(this,t)];case 3:return n.sent(),[4,OC(this.Jo.syncEngine)];case 4:return n.sent(),[4,SS(this.Jo.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Ho=function(e){return pI(this.persistence,new hI,e.initialUser,this.D)},t.prototype.zo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new HE(t,e.asyncQueue)},t.prototype.Go=function(e){var t=sI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?xE.withCacheSize(this.cacheSizeBytes):xE.DEFAULT;return new iI(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,eS(),tS(),this.D,this.sharedClientState,!!this.forceOwnership)},t.prototype.jo=function(e){return new QI},t}(MC),jC=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Jo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Cs(t,e),t.prototype.initialize=function(t){return xs(this,void 0,void 0,(function(){var n,r=this;return As(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Jo.syncEngine,this.sharedClientState instanceof zI?(this.sharedClientState.syncEngine={wi:CC.bind(null,n),_i:DC.bind(null,n),mi:RC.bind(null,n),gn:NC.bind(null,n),di:SC.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.en((function(e){return xs(r,void 0,void 0,(function(){return As(this,(function(t){switch(t.label){case 0:return[4,kC(this.Jo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.jo=function(e){var t=eS();if(!zI.At(t))throw new gb(vb.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=sI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new zI(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(FC),UC=function(){function e(){}return e.prototype.initialize=function(e,t){return xs(this,void 0,void 0,(function(){var n=this;return As(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return cC(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=TC.bind(null,this.syncEngine),[4,RS(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new VS},e.prototype.createDatastore=function(e){var t,n,r=nS(e.databaseInfo.databaseId),i=(t=e.databaseInfo,new ZI(t));return n=e.credentials,new sS(n,i,r)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return cC(a.syncEngine,e,0)},o=YI.At()?new YI:new $I,new cS(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return n=this.localStore,r=this.remoteStore,i=this.eventManager,o=this.sharedClientState,a=e.initialUser,s=e.maxConcurrentLimboResolutions,u=t,c=new rC(n,r,i,o,a,s),u&&(c.Uo=!0),c;var n,r,i,o,a,s,u,c},e.prototype.terminate=function(){return function(e){return xs(this,void 0,void 0,(function(){var t;return As(this,(function(n){switch(n.label){case 0:return t=rb(e),Xy("RemoteStore","RemoteStore shutting down."),t.Qr.add(5),[4,hS(t)];case 1:return n.sent(),t.Wr.shutdown(),t.jr.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return xs(this,void 0,void 0,(function(){var r;return As(this,(function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]}))}))},cancel:function(){return xs(this,void 0,void 0,(function(){return As(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VC=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.Yo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Xo=function(){this.muted=!0},e.prototype.Yo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),BC=function(){function e(e,t){var n=this;this.Zo=e,this.D=t,this.metadata=new zT,this.buffer=new Uint8Array,this.tc=new TextDecoder("utf-8"),this.ec().then((function(e){e&&e.ho()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}return e.prototype.close=function(){return this.Zo.cancel()},e.prototype.getMetadata=function(){return xs(this,void 0,void 0,(function(){return As(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Wo=function(){return xs(this,void 0,void 0,(function(){return As(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.ec())]}}))}))},e.prototype.ec=function(){return xs(this,void 0,void 0,(function(){var e,t,n,r;return As(this,(function(i){switch(i.label){case 0:return[4,this.nc()];case 1:return null===(e=i.sent())?[2,null]:(t=this.tc.decode(e),n=Number(t),isNaN(n)&&this.sc("length string ("+t+") is not valid number"),[4,this.ic(n)]);case 2:return r=i.sent(),[2,new QS(JSON.parse(r),e.length+n)]}}))}))},e.prototype.rc=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.nc=function(){return xs(this,void 0,void 0,(function(){var e,t;return As(this,(function(n){switch(n.label){case 0:return this.rc()<0?[4,this.oc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.rc())<0&&this.sc("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.ic=function(e){return xs(this,void 0,void 0,(function(){var t;return As(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.oc()]:[3,3];case 1:n.sent()&&this.sc("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.tc.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.sc=function(e){throw this.Zo.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.oc=function(){return xs(this,void 0,void 0,(function(){var e,t;return As(this,(function(n){switch(n.label){case 0:return[4,this.Zo.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},e}(),KC=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return xs(this,void 0,void 0,(function(){var t,n=this;return As(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new gb(vb.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return xs(this,void 0,void 0,(function(){var n,r,i,o,a,s;return As(this,(function(u){switch(u.label){case 0:return n=rb(e),r=iT(n.D)+"/documents",i={documents:t.map((function(e){return eT(n.D,e)}))},[4,n.Ui("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t,r,i=(t=n.D,"found"in(r=e)?function(e,t){nb(!!t.found),t.found.name,t.found.updateTime;var n=tT(e,t.found.name),r=X_(t.found.updateTime),i=new Pw({mapValue:{fields:t.found.fields}});return new Wb(n,r,i,{})}(t,r):"missing"in r?function(e,t){nb(!!t.missing),nb(!!t.readTime);var n=tT(e,t.missing),r=X_(t.readTime);return new Gb(n,r)}(t,r):tb());a.set(i.key.toString(),i)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());nb(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){e instanceof Gb||e instanceof Wb?n.recordVersion(e):tb()})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new v_(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return xs(this,void 0,void 0,(function(){var e,t=this;return As(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=_b.fromPath(n);t.mutations.push(new g_(r,t.precondition(r)))})),[4,function(e,t){return xs(this,void 0,void 0,(function(){var n,r,i;return As(this,(function(o){switch(o.label){case 0:return n=rb(e),r=iT(n.D)+"/documents",i={writes:t.map((function(e){return uT(n.D,e)}))},[4,n.Mi("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e instanceof Wb)t=e.version;else{if(!(e instanceof Gb))throw tb();t=Dw.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new gb(vb.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Zw.updateTime(t):Zw.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Dw.min()))throw new gb(vb.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zw.updateTime(t)}return Zw.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),HC=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.cc=5,this.rr=new rS(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ac()},e.prototype.ac=function(){var e=this;this.rr.Yi((function(){return xs(e,void 0,void 0,(function(){var e,t,n=this;return As(this,(function(r){return e=new KC(this.datastore),(t=this.uc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.hc(e)}))}))})).catch((function(e){n.hc(e)})),[2]}))}))}))},e.prototype.uc=function(e){try{var t=this.updateFunction(e);return!fb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.hc=function(e){var t=this;this.cc>0&&this.lc(e)?(this.cc-=1,this.asyncQueue.enqueueAndForget((function(){return t.ac(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.lc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!y_(t)}return!1},e}(),WC=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=jI.UNAUTHENTICATED,this.clientId=ob.u(),this.credentialListener=function(){},this.receivedInitialUser=new zT,this.credentials.setChangeListener((function(e){Xy("FirestoreClient","Received user=",e.uid),r.user=e,r.credentialListener(e),r.receivedInitialUser.resolve()}))}return e.prototype.getConfiguration=function(){return xs(this,void 0,void 0,(function(){return As(this,(function(e){switch(e.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(e.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},e.prototype.setCredentialChangeListener=function(e){var t=this;this.credentialListener=e,this.receivedInitialUser.promise.then((function(){return t.credentialListener(t.user)}))},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new gb(vb.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new zT;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return xs(e,void 0,void 0,(function(){var e,n;return As(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=MS(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(e,t){return xs(this,void 0,void 0,(function(){var n,r,i=this;return As(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),Xy("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,e.asyncQueue.enqueueRetryable((function(){return xs(i,void 0,void 0,(function(){return As(this,(function(e){switch(e.label){case 0:return[4,dI(t.localStore,n)];case 1:return e.sent(),[2]}}))}))})))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function zC(e,t){return xs(this,void 0,void 0,(function(){var n,r;return As(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,QC(e)];case 1:return n=i.sent(),Xy("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(n){return e.asyncQueue.enqueueRetryable((function(){return function(e,t){return xs(this,void 0,void 0,(function(){var n,r;return As(this,(function(i){switch(i.label){case 0:return(n=rb(e)).asyncQueue.verifyOperationInProgress(),Xy("RemoteStore","RemoteStore received new credentials"),r=yS(n),n.Qr.add(3),[4,hS(n)];case 1:return i.sent(),r&&n.jr.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Qr.delete(3),[4,lS(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,n)}))})),e.onlineComponents=t,[2]}}))}))}function QC(e){return xs(this,void 0,void 0,(function(){return As(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(Xy("FirestoreClient","Using default OfflineComponentProvider"),[4,GC(e,new MC)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function $C(e){return xs(this,void 0,void 0,(function(){return As(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(Xy("FirestoreClient","Using default OnlineComponentProvider"),[4,zC(e,new UC)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function YC(e){return QC(e).then((function(e){return e.persistence}))}function XC(e){return QC(e).then((function(e){return e.localStore}))}function JC(e){return $C(e).then((function(e){return e.remoteStore}))}function ZC(e){return $C(e).then((function(e){return e.syncEngine}))}function ek(e){return xs(this,void 0,void 0,(function(){var t,n;return As(this,(function(r){switch(r.label){case 0:return[4,$C(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=iC.bind(null,t.syncEngine),n.onUnlisten=aC.bind(null,t.syncEngine),n)]}}))}))}function tk(e,t,n){var r=this;void 0===n&&(n={});var i=new zT;return e.asyncQueue.enqueueAndForget((function(){return xs(r,void 0,void 0,(function(){var r;return As(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new VC({next:function(o){t.enqueueAndForget((function(){return KS(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new gb(vb.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new gb(vb.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new zS(gw(n.path),o,{includeMetadataChanges:!0,uo:!0});return BS(e,a)},[4,ek(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function nk(e,t,n){var r=this;void 0===n&&(n={});var i=new zT;return e.asyncQueue.enqueueAndForget((function(){return xs(r,void 0,void 0,(function(){var r;return As(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new VC({next:function(n){t.enqueueAndForget((function(){return KS(e,a)})),n.fromCache&&"server"===r.source?i.reject(new gb(vb.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new zS(n,o,{includeMetadataChanges:!0,uo:!0});return BS(e,a)},[4,ek(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var rk=function(e,t,n,r,i,o){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=o},ik=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),ok=new Map,ak=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},sk=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){this.changeListener=e,e(jI.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),uk=function(){function e(e){var t=this;this.fc=null,this.currentUser=jI.UNAUTHENTICATED,this.receivedInitialUser=!1,this.dc=0,this.changeListener=null,this.forceRefresh=!1,this.fc=function(){t.dc++,t.currentUser=t.wc(),t.receivedInitialUser=!0,t.changeListener&&t.changeListener(t.currentUser)},this.dc=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.fc):(this.fc(null),e.get().then((function(e){t.auth=e,t.fc&&t.auth.addAuthTokenListener(t.fc)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this.dc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.dc!==t?(Xy("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(nb("string"==typeof n.accessToken),new ak(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){this.changeListener=e,this.receivedInitialUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.fc),this.fc=null,this.changeListener=null},e.prototype.wc=function(){var e=this.auth&&this.auth.getUid();return nb(null===e||"string"==typeof e),new jI(e)},e}(),ck=function(){function e(e,t){this._c=e,this.mc=t,this.type="FirstParty",this.user=jI.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.mc},t=this._c.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!1,configurable:!0}),e}(),lk=function(){function e(e,t){this._c=e,this.mc=t}return e.prototype.getToken=function(){return Promise.resolve(new ck(this._c,this.mc))},e.prototype.setChangeListener=function(e){e(jI.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(e,t,n){if(!n)throw new gb(vb.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function fk(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new gb(vb.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function pk(e,t,n,r){if(!0===t&&!0===r)throw new gb(vb.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function dk(e){if(!_b.isDocumentKey(e))throw new gb(vb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function vk(e){if(_b.isDocumentKey(e))throw new gb(vb.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function gk(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":tb()}function mk(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new gb(vb.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=gk(e);throw new gb(vb.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function yk(e,t){if(t<=0)throw new gb(vb.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bk=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new gb(vb.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new gb(vb.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,pk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),wk=function(){function e(e,t){this._persistenceKey="(lite)",this._settings=new bk({}),this._settingsFrozen=!1,e instanceof ik?(this._databaseId=e,this._credentials=new sk):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new gb(vb.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ik(e.options.projectId)}(e),this._credentials=new uk(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new gb(vb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new gb(vb.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bk(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new sk;switch(e.type){case"gapi":var t=e.client;return nb(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new lk(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new gb(vb.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=ok.get(this))&&(Xy("ComponentProvider","Removing Datastore"),ok.delete(this),e.terminate()),Promise.resolve();var e},e}(),_k=function(e){this._delegate=e},Tk=function(){function e(e,t,n){this._converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ik(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Ek=function(){function e(e,t,n){this._converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Ik=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,gw(r))||this).firestore=t,i._path=r,i.type="collection",i}return Cs(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Tk(this.firestore,null,new _b(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Ek);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e instanceof _k&&(e=e._delegate),hk("collection","path",t),e instanceof wk)return vk(n=yb.fromString.apply(yb,Rs([t],r))),new Ik(e,null,n);if(!(e instanceof Tk||e instanceof Ik))throw new gb(vb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return vk(n=yb.fromString.apply(yb,Rs([e.path],r)).child(yb.fromString(t))),new Ik(e.firestore,null,n)}function Ck(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e instanceof _k&&(e=e._delegate),1===arguments.length&&(t=ob.u()),hk("doc","path",t),e instanceof wk)return dk(n=yb.fromString.apply(yb,Rs([t],r))),new Tk(e,null,new _b(n));if(!(e instanceof Tk||e instanceof Ik))throw new gb(vb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return dk(n=e._path.child(yb.fromString.apply(yb,Rs([t],r)))),new Tk(e.firestore,e instanceof Ik?e._converter:null,new _b(n))}function kk(e,t){return e instanceof _k&&(e=e._delegate),t instanceof _k&&(t=t._delegate),(e instanceof Tk||e instanceof Ik)&&(t instanceof Tk||t instanceof Ik)&&e.firestore===t.firestore&&e.path===t.path&&e._converter===t._converter}function xk(e,t){return e instanceof _k&&(e=e._delegate),t instanceof _k&&(t=t._delegate),e instanceof Ek&&t instanceof Ek&&e.firestore===t.firestore&&Sw(e._query,t._query)&&e._converter===t._converter}var Ak=function(){function e(){var e=this;this.yc=Promise.resolve(),this.gc=[],this.Ec=!1,this.Tc=[],this.Ic=null,this.Ac=!1,this.Rc=[],this.rr=new rS(this,"async_queue_retry"),this.bc=function(){var t=tS();t&&Xy("AsyncQueue","Visibility state changed to "+t.visibilityState),e.rr.Zi()};var t=tS();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.bc)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.Ec},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.vc(),this.Pc(e)},e.prototype.enterRestrictedMode=function(){if(!this.Ec){this.Ec=!0;var e=tS();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.bc)}},e.prototype.enqueue=function(e){return this.vc(),this.Ec?new Promise((function(e){})):this.Pc(e)},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.gc.push(e),t.Vc()}))},e.prototype.Vc=function(){return xs(this,void 0,void 0,(function(){var e,t=this;return As(this,(function(n){switch(n.label){case 0:if(0===this.gc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gc[0]()];case 2:return n.sent(),this.gc.shift(),this.rr.reset(),[3,4];case 3:if(!ZT(e=n.sent()))throw e;return Xy("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.gc.length>0&&this.rr.Yi((function(){return t.Vc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Pc=function(e){var t=this,n=this.yc.then((function(){return t.Ac=!0,e().catch((function(e){throw t.Ic=e,t.Ac=!1,Jy("INTERNAL UNHANDLED ERROR: ",(r=(n=e).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),e;var n,r})).then((function(e){return t.Ac=!1,e}))}));return this.yc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.vc(),this.Rc.indexOf(e)>-1&&(t=0);var i=LS.createAndSchedule(this,e,t,n,(function(e){return r.Sc(e)}));return this.Tc.push(i),i},e.prototype.vc=function(){this.Ic&&tb()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Dc=function(){return xs(this,void 0,void 0,(function(){var e;return As(this,(function(t){switch(t.label){case 0:return[4,e=this.yc];case 1:t.sent(),t.label=2;case 2:if(e!==this.yc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Cc=function(e){for(var t=0,n=this.Tc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.xc=function(e){var t=this;return this.Dc().then((function(){t.Tc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.Tc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Dc()}))},e.prototype.Nc=function(e){this.Rc.push(e)},e.prototype.Sc=function(e){var t=this.Tc.indexOf(e);this.Tc.splice(t,1)},e}();function Nk(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var Dk=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new zT,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),Rk=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._queue=new Ak,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return Cs(t,e),t.prototype._terminate=function(){return this._firestoreClient||Ok(this),this._firestoreClient.terminate()},t}(wk);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(e){return e._firestoreClient||Ok(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ok(e){var t,n,r,i=e._freezeSettings(),o=(t=e._databaseId,n=e._persistenceKey,new rk(t,n,(r=i).host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling));e._firestoreClient=new WC(e._credentials,e._queue,o)}function Lk(e,t,n){var r=this,i=new zT;return e.asyncQueue.enqueue((function(){return xs(r,void 0,void 0,(function(){var r;return As(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,GC(e,n)];case 1:return o.sent(),[4,zC(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(a=r=o.sent()).name?a.code===vb.FAILED_PRECONDITION||a.code===vb.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}var a}))}))})).then((function(){return i.promise}))}function Mk(e){if(e._initialized||e._terminated)throw new gb(vb.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fk=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new gb(vb.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wb(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),jk=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(Tb.fromBase64String(t))}catch(e){throw new gb(vb.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},e.fromUint8Array=function(t){return new e(Tb.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),Uk=function(e){this._methodName=e},qk=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new gb(vb.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new gb(vb.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return ab(this._lat,e._lat)||ab(this._long,e._long)},e}(),Vk=/^__.*__$/,Bk=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new u_(e,this.data,this.fieldMask,t,this.fieldTransforms):new s_(e,this.data,t,this.fieldTransforms)},e}(),Kk=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new u_(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tb()}}var Wk=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.D=n,this.ignoreUndefinedProperties=r,void 0===i&&this.$c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Fc",{get:function(){return this.settings.Fc},enumerable:!1,configurable:!0}),e.prototype.Oc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.D,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Mc:!1});return r.Lc(e),r},e.prototype.Bc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Mc:!1});return r.$c(),r},e.prototype.qc=function(e){return this.Oc({path:void 0,Mc:!0})},e.prototype.Uc=function(e){return hx(e,this.settings.methodName,this.settings.Qc||!1,this.path,this.settings.Kc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.$c=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Lc(this.path.get(e))},e.prototype.Lc=function(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(Hk(this.Fc)&&Vk.test(e))throw this.Uc('Document fields cannot begin and end with "__"')},e}(),Gk=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.D=n||nS(e)}return e.prototype.Wc=function(e,t,n,r){return void 0===r&&(r=!1),new Wk({Fc:e,methodName:t,Kc:n,path:wb.emptyPath(),Mc:!1,Qc:r},this.databaseId,this.D,this.ignoreUndefinedProperties)},e}();function zk(e){var t=e._freezeSettings(),n=nS(e._databaseId);return new Gk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Qk(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Wc(o.merge||o.mergeFields?2:0,t,n,i);sx("Data must be an object, but it was:",a,r);var s,u,c=ox(r,a);if(o.merge)s=new Rw(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var p=ux(t,f[h],n);if(!a.contains(p))throw new gb(vb.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");fx(l,p)||l.push(p)}s=new Rw(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new Bk(new Pw(c),s,u)}var $k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cs(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Fc)throw 1===e.Fc?e.Uc(this._methodName+"() can only appear at the top level of your update data"):e.Uc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Uk);function Yk(e,t,n){return new Wk({Fc:3,Kc:t.settings.Kc,methodName:e._methodName,Mc:n},t.databaseId,t.D,t.ignoreUndefinedProperties)}var Xk=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cs(t,e),t.prototype._toFieldTransform=function(e){return new Xw(e.path,new Kw)},t.prototype.isEqual=function(e){return e instanceof t},t}(Uk),Jk=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).jc=n,r}return Cs(t,e),t.prototype._toFieldTransform=function(e){var t=Yk(this,e,!0),n=this.jc.map((function(e){return ix(e,t)})),r=new Hw(n);return new Xw(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Uk),Zk=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).jc=n,r}return Cs(t,e),t.prototype._toFieldTransform=function(e){var t=Yk(this,e,!0),n=this.jc.map((function(e){return ix(e,t)})),r=new Gw(n);return new Xw(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Uk),ex=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Gc=n,r}return Cs(t,e),t.prototype._toFieldTransform=function(e){var t=new Qw(e.D,jw(e.D,this.Gc));return new Xw(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(Uk);function tx(e,t,n,r){var i=e.Wc(1,t,n);sx("Data must be an object, but it was:",i,r);var o=[],a=new Ow;lb(r,(function(e,r){var s=lx(t,e,n);r instanceof _k&&(r=r._delegate);var u=i.Bc(s);if(r instanceof $k)o.push(s);else{var c=ix(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new Rw(o);return new Kk(a.v(),s,i.fieldTransforms)}function nx(e,t,n,r,i,o){var a=e.Wc(1,t,n),s=[ux(t,r,n)],u=[i];if(o.length%2!=0)throw new gb(vb.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(ux(t,o[c])),u.push(o[c+1]);for(var l=[],h=new Ow,f=s.length-1;f>=0;--f)if(!fx(l,s[f])){var p=s[f],d=u[f];d instanceof _k&&(d=d._delegate);var v=a.Bc(p);if(d instanceof $k)l.push(p);else{var g=ix(d,v);null!=g&&(l.push(p),h.set(p,g))}}var m=new Rw(l);return new Kk(h.v(),m,a.fieldTransforms)}function rx(e,t,n,r){return void 0===r&&(r=!1),ix(n,e.Wc(r?4:3,t))}function ix(e,t){if(e instanceof _k&&(e=e._delegate),ax(e))return sx("Unsupported field value:",t,e),ox(e,t);if(e instanceof Uk)return function(e,t){if(!Hk(t.Fc))throw t.Uc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Uc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Mc&&4!==t.Fc)throw t.Uc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=ix(o[i],t.qc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(e instanceof _k&&(e=e._delegate),null===e)return{nullValue:"NULL_VALUE"};if("number"==typeof e)return jw(t.D,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=kb.fromDate(e);return{timestampValue:Q_(t.D,n)}}if(e instanceof kb)return n=new kb(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Q_(t.D,n)};if(e instanceof qk)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof jk)return{bytesValue:$_(t.D,e._byteString)};if(e instanceof Tk){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Uc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:J_(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Uc("Unsupported field value: "+gk(e))}(e,t)}function ox(e,t){var n={};return hb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lb(e,(function(e,r){var i=ix(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function ax(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof kb||e instanceof qk||e instanceof jk||e instanceof Tk||e instanceof Uk)}function sx(e,t,n){if(!ax(n)||("object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i))){var r=gk(n);throw"an object"===r?t.Uc(e+" a custom object"):t.Uc(e+" "+r)}var i}function ux(e,t,n){if(t instanceof _k&&(t=t._delegate),t instanceof Fk)return t._internalPath;if("string"==typeof t)return lx(e,t);throw hx("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var cx=new RegExp("[~\\*/\\[\\]]");function lx(e,t,n){if(t.search(cx)>=0)throw hx("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(Fk.bind.apply(Fk,Rs([void 0],t.split(".")))))._internalPath}catch(r){throw hx("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function hx(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new gb(vb.INVALID_ARGUMENT,(s+=". ")+e+u)}function fx(e,t){return e.some((function(e){return e.isEqual(t)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var px=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Tk(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new dx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.toProto())}},e.prototype.get=function(e){if(this._document){var t=this._document.data().field(vx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),dx=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cs(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(px);function vx(e,t){return"string"==typeof t?lx(e,t):t instanceof _k?t._delegate._internalPath:t._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gx=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),mx=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return Cs(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new yx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.toProto(),e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data().field(vx("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(px),yx=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cs(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(mx),bx=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new gx(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new yx(n._firestore,n._userDataWriter,r.key,r,new gx(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new gb(vb.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new yx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new gx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query._converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new yx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new gx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query._converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:wx(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function wx(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tb()}}function _x(e,t){return e instanceof mx&&t instanceof mx?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof bx&&t instanceof bx&&e._firestore===t._firestore&&xk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(e){if(yw(e)&&0===e.explicitOrderBy.length)throw new gb(vb.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ex=function(){};function Ix(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var Sx=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).zc=t,i.Hc=n,i.Jc=r,i.type="where",i}return Cs(t,e),t.prototype._apply=function(e){var t,n,r,i=zk(e.firestore),o=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new gb(vb.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Rx(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(Dx(r,e,h))}s={arrayValue:{values:u}}}else s=Dx(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Rx(a,o),s=rx(n,"where",a,"in"===o||"not-in"===o);var f=Zb.create(i,o,s);return function(e,t){if(t.g()){var n=ww(e);if(null!==n&&!n.isEqual(t.field))throw new gb(vb.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=bw(e);null!==r&&Px(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new gb(vb.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new gb(vb.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,f),f}(e._query,0,i,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new Ek(e.firestore,e._converter,(t=e._query,n=o,r=t.filters.concat([n]),new dw(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)))},t}(Ex),Cx=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).zc=t,r.Yc=n,r.type="orderBy",r}return Cs(t,e),t.prototype._apply=function(e){var t,n,r,i=function(e,t,n){if(null!==e.startAt)throw new gb(vb.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new gb(vb.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new lw(t,n);return function(e,t){if(null===bw(e)){var n=ww(e);null!==n&&Px(e,n,t.field)}}(e,r),r}(e._query,this.zc,this.Yc);return new Ek(e.firestore,e._converter,(t=e._query,n=i,r=t.explicitOrderBy.concat([n]),new dw(t.path,t.collectionGroup,r,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)))},t}(Ex),kx=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Xc=n,i.Zc=r,i}return Cs(t,e),t.prototype._apply=function(e){return new Ek(e.firestore,e._converter,Iw(e._query,this.Xc,this.Zc))},t}(Ex),xx=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.ta=n,i.ea=r,i}return Cs(t,e),t.prototype._apply=function(e){var t,n,r=Nx(e,this.type,this.ta,this.ea);return new Ek(e.firestore,e._converter,(t=e._query,n=r,new dw(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,n,t.endAt)))},t}(Ex),Ax=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.ta=n,i.ea=r,i}return Cs(t,e),t.prototype._apply=function(e){var t,n,r=Nx(e,this.type,this.ta,this.ea);return new Ek(e.firestore,e._converter,(t=e._query,n=r,new dw(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,n)))},t}(Ex);function Nx(e,t,n,r){if(n[0]instanceof _k&&(n[0]=n[0]._delegate),n[0]instanceof px)return function(e,t,n,r,i){if(!r)throw new gb(vb.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Tw(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(jb(t,r.key));else{var c=r.field(u.field);if(xb(c))throw new gb(vb.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new gb(vb.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new uw(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=zk(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new gb(vb.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new gb(vb.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!_w(e)&&-1!==c.indexOf("/"))throw new gb(vb.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(yb.fromString(c));if(!_b.isDocumentKey(l))throw new gb(vb.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new _b(l);s.push(jb(t,h))}else{var f=rx(n,r,c);s.push(f)}}return new uw(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function Dx(e,t,n){if(n instanceof _k&&(n=n._delegate),"string"==typeof n){if(""===n)throw new gb(vb.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!_w(t)&&-1!==n.indexOf("/"))throw new gb(vb.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(yb.fromString(n));if(!_b.isDocumentKey(r))throw new gb(vb.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return jb(e,new _b(r))}if(n instanceof Tk)return jb(e,n._key);throw new gb(vb.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+gk(n)+".")}function Rx(e,t){if(!Array.isArray(e)||0===e.length)throw new gb(vb.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new gb(vb.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Px(e,t,n){if(!n.isEqual(t))throw new gb(vb.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ox=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),Db(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sb(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cb(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw tb()}},e.prototype.convertObject=function(e,t){var n=this,r={};return lb(e.fields||{},(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new qk(Sb(e.latitude),Sb(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=Ab(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Nb(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=Ib(e);return new kb(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=yb.fromString(e);nb(ET(n));var r=new ik(n.get(1),n.get(3)),i=new _b(n.popFirst(5));return r.isEqual(t)||Jy("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Mx=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Cs(t,e),t.prototype.convertBytes=function(e){return new jk(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tk(this.firestore,null,t)},t}(Ox),Fx=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=zk(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=jx(e,this._firestore),i=Lx(r._converter,t,n),o=Qk(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,Zw.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=jx(e,this._firestore);return t instanceof _k&&(t=t._delegate),o="string"==typeof t||t instanceof Fk?nx(this._dataReader,"WriteBatch.update",a._key,t,n,r):tx(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,Zw.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=jx(e,this._firestore);return this._mutations=this._mutations.concat(new v_(t._key,Zw.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new gb(vb.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(e,t){if(e instanceof _k&&(e=e._delegate),e.firestore!==t)throw new gb(vb.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ux=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Cs(t,e),t.prototype.convertBytes=function(e){return new jk(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tk(this.firestore,null,t)},t}(Ox);function qx(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=mk(e,Tk);var o=mk(e.firestore,Rk),a=zk(o);return t instanceof _k&&(t=t._delegate),Bx(o,[("string"==typeof t||t instanceof Fk?nx(a,"updateDoc",e._key,t,n,r):tx(a,"updateDoc",e._key,t)).toMutation(e._key,Zw.exists(!0))])}function Vx(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e instanceof _k&&(e=e._delegate);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Nk(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(Nk(i[s])){var f=i[s];i[s]=null===(t=f.next)||void 0===t?void 0:t.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(e instanceof Tk)c=mk(e.firestore,Rk),l=gw(e._key.path),u={next:function(t){i[s]&&i[s](Kx(c,e,t))},error:i[s+1],complete:i[s+2]};else{var p=mk(e,Ek);c=mk(p.firestore,Rk),l=p._query;var d=new Ux(c);u={next:function(e){i[s]&&i[s](new bx(c,d,p,e))},error:i[s+1],complete:i[s+2]},Tx(e._query)}return function(e,t,n,r){var i=this,o=new VC(r),a=new zS(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return xs(i,void 0,void 0,(function(){var t;return As(this,(function(n){switch(n.label){case 0:return t=BS,[4,ek(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Xo(),e.asyncQueue.enqueueAndForget((function(){return xs(i,void 0,void 0,(function(){var t;return As(this,(function(n){switch(n.label){case 0:return t=KS,[4,ek(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(Pk(c),l,h,u)}function Bx(e,t){return function(e,t){var n=this,r=new zT;return e.asyncQueue.enqueueAndForget((function(){return xs(n,void 0,void 0,(function(){var n;return As(this,(function(i){switch(i.label){case 0:return n=sC,[4,ZC(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(Pk(e),t)}function Kx(e,t,n){var r=n.docs.get(t._key),i=new Ux(e);return new mx(e,i,t._key,r,new gx(n.hasPendingWrites,n.fromCache),t._converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hx=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return Cs(t,e),t.prototype.get=function(t){var n=this,r=jx(t,this._firestore),i=new Ux(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new mx(n._firestore,i,r._key,e._document,new gx(!1,!1),r._converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=zk(e)}return e.prototype.get=function(e){var t=this,n=jx(e,this._firestore),r=new Mx(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return tb();var i=e[0];if(i instanceof Gb)return new px(t._firestore,r,n._key,null,n._converter);if(i instanceof Wb)return new px(t._firestore,r,i.key,i,n._converter);throw tb()}))},e.prototype.set=function(e,t,n){var r=jx(e,this._firestore),i=Lx(r._converter,t,n),o=Qk(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=jx(e,this._firestore);return t instanceof _k&&(t=t._delegate),o="string"==typeof t||t instanceof Fk?nx(this._dataReader,"Transaction.update",a._key,t,n,r):tx(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=jx(e,this._firestore);return this._transaction.delete(t._key),this},e}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(){if("undefined"==typeof Uint8Array)throw new gb(vb.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Gx(){if("undefined"==typeof atob)throw new gb(vb.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var zx=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cs(t,e),t.fromBase64String=function(e){return Gx(),new t(jk.fromBase64String(e))},t.fromUint8Array=function(e){return Wx(),new t(jk.fromUint8Array(e))},t.prototype.toBase64=function(){return Gx(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Wx(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(_k),Qx=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Mk(e=mk(e,Rk));var n=Pk(e),r=e._freezeSettings(),i=new UC;return Lk(n,i,new FC(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Mk(e=mk(e,Rk));var t=Pk(e),n=e._freezeSettings(),r=new UC;return Lk(t,r,new jC(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new gb(vb.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new zT;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return xs(t,void 0,void 0,(function(){var t;return As(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return xs(this,void 0,void 0,(function(){var t;return As(this,(function(n){switch(n.label){case 0:return YT.At()?(t=e+"main",[4,YT.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(sI(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),$x=function(e){function t(t,n,r){var i=this;return(i=e.call(this,n)||this).na=r,i.INTERNAL={delete:function(){return i.terminate()}},t instanceof ik||(i.sa=t),i}return Cs(t,e),Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this._delegate._getSettings()),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,t){var n,r,i,o;n=this._delegate,r=e,i=t,"firestore.googleapis.com"!==(o=(n=mk(n,wk))._getSettings()).host&&o.host!==r&&Zy("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:r+":"+i,ssl:!1}))},t.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return xs(t,void 0,void 0,(function(){var t,n;return As(this,(function(r){switch(r.label){case 0:return[4,YC(e)];case 1:return t=r.sent(),[4,JC(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),i=n,o=rb(i),o.Qr.delete(0),lS(o))]}var i,o}))}))}))}(Pk(mk(this._delegate,Rk)))},t.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return xs(t,void 0,void 0,(function(){var t,n;return As(this,(function(r){switch(r.label){case 0:return[4,YC(e)];case 1:return t=r.sent(),[4,JC(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return xs(this,void 0,void 0,(function(){var t;return As(this,(function(n){switch(n.label){case 0:return(t=rb(e)).Qr.add(0),[4,hS(t)];case 1:return n.sent(),t.jr.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Pk(mk(this._delegate,Rk)))},t.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&pk("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.na.enableMultiTabIndexedDbPersistence(this):this.na.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.na.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.sa&&(this.sa._removeServiceInstance("firestore"),this.sa._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new zT;return e.asyncQueue.enqueueAndForget((function(){return xs(t,void 0,void 0,(function(){var t;return As(this,(function(r){switch(r.label){case 0:return t=pC,[4,ZC(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Pk(mk(this._delegate,Rk)))},t.prototype.onSnapshotsInSync=function(e){return t=this._delegate,n=e,function(e,t){var n=this,r=new VC(t);return e.asyncQueue.enqueueAndForget((function(){return xs(n,void 0,void 0,(function(){var t;return As(this,(function(n){switch(n.label){case 0:return t=function(e,t){rb(e).Zr.add(t),t.next()},[4,ek(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Xo(),e.asyncQueue.enqueueAndForget((function(){return xs(n,void 0,void 0,(function(){var t;return As(this,(function(n){switch(n.label){case 0:return t=function(e,t){rb(e).Zr.delete(t)},[4,ek(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(Pk(t=mk(t,Rk)),Nk(n)?n:{next:n});var t,n},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.sa)throw new gb(vb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.sa},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new cA(this,Sk(this._delegate,e))}catch(e){throw tA(e,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new eA(this,Ck(this._delegate,e))}catch(e){throw tA(e,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new aA(this,function(e,t){if(e=mk(e,wk),hk("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new gb(vb.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ek(e,null,(n=t,new dw(yb.emptyPath(),n)));var n}(this._delegate,e))}catch(e){throw tA(e,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var t,n=this;return function(e,t){var n=this,r=new zT;return e.asyncQueue.enqueueAndForget((function(){return xs(n,void 0,void 0,(function(){var n;return As(this,(function(i){switch(i.label){case 0:return[4,(o=e,$C(o).then((function(e){return e.datastore})))];case 1:return n=i.sent(),new HC(e.asyncQueue,n,t,r).run(),[2]}var o}))}))})),r.promise}(Pk(t=this._delegate),(function(r){return function(t){return e(new Xx(n,t))}(new Hx(t,r))}))},t.prototype.batch=function(){var e=this;return Pk(this._delegate),new Jx(new Fx(this._delegate,(function(t){return Bx(e._delegate,t)})))},t.prototype.loadBundle=function(e){throw new gb(vb.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new gb(vb.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(_k),Yx=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Cs(t,e),t.prototype.convertBytes=function(e){return new zx(new jk(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return eA.ia(t,this.firestore,null)},t}(Ox);var Xx=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this)._firestore=t,r._userDataWriter=new Yx(t),r}return Cs(t,e),t.prototype.get=function(e){var t=this,n=lA(e);return this._delegate.get(n).then((function(e){return new iA(t._firestore,new mx(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n._converter))}))},t.prototype.set=function(e,t,n){var r=lA(e);return n?(fk("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},t.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=lA(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,Rs([a,t,n],i)),this},t.prototype.delete=function(e){var t=lA(e);return this._delegate.delete(t),this},t}(_k),Jx=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cs(t,e),t.prototype.set=function(e,t,n){var r=lA(e);return n?(fk("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},t.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=lA(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,Rs([a,t,n],i)),this},t.prototype.delete=function(e){var t=lA(e);return this._delegate.delete(t),this},t.prototype.commit=function(){return this._delegate.commit()},t}(_k),Zx=function(e){function t(t,n,r){var i=this;return(i=e.call(this,r)||this)._firestore=t,i._userDataWriter=n,i}return Cs(t,e),t.prototype.fromFirestore=function(e,t){var n=new yx(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new oA(this._firestore,n),null!=t?t:{})},t.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},t.ra=function(e,n){var r=t.oa,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Yx(e),n),i.set(n,o)),o},t}(_k);Zx.oa=new WeakMap;var eA=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).firestore=t,r._userDataWriter=new Yx(t),r}return Cs(t,e),t.ca=function(e,n,r){if(e.length%2!=0)throw new gb(vb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Tk(n._delegate,r,new _b(e)))},t.ia=function(e,n,r){return new t(n,new Tk(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new cA(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new cA(this.firestore,Sk(this._delegate,e))}catch(e){throw tA(e,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return e instanceof _k&&(e=e._delegate),e instanceof Tk&&kk(this._delegate,e)},t.prototype.set=function(e,t){t=fk("DocumentReference.set",t);try{return function(e,t,n){e=mk(e,Tk);var r=mk(e.firestore,Rk),i=Lx(e._converter,t,n);return Bx(r,[Qk(zk(r),"setDoc",e._key,i,null!==e._converter,n).toMutation(e._key,Zw.none())])}(this._delegate,e,t)}catch(e){throw tA(e,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?qx(this._delegate,e):qx.apply(void 0,Rs([this._delegate,e,t],n))}catch(e){throw tA(e,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Bx(mk((e=this._delegate).firestore,Rk),[new v_(e._key,Zw.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=nA(t),i=rA(t,(function(t){return new iA(e.firestore,new mx(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))}));return Vx(this._delegate,r,i)},t.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=mk(e,Tk);var t=mk(e.firestore,Rk),n=Pk(t),r=new Ux(t);return function(e,t){var n=this,r=new zT;return e.asyncQueue.enqueueAndForget((function(){return xs(n,void 0,void 0,(function(){var n;return As(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return xs(this,void 0,void 0,(function(){var r,i;return As(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(a=e,s=t,u=rb(a),u.persistence.runTransaction("read document","readonly",(function(e){return u.Kn.In(e,s)})))];case 1:return(i=o.sent())instanceof Wb?n.resolve(i):i instanceof Gb?n.resolve(null):n.reject(new gb(vb.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=MS(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}var a,s,u}))}))},[4,XC(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new mx(t,r,e._key,n,new gx(n instanceof Wb&&n.hasLocalMutations,!0),e._converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=mk(e,Tk);var t=mk(e.firestore,Rk);return tk(Pk(t),e._key,{source:"server"}).then((function(n){return Kx(t,e,n)}))}(this._delegate):function(e){e=mk(e,Tk);var t=mk(e.firestore,Rk);return tk(Pk(t),e._key).then((function(n){return Kx(t,e,n)}))}(this._delegate)).then((function(e){return new iA(t.firestore,new mx(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Zx.ra(this.firestore,e)):this._delegate.withConverter(null))},t}(_k);function tA(e,t,n){return e.message=e.message.replace(t,n),e}function nA(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Nk(r))return r}return{}}function rA(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Nk(e[0])?e[0]:Nk(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var iA=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this)._firestore=t,r}return Cs(t,e),Object.defineProperty(t.prototype,"ref",{get:function(){return new eA(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,t){return this._delegate.get(e,t)},t.prototype.isEqual=function(e){return _x(this._delegate,e._delegate)},t}(_k),oA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cs(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(iA),aA=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).firestore=t,r._userDataWriter=new Yx(t),r}return Cs(t,e),t.prototype.where=function(e,n,r){try{return new t(this.firestore,Ix(this._delegate,(o=r,a=n,s=vx("where",i=e),new Sx(s,a,o))))}catch(i){throw tA(i,/(orderBy|where)\(\)/,"Query.$1()")}var i,o,a,s},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Ix(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=vx("orderBy",e);return new Cx(r,n)}(e,n)))}catch(e){throw tA(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Ix(this._delegate,(yk("limit",n=e),new kx("limit",n,"F"))))}catch(n){throw tA(n,"limit()","Query.limit()")}var n},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Ix(this._delegate,(yk("limitToLast",n=e),new kx("limitToLast",n,"L"))))}catch(n){throw tA(n,"limitToLast()","Query.limitToLast()")}var n},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ix(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new xx("startAt",e,!0)}.apply(void 0,e)))}catch(e){throw tA(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ix(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new xx("startAfter",e,!1)}.apply(void 0,e)))}catch(e){throw tA(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ix(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Ax("endBefore",e,!0)}.apply(void 0,e)))}catch(e){throw tA(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ix(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Ax("endAt",e,!1)}.apply(void 0,e)))}catch(e){throw tA(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return xk(this._delegate,e._delegate)},t.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=mk(e,Ek);var t=mk(e.firestore,Rk),n=Pk(t),r=new Ux(t);return function(e,t){var n=this,r=new zT;return e.asyncQueue.enqueueAndForget((function(){return xs(n,void 0,void 0,(function(){var n;return As(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return xs(this,void 0,void 0,(function(){var r,i,o,a,s;return As(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,TI(e,t,!0)];case 1:return s=u.sent(),r=new eC(t,s.jn),i=r.Io(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=MS(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,XC(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new bx(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=mk(e,Ek);var t=mk(e.firestore,Rk),n=Pk(t),r=new Ux(t);return nk(n,e._query,{source:"server"}).then((function(n){return new bx(t,r,e,n)}))}(this._delegate):function(e){e=mk(e,Ek);var t=mk(e.firestore,Rk),n=Pk(t),r=new Ux(t);return Tx(e._query),nk(n,e._query).then((function(n){return new bx(t,r,e,n)}))}(this._delegate)).then((function(e){return new uA(t.firestore,new bx(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},t.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=nA(t),i=rA(t,(function(t){return new uA(e.firestore,new bx(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Vx(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Zx.ra(this.firestore,e)):this._delegate.withConverter(null))},t}(_k),sA=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this)._firestore=t,r}return Cs(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new oA(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(_k),uA=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this)._firestore=t,r}return Cs(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return new aA(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new oA(e._firestore,t)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new sA(t._firestore,e)}))},t.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new oA(n._firestore,r))}))},t.prototype.isEqual=function(e){return _x(this._delegate,e._delegate)},t}(_k),cA=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return Cs(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new eA(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new eA(this.firestore,void 0===e?Ck(this._delegate):Ck(this._delegate,e))}catch(e){throw tA(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t,n,r,i,o,a=this;return(t=this._delegate,n=e,r=mk(t.firestore,Rk),i=Ck(t),o=Lx(t._converter,n),Bx(r,[Qk(zk(t.firestore),"addDoc",i._key,o,null!==t._converter,{}).toMutation(i._key,Zw.exists(!1))]).then((function(){return i}))).then((function(e){return new eA(a.firestore,e)}))},t.prototype.isEqual=function(e){return kk(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Zx.ra(this.firestore,e)):this._delegate.withConverter(null))},t}(aA);function lA(e){return e instanceof _k&&(e=e._delegate),mk(e,Tk)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var hA=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.call(this,new(Fk.bind.apply(Fk,Rs([void 0],t))))||this}return Cs(t,e),t.documentId=function(){return new t(wb.keyField().canonicalString())},t.prototype.isEqual=function(e){return e instanceof _k&&(e=e._delegate),e instanceof Fk&&this._delegate._internalPath.isEqual(e._internalPath)},t}(_k),fA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cs(t,e),t.serverTimestamp=function(){var e=new Xk("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new $k("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Jk("arrayUnion",e)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Zk("arrayRemove",e)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=new ex("increment",e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}(_k);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(e){return t=this._delegate,n=e,r=Pk(t=mk(t,Rk)),i=new Dk,function(e,t,n,r){var i,o,a,s=this,u=(i=n,o=nS(t),a=function(e,t){if(e instanceof Uint8Array)return qC(e,t);if(e instanceof ArrayBuffer)return qC(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof i?(new TextEncoder).encode(i):i),new BC(a,o));e.asyncQueue.enqueueAndForget((function(){return xs(s,void 0,void 0,(function(){var t;return As(this,(function(n){switch(n.label){case 0:return t=LC,[4,ZC(e)];case 1:return t.apply(void 0,[n.sent(),u,r]),[2]}}))}))}))}(r,t._databaseId,n,i),i;var t,n,r,i}function dA(e){var t,n,r=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return xs(n,void 0,void 0,(function(){var n;return As(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=rb(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.He.getNamedQuery(e,t)}))},[4,XC(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(Pk(t=mk(t,Rk)),n).then((function(e){return e?new Ek(t,null,e.query):null}))).then((function(e){return e?new aA(r,e):null}))}var vA,gA,mA={Firestore:$x,GeoPoint:qk,Timestamp:kb,Blob:zx,Transaction:Xx,WriteBatch:Jx,DocumentReference:eA,DocumentSnapshot:iA,Query:aA,QueryDocumentSnapshot:oA,QuerySnapshot:uA,CollectionReference:cA,FieldPath:hA,FieldValue:fA,setLogLevel:function(e){var t;t=e,$y.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(vA=zu).INTERNAL.registerComponent(new bu("firestore",(function(e){return function(e,t){return new $x(e,new Rk(e,t),new Qx)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},mA))),vA.registerVersion("@firebase/firestore","2.2.1"),(gA=$x).prototype.loadBundle=pA,gA.prototype.namedQuery=dA;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var yA={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},bA=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return Cs(t,e),t}(Error);var wA=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return xs(this,void 0,void 0,(function(){var e;return As(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return xs(this,void 0,void 0,(function(){return As(this,(function(e){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(e){return[2,void 0]}return[2]}))}))},e.prototype.getContext=function(){return xs(this,void 0,void 0,(function(){var e,t;return As(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var TA=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"==typeof e||"object"==typeof e)return _A(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"==typeof e||"object"==typeof e?_A(e,(function(e){return t.decode(e)})):e},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EA=function(){function e(e,t,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=e,this.fetchImpl=i,this.serializer=new TA,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new wA(t,n),this.cancelAllRequests=new Promise((function(e){o.deleteService=function(){return e()}}));try{var a=new URL(r);this.customDomain=a.origin,this.region="us-central1"}catch(e){this.customDomain=null,this.region=r}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return xs(this,void 0,void 0,(function(){var r,i;return As(this,(function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},e.prototype.call=function(e,t,n){return xs(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f,p;return As(this,(function(d){switch(d.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=d.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,u=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new bA("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(s),c=u.timer,l=u.promise,[4,Promise.race([IA(c,this.postJSON(r,i,o)),l,IA(c,this.cancelAllRequests)])];case 2:if(!(h=d.sent()))throw new bA("cancelled","Firebase Functions instance was deleted.");if(f=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"==typeof s){if(!yA[s])return new bA("internal","internal");r=yA[s],i=s}var u=a.message;"string"==typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(e){}return"ok"===r?null:new bA(r,i,o)}(h.status,h.json,this.serializer))throw f;if(!h.json)throw new bA("internal","Response is not valid JSON object.");if(void 0===(p=h.json.data)&&(p=h.json.result),void 0===p)throw new bA("internal","Response is missing data field.");return[2,{data:this.serializer.decode(p)}]}}))}))},e}();function IA(e,t){return xs(this,void 0,void 0,(function(){var n;return As(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(e){return Array.prototype.slice.call(e)}function CA(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function kA(e,t,n){var r,i=new Promise((function(i,o){CA(r=e[t].apply(e,n)).then(i,o)}));return i.request=r,i}function xA(e,t,n){var r=kA(e,t,n);return r.then((function(e){if(e)return new OA(e,r.request)}))}function AA(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function NA(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return kA(this[t],r,arguments)})}))}function DA(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function RA(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return xA(this[t],r,arguments)})}))}function PA(e){this._index=e}function OA(e,t){this._cursor=e,this._request=t}function LA(e){this._store=e}function MA(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function FA(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new MA(n)}function jA(e){this._db=e}function UA(e,t,n){var r=kA(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(e){n&&n(new FA(i.result,e.oldVersion,i.transaction))}),r.then((function(e){return new jA(e)}))}function qA(e){return kA(indexedDB,"deleteDatabase",[e])}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(e,t){var n={Functions:EA};e.INTERNAL.registerComponent(new bu("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("messaging");return new EA(i,o,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(zu,fetch.bind(self)),zu.registerVersion("@firebase/functions","0.6.4"),AA(PA,"_index",["name","keyPath","multiEntry","unique"]),NA(PA,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),RA(PA,"_index",IDBIndex,["openCursor","openKeyCursor"]),AA(OA,"_cursor",["direction","key","primaryKey","value"]),NA(OA,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(OA.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,n),CA(t._request).then((function(e){if(e)return new OA(e,t._request)}))}))})})),LA.prototype.createIndex=function(){return new PA(this._store.createIndex.apply(this._store,arguments))},LA.prototype.index=function(){return new PA(this._store.index.apply(this._store,arguments))},AA(LA,"_store",["name","keyPath","indexNames","autoIncrement"]),NA(LA,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),RA(LA,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),DA(LA,"_store",IDBObjectStore,["deleteIndex"]),MA.prototype.objectStore=function(){return new LA(this._tx.objectStore.apply(this._tx,arguments))},AA(MA,"_tx",["objectStoreNames","mode"]),DA(MA,"_tx",IDBTransaction,["abort"]),FA.prototype.createObjectStore=function(){return new LA(this._db.createObjectStore.apply(this._db,arguments))},AA(FA,"_db",["name","version","objectStoreNames"]),DA(FA,"_db",IDBDatabase,["deleteObjectStore","close"]),jA.prototype.transaction=function(){return new MA(this._db.transaction.apply(this._db,arguments))},AA(jA,"_db",["name","version","objectStoreNames"]),DA(jA,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[LA,PA].forEach((function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var t=SA(arguments),n=t[t.length-1],r=this._store||this._index,i=r[e].apply(r,t.slice(0,-1));i.onsuccess=function(){n(i.result)}})}))})),[PA,LA].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})}));var VA,BA=((VA={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',VA["not-registered"]="Firebase Installation is not registered.",VA["installation-not-found"]="Firebase Installation not found.",VA["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',VA["app-offline"]="Could not process request. Application offline.",VA["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",VA),KA=new Zs("installations","Installations",BA);function HA(e){return e instanceof Js&&e.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function GA(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function zA(e,t){return xs(this,void 0,void 0,(function(){var n,r;return As(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,KA.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function QA(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function $A(e,t){var n=t.refreshToken,r=QA(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)),r}function YA(e){return xs(this,void 0,void 0,(function(){var t;return As(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function XA(e,t){var n=t.fid;return xs(this,void 0,void 0,(function(){var t,r,i,o,a,s;return As(this,(function(u){switch(u.label){case 0:return t=WA(e),r=QA(e),i={fid:n,authVersion:"FIS_v2",appId:e.appId,sdkVersion:"w:0.4.22"},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,YA((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:GA(s.authToken)}];case 3:return[4,zA("Create Installation",a)];case 4:throw u.sent()}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(e){return new Promise((function(t){setTimeout(t,e)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ZA=/^[cdef][\w-]{21}$/;function eN(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Rs([],Ds(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e);return ZA.test(t)?t:""}catch(e){return""}}function tN(e){return e.appName+"!"+e.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nN=new Map;function rN(e,t){var n=tN(e);iN(n,t),function(e,t){var n=aN();n&&n.postMessage({key:e,fid:t});sN()}(n,t)}function iN(e,t){var n,r,i=nN.get(e);if(i)try{for(var o=Ns(i),a=o.next();!a.done;a=o.next()){(0,a.value)(t)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var oN=null;function aN(){return!oN&&"BroadcastChannel"in self&&((oN=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){iN(e.data.key,e.data.fid)}),oN}function sN(){0===nN.size&&oN&&(oN.close(),oN=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uN,cN="firebase-installations-store",lN=null;function hN(){return lN||(lN=UA("firebase-installations-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(cN)}}))),lN}function fN(e,t){return xs(this,void 0,void 0,(function(){var n,r,i,o,a;return As(this,(function(s){switch(s.label){case 0:return n=tN(e),[4,hN()];case 1:return r=s.sent(),i=r.transaction(cN,"readwrite"),[4,(o=i.objectStore(cN)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||rN(e,t.fid),[2,t]}}))}))}function pN(e){return xs(this,void 0,void 0,(function(){var t,n,r;return As(this,(function(i){switch(i.label){case 0:return t=tN(e),[4,hN()];case 1:return n=i.sent(),[4,(r=n.transaction(cN,"readwrite")).objectStore(cN).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function dN(e,t){return xs(this,void 0,void 0,(function(){var n,r,i,o,a,s;return As(this,(function(u){switch(u.label){case 0:return n=tN(e),[4,hN()];case 1:return r=u.sent(),i=r.transaction(cN,"readwrite"),[4,(o=i.objectStore(cN)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||rN(e,s.fid),[2,s]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(e){return xs(this,void 0,void 0,(function(){var t,n,r;return As(this,(function(i){switch(i.label){case 0:return[4,dN(e,(function(n){var r=function(e){return yN(e||{fid:eN(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(KA.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return xs(this,void 0,void 0,(function(){var n,r;return As(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,XA(e,t)];case 1:return n=i.sent(),[2,fN(e,n)];case 2:return HA(r=i.sent())&&409===r.customData.serverCode?[4,pN(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,fN(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:gN(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function gN(e){return xs(this,void 0,void 0,(function(){var t,n,r,i;return As(this,(function(o){switch(o.label){case 0:return[4,mN(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,JA(100)];case 3:return o.sent(),[4,mN(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,vN(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function mN(e){return dN(e,(function(e){if(!e)throw KA.create("installation-not-found");return yN(e)}))}function yN(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function bN(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return xs(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return As(this,(function(l){switch(l.label){case 0:return e=function(e,t){var n=t.fid;return WA(e)+"/"+n+"/authTokens:generate"}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,t),i=$A(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:"w:0.4.22"}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,YA((function(){return fetch(e,s)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,GA(c)];case 3:return[4,zA("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function wN(e,t){return void 0===t&&(t=!1),xs(this,void 0,void 0,(function(){var n,r,i;return As(this,(function(o){switch(o.label){case 0:return[4,dN(e.appConfig,(function(r){if(!TN(r))throw KA.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return xs(this,void 0,void 0,(function(){var n,r;return As(this,(function(i){switch(i.label){case 0:return[4,_N(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,JA(100)];case 3:return i.sent(),[4,_N(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,wN(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw KA.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return ks(ks({},e),{authToken:t})}(r);return n=function(e,t){return xs(this,void 0,void 0,(function(){var n,r,i;return As(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,bN(e,t)];case 1:return n=o.sent(),i=ks(ks({},t),{authToken:n}),[4,fN(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!HA(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,pN(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=ks(ks({},t),{authToken:{requestStatus:0}}),[4,fN(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function _N(e){return dN(e,(function(e){if(!TN(e))throw KA.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+1e4<Date.now()?ks(ks({},e),{authToken:{requestStatus:0}}):e}))}function TN(e){return void 0!==e&&2===e.registrationStatus}function EN(e){return xs(this,void 0,void 0,(function(){var t;return As(this,(function(n){switch(n.label){case 0:return[4,vN(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(e,t){return xs(this,void 0,void 0,(function(){var n,r,i,o;return As(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return WA(e)+"/"+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t),r=$A(e,t),i={method:"DELETE",headers:r},[4,YA((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,zA("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function SN(e,t){var n=e.appConfig;return function(e,t){aN();var n=tN(e),r=nN.get(n);r||(r=new Set,nN.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=tN(e),r=nN.get(n);r&&(r.delete(t),0===r.size&&nN.delete(n),sN())}(n,t)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(e){return KA.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){e.INTERNAL.registerComponent(new bu("installations",(function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw CN("App Configuration");if(!e.name)throw CN("App Name");try{for(var r=Ns(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw CN(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(e){return xs(this,void 0,void 0,(function(){var t,n,r;return As(this,(function(i){switch(i.label){case 0:return[4,vN(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):wN(e).catch(console.error),[2,n.fid]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),xs(this,void 0,void 0,(function(){return As(this,(function(n){switch(n.label){case 0:return[4,EN(e.appConfig)];case 1:return n.sent(),[4,wN(e,t)];case 2:return[2,n.sent().token]}}))}))}(n,e)},delete:function(){return function(e){return xs(this,void 0,void 0,(function(){var t,n;return As(this,(function(r){switch(r.label){case 0:return[4,dN(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw KA.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw KA.create("app-offline");case 3:return[4,IN(t,n)];case 4:return r.sent(),[4,pN(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(e){return SN(n,e)}}}),"PUBLIC")),e.registerVersion("@firebase/installations","0.4.22")}(zu);var kN,xN,AN=((uN={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',uN["only-available-in-window"]="This method is available in a Window context.",uN["only-available-in-sw"]="This method is available in a service worker context.",uN["permission-default"]="The notification permission was not granted and dismissed instead.",uN["permission-blocked"]="The notification permission was not granted and blocked instead.",uN["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",uN["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",uN["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",uN["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",uN["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",uN["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",uN["token-update-no-token"]="FCM returned no token when updating the user to push.",uN["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",uN["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",uN["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",uN["invalid-vapid-key"]="The public VAPID key must be a string.",uN["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",uN),NN=new Zs("messaging","Messaging",AN),DN="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function RN(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,Rs([],Ds(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function PN(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(xN=kN||(kN={})).PUSH_RECEIVED="push-received",xN.NOTIFICATION_CLICKED="notification-clicked";function ON(e){return xs(this,void 0,void 0,(function(){var t,n,r=this;return As(this,(function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=i.sent(),!t.map((function(e){return e.name})).includes("fcm_token_details_db"))return[2,null];i.label=2;case 2:return n=null,[4,UA("fcm_token_details_db",5,(function(t){return xs(r,void 0,void 0,(function(){var r,i,o,a;return As(this,(function(s){switch(s.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains("fcm_token_object_Store")?[4,(r=t.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,r.clear()];case 2:if(s.sent(),!i)return[2];if(2===t.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];n={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:RN(o.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(n={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:RN(o.auth),p256dh:RN(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:RN(o.vapidKey)}});return[2]}}))}))}))];case 3:return i.sent().close(),[4,qA("fcm_token_details_db")];case 4:return i.sent(),[4,qA("fcm_vapid_details_db")];case 5:return i.sent(),[4,qA("undefined")];case 6:return i.sent(),[2,LN(n)?n:null]}}))}))}function LN(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MN="firebase-messaging-store",FN=null;function jN(){return FN||(FN=UA("firebase-messaging-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(MN)}}))),FN}function UN(e){return xs(this,void 0,void 0,(function(){var t,n,r;return As(this,(function(i){switch(i.label){case 0:return t=BN(e),[4,jN()];case 1:return[4,i.sent().transaction(MN).objectStore(MN).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,ON(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,qN(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function qN(e,t){return xs(this,void 0,void 0,(function(){var n,r,i;return As(this,(function(o){switch(o.label){case 0:return n=BN(e),[4,jN()];case 1:return r=o.sent(),[4,(i=r.transaction(MN,"readwrite")).objectStore(MN).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function VN(e){return xs(this,void 0,void 0,(function(){var t,n,r;return As(this,(function(i){switch(i.label){case 0:return t=BN(e),[4,jN()];case 1:return n=i.sent(),[4,(r=n.transaction(MN,"readwrite")).objectStore(MN).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function BN(e){return e.appConfig.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(e,t){return xs(this,void 0,void 0,(function(){var n,r,i,o,a,s;return As(this,(function(u){switch(u.label){case 0:return[4,zN(e)];case 1:n=u.sent(),r=QN(t),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(GN(e.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),NN.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,NN.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw NN.create("token-subscribe-no-token");return[2,o.token]}}))}))}function HN(e,t){return xs(this,void 0,void 0,(function(){var n,r,i,o,a,s;return As(this,(function(u){switch(u.label){case 0:return[4,zN(e)];case 1:n=u.sent(),r=QN(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(GN(e.appConfig)+"/"+t.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),NN.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,NN.create("token-update-failed",{errorInfo:s});if(!o.token)throw NN.create("token-update-no-token");return[2,o.token]}}))}))}function WN(e,t){return xs(this,void 0,void 0,(function(){var n,r,i,o,a;return As(this,(function(s){switch(s.label){case 0:return[4,zN(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(GN(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,NN.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),NN.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function GN(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function zN(e){var t=e.appConfig,n=e.installations;return xs(this,void 0,void 0,(function(){var e;return As(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function QN(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==DN&&(o.web.applicationPubKey=i),o}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(e,t,n){return xs(this,void 0,void 0,(function(){var r,i,o,a;return As(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw NN.create("permission-blocked");return[4,ZN(t,n)];case 1:return r=s.sent(),[4,UN(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:RN(r.getKey("auth")),p256dh:RN(r.getKey("p256dh"))},i?[3,3]:[2,JN(e,o)];case 3:if(u=i.subscriptionOptions,l=(c=o).vapidKey===u.vapidKey,h=c.endpoint===u.endpoint,f=c.auth===u.auth,p=c.p256dh===u.p256dh,l&&h&&f&&p)return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,WN(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,JN(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,XN({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}var u,c,l,h,f,p;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}))}))}function YN(e,t){return xs(this,void 0,void 0,(function(){var n,r;return As(this,(function(i){switch(i.label){case 0:return[4,UN(e)];case 1:return(n=i.sent())?[4,WN(e,n.token)]:[3,4];case 2:return i.sent(),[4,VN(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function XN(e,t,n){return xs(this,void 0,void 0,(function(){var r,i,o;return As(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,HN(t,e)];case 1:return r=a.sent(),i=ks(ks({},e),{token:r,createTime:Date.now()}),[4,qN(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,YN(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function JN(e,t){return xs(this,void 0,void 0,(function(){var n,r;return As(this,(function(i){switch(i.label){case 0:return[4,KN(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,qN(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function ZN(e,t){return xs(this,void 0,void 0,(function(){var n;return As(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:PN(t)})]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function eD(e){return"object"==typeof e&&!!e&&"google.c.a.c_id"in e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(e){return new Promise((function(t){setTimeout(t,e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nD=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!=typeof e)throw NN.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return xs(this,void 0,void 0,(function(){var n;return As(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,UN(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null==n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:DN,r.label=2;case 2:return[2,$N(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return YN(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw NN.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw NN.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw NN.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw NN.create("only-available-in-window")},e.prototype.onMessage=function(){throw NN.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw NN.create("only-available-in-window")},e.prototype.onPush=function(e){return xs(this,void 0,void 0,(function(){var t,n,r,i;return As(this,(function(o){switch(o.label){case 0:return(t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(e){return null}}(e))?[4,aD()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,oD(n,t)]:(r=!1,t.notification?[4,sD(rD(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,tD(1e3)]);case 4:return o.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return xs(this,void 0,void 0,(function(){var r;return As(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,YN(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,UN(this.firebaseDependencies)];case 3:return r=i.sent(),[4,YN(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,$N(this.firebaseDependencies,self.registration,null!==(n=null===(t=null==r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:DN)];case 5:return i.sent(),[2]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return xs(this,void 0,void 0,(function(){var r,i,o,a,s;return As(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return eD(e.data)?self.location.origin:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r))?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,iD(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,tD(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=kN.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},e}();function rD(e){var t,n=ks({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function iD(e){return xs(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return As(this,(function(u){switch(u.label){case 0:return[4,aD()];case 1:t=u.sent();try{for(n=Ns(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(e){a={error:e}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function oD(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=kN.PUSH_RECEIVED;try{for(var i=Ns(e),o=i.next();!o.done;o=i.next()){o.value.postMessage(t)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function aD(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function sD(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var uD=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return xs(this,void 0,void 0,(function(){var t,n;return As(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===kN.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),eD(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return xs(this,void 0,void 0,(function(){return As(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw NN.create("permission-blocked");return[4,this.updateVapidKey(null==e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null==e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,$N(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return xs(this,void 0,void 0,(function(){return As(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=DN),[2]}))}))},e.prototype.updateSwReg=function(e){return xs(this,void 0,void 0,(function(){return As(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw NN.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return xs(this,void 0,void 0,(function(){var e,t;return As(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),NN.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return xs(this,void 0,void 0,(function(){return As(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,YN(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return xs(this,void 0,void 0,(function(){var e;return As(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?NN.create("permission-blocked"):NN.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw NN.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw NN.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw NN.create("invalid-sw-registration");if(this.swRegistration)throw NN.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw NN.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw NN.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return xs(this,void 0,void 0,(function(){var n;return As(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case kN.NOTIFICATION_CLICKED:return"notification_open";case kN.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function cD(e){return NN.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lD={isSupported:hD};function hD(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}zu.INTERNAL.registerComponent(new bu("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n={app:t,appConfig:function(e){var t,n;if(!e||!e.options)throw cD("App Configuration Object");if(!e.name)throw cD("App Name");var r=e.options;try{for(var i=Ns(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw cD(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!hD())throw NN.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new nD(n):new uD(n)}),"PUBLIC").setServiceProps(lD));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var fD=function(e){function t(n,r){var i=e.call(this,pD(n),"Firebase Storage: "+r+" ("+pD(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,t.prototype),i}return Cs(t,e),t.prototype._codeEquals=function(e){return pD(e)===this.code},Object.defineProperty(t.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e},enumerable:!1,configurable:!0}),t}(Js);function pD(e){return"storage/"+e}function dD(){return new fD("unknown","An unknown error occurred, please check the error payload for server response.")}function vD(){return new fD("canceled","User canceled the upload/download.")}function gD(){return new fD("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function mD(e){return new fD("invalid-argument",e)}function yD(){return new fD("app-deleted","The Firebase app was deleted.")}function bD(e){return new fD("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wD(e,t){return new fD("invalid-format","String does not match format '"+e+"': "+t)}function _D(e){throw new fD("internal-error","Internal error: "+e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TD={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ED=function(e,t){this.data=e,this.contentType=t||null};function ID(e,t){switch(e){case TD.RAW:return new ED(SD(t));case TD.BASE64:case TD.BASE64URL:return new ED(CD(e,t));case TD.DATA_URL:return new ED((n=new kD(t)).base64?CD(TD.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(e){throw wD(TD.DATA_URL,"Malformed data URL.")}return SD(t)}(n.rest),function(e){return new kD(e).contentType}(t))}var n;throw dD()}function SD(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function CD(e,t){switch(e){case TD.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw wD(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case TD.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw wD(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(t){throw wD(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var kD=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw wD(TD.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1);var r,i;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */};var xD,AD,ND={STATE_CHANGED:"state_changed"},DD={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function RD(e){switch(e){case"running":case"pausing":case"canceling":return DD.RUNNING;case"paused":return DD.PAUSED;case"success":return DD.SUCCESS;case"canceled":return DD.CANCELED;case"error":default:return DD.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(AD=xD||(xD={}))[AD.NO_ERROR=0]="NO_ERROR",AD[AD.NETWORK_ERROR=1]="NETWORK_ERROR",AD[AD.ABORT=2]="ABORT";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var PD=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=xD.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=xD.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=xD.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw _D("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw _D("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw _D("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw _D("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}(),OD=function(){function e(){}return e.prototype.createXhrIo=function(){return new PD},e}(),LD=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n;try{n=e.makeFromUrl(t)}catch(n){return new e(t,"")}if(""===n.path)return n;throw new fD("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t){var n=null,r="([A-Za-z0-9.\\-_]+)";var i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var a="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<s.length;u++){var c=s[u],l=c.regex.exec(t);if(l){var h=l[c.indices.bucket],f=l[c.indices.path];f||(f=""),n=new e(h,f),c.postModify(n);break}}if(null==n)throw function(e){return new fD("invalid-url","Invalid URL '"+e+"'.")}(t);return n},e}(),MD=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(e){return"string"==typeof e||e instanceof String}function jD(e){return UD()&&e instanceof Blob}function UD(){return"undefined"!=typeof Blob}function qD(e,t,n,r){if(r<t)throw mD("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw mD("Invalid value for '"+e+"'. Expected "+n+" or less.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(e){return"https://firebasestorage.googleapis.com/v0"+e}function BD(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KD=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());void 0!==s?i(s):i()}catch(e){o(e)}else null!==a?((r=dD()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?yD():vD()):o(r=new fD("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new HD(!1,null,!0)):this.backoffId_=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function l(t){i=setTimeout((function(){i=null,e(h,s())}),t)}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!u)if(e)c.call.apply(c,Rs([null,e],t));else{var i;s()||o?c.call.apply(c,Rs([null,e],t)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),l(i))}}var f=!1;function p(e){f||(f=!0,u||(null!==i?(e||(a=2),clearTimeout(i),l(0)):e||(a=1)))}return l(0),setTimeout((function(){o=!0,p(!0)}),n),p}((function(t,n){if(n)t(!1,new HD(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(i),e.pendingXhr_=null;var r=(n=n).getErrorCode()===xD.NO_ERROR,o=n.getStatus();if(r&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new HD(a,n))}else{var s=n.getErrorCode()===xD.ABORT;t(!1,new HD(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),HD=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function WD(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function GD(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=WD();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(UD())return new Blob(e);throw new fD("unsupported-environment","This browser doesn't seem to support creating Blobs")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var zD=function(){function e(e,t){var n=0,r="";jD(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(jD(this.data_)){var r=this.data_,i=(a=t,s=n,(o=r).webkitSlice?o.webkitSlice(a,s):o.mozSlice?o.mozSlice(a,s):o.slice?o.slice(a,s):null);return null===i?null:new e(i)}var o,a,s;return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(UD()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(GD.apply(null,r))}var i=t.map((function(e){return FD(e)?ID(TD.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(e){var t,n;try{t=JSON.parse(e)}catch(e){return null}return"object"!=typeof(n=t)||Array.isArray(n)?null:t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(e,t){return t}var XD=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||YD},JD=null;function ZD(){if(JD)return JD;var e=[];e.push(new XD("bucket")),e.push(new XD("generation")),e.push(new XD("metageneration")),e.push(new XD("name","fullPath",!0));var t=new XD("name");t.xform=function(e,t){return function(e){return!FD(e)||e.length<2?e:$D(e)}(t)},e.push(t);var n=new XD("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new XD("timeCreated")),e.push(new XD("updated")),e.push(new XD("md5Hash",null,!0)),e.push(new XD("cacheControl",null,!0)),e.push(new XD("contentDisposition",null,!0)),e.push(new XD("contentEncoding",null,!0)),e.push(new XD("contentLanguage",null,!0)),e.push(new XD("contentType",null,!0)),e.push(new XD("metadata","customMetadata",!0)),JD=e}function eR(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new LD(n,r);return t._makeStorageReference(i)}})}(r,e),r}function tR(e,t,n){var r=QD(t);return null===r?null:eR(e,r,n)}function nR(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(e,t,n){var r=QD(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new LD(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=e._makeStorageReference(new LD(t,l.name)),r.items.push(s)}return r}(e,t,r)}var iR=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(e){if(!e)throw dD()}function aR(e,t){return function(n,r){var i=tR(e,r,t);return oR(null!==i),i}}function sR(e,t){return function(n,r){var i=tR(e,r,t);return oR(null!==i),function(e,t){var n=QD(t);if(null===n)return null;if(!FD(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(t){var n=e.bucket,r=e.fullPath;return VD("/b/"+i(n)+"/o/"+i(r))+BD({alt:"media",token:t})}))[0]}(i,r)}}function uR(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=new fD("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new fD("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new fD("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function cR(e){var t=uR(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new fD("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function lR(e,t,n){var r=VD(t.fullServerUrl()),i=e.maxOperationRetryTime,o=new iR(r,"GET",aR(e,n),i);return o.errorHandler=cR(t),o}function hR(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=VD(t.bucketOnlyServerUrl()),s=e.maxOperationRetryTime,u=new iR(a,"GET",function(e,t){return function(n,r){var i=rR(e,t,r);return oR(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=uR(t),u}function fR(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var pR=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function dR(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){oR(!1)}return oR(!!n&&-1!==(t||["active"]).indexOf(n)),n}function vR(e,t,n,r,i,o,a,s){var u=new pR(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new fD("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,p={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,f);if(null===d)throw gD();var v=t.maxUploadRetryTime,g=new iR(n,"POST",(function(e,n){var i,a=dR(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?aR(t,o)(e,n):null,new pR(s,c,"final"===a,i)}),v);return g.headers=p,g.body=d.uploadData(),g.progressCallback=s||null,g.errorHandler=uR(e),g}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gR=function(e,t,n){if("function"==typeof e||null!=t||null!=n)this.next=e,this.error=t,this.complete=n;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yR=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=ZD(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;this._ref.storage._getAuthToken().then((function(n){switch(t._state){case"running":e(n);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=fR(t,r,i),s={name:a.fullPath},u=VD(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=nR(a,n),h=e.maxUploadRetryTime,f=new iR(u,"POST",(function(e){var t;dR(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){oR(!1)}return oR(FD(t)),t}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=uR(t),f}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),r=e._ref.storage._makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n){var r=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new iR(n,"POST",(function(e){var t=dR(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){oR(!1)}n||oR(!1);var i=Number(n);return oR(!isNaN(i)),new pR(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=uR(t),o}(e._ref.storage,e._ref._location,t,e._blob),i=e._ref.storage._makeRequest(r,n);e._request=i,i.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=262144*this._chunkMultiplier,n=new pR(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var o;try{o=vR(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(t){return e._error=t,void e._transition("error")}var a=e._ref.storage._makeRequest(o,i);e._request=a,a.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t){var n=lR(e._ref.storage,e._ref._location,e._mappings),r=e._ref.storage._makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=fR(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+nR(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=zD.getBlob(c,r,l);if(null===h)throw gD();var f={name:u.fullPath},p=VD(o),d=e.maxUploadRetryTime,v=new iR(p,"POST",aR(e,n),d);return v.urlParams=f,v.headers=a,v.body=h.uploadData(),v.errorHandler=uR(t),v}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),r=e._ref.storage._makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=vD(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=RD(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new gR(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(RD(this._state)){case DD.SUCCESS:mR(this._resolve.bind(null,this.snapshot))();break;case DD.CANCELED:case DD.ERROR:mR(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(RD(this._state)){case DD.RUNNING:case DD.PAUSED:e.next&&mR(e.next.bind(e,this.snapshot))();break;case DD.SUCCESS:e.complete&&mR(e.complete.bind(e))();break;case DD.CANCELED:case DD.ERROR:e.error&&mR(e.error.bind(e,this._error))();break;default:e.error&&mR(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),bR=function(){function e(e,t){this._service=e,this._location=t instanceof LD?t:LD.makeFromUrl(t)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new LD(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return $D(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new LD(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw bD(e)},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(e){var t={prefixes:[],items:[]};return _R(e,t).then((function(){return t}))}function _R(e,t,n){return xs(this,void 0,void 0,(function(){var r,i,o;return As(this,(function(a){switch(a.label){case 0:return[4,TR(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,_R(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function TR(e,t){return xs(this,void 0,void 0,(function(){var n,r,i;return As(this,(function(o){switch(o.label){case 0:return null!=t&&"number"==typeof t.maxResults&&qD("options.maxResults",1,1e3,t.maxResults),[4,e.storage._getAuthToken()];case 1:return n=o.sent(),r=t||{},i=hR(e.storage,e._location,"/",r.pageToken,r.maxResults),[2,e.storage._makeRequest(i,n).getPromise()]}}))}))}function ER(e,t){return xs(this,void 0,void 0,(function(){var n,r;return As(this,(function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),[4,e.storage._getAuthToken()];case 1:return n=i.sent(),r=function(e,t,n,r){var i=VD(t.fullServerUrl()),o=nR(n,r),a=e.maxOperationRetryTime,s=new iR(i,"PATCH",aR(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=cR(t),s}(e.storage,e._location,t,ZD()),[2,e.storage._makeRequest(r,n).getPromise()]}}))}))}function IR(e){return xs(this,void 0,void 0,(function(){var t,n;return As(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("getDownloadURL"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=function(e,t,n){var r=VD(t.fullServerUrl()),i=e.maxOperationRetryTime,o=new iR(r,"GET",sR(e,n),i);return o.errorHandler=cR(t),o}(e.storage,e._location,ZD()),[2,e.storage._makeRequest(n,t).getPromise().then((function(e){if(null===e)throw new fD("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function SR(e){return xs(this,void 0,void 0,(function(){var t,n;return As(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("deleteObject"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=function(e,t){var n=VD(t.fullServerUrl()),r=e.maxOperationRetryTime,i=new iR(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=cR(t),i}(e.storage,e._location),[2,e.storage._makeRequest(n,t).getPromise()]}}))}))}function CR(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new LD(e._location.bucket,n);return new bR(e.storage,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(e){return/^[A-Za-z]+:\/\//.test(e)}function xR(e,t){if(e instanceof NR){var n=e;if(null==n._bucket)throw new fD("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new bR(n,n._bucket);return null!=t?xR(r,t):r}if(void 0!==t){if(t.includes(".."))throw mD('`path` param cannot contain ".."');return CR(e,t)}return e}function AR(e,t){if(t&&kR(t)){if(e instanceof NR)return new bR(e,t);throw mD("To use ref(service, url), the first argument must be a Storage instance.")}return xR(e,t)}var NR=function(){function e(e,t,n,r,i){var o,a;this.app=e,this._authProvider=t,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?LD.makeFromBucketSpec(r):(o=this.app.options,null==(a=null==o?void 0:o.storageBucket)?null:LD.makeFromBucketSpec(a))}return Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){qD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){qD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return xs(this,void 0,void 0,(function(){var e,t;return As(this,(function(n){switch(n.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new bR(this,e)},e.prototype._makeRequest=function(e,t){var n=this;if(this._deleted)return new MD(yD());var r=function(e,t,n,r,i){var o=BD(e.urlParams),a=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(s,i),new KD(a,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}(e,this._appId,t,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new yR(e,new zD(t),n)}(e,t,n)}function RR(e){return function(e){return xs(this,void 0,void 0,(function(){var t,n;return As(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("getMetadata"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=lR(e.storage,e._location,ZD()),[2,e.storage._makeRequest(n,t).getPromise()]}}))}))}(e)}function PR(e,t){return AR(e,t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var OR=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),LR=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new OR(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new OR(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"==typeof t?function(e){return t(new OR(e,i,i._ref))}:{next:t.next?function(e){return t.next(new OR(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),MR=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new FR(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new FR(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),FR=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){return new e(function(e,t){return CR(e,t)}(this._delegate,t),this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new LR(DR(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=TD.RAW),this._throwIfRoot("putString");var r=ID(t,e),i=ks({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new LR(new yR(this._delegate,new zD(r.data,!0),i),this)},e.prototype.listAll=function(){var e,t=this;return(e=this._delegate,wR(e)).then((function(e){return new MR(e,t.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return TR(e,t)}(this._delegate,e||void 0).then((function(e){return new MR(e,t.storage)}))},e.prototype.getMetadata=function(){return RR(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return ER(e,t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return IR(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),SR(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw bD(e)},e}(),jR=function(){function e(e,t){var n=this;this.app=e,this._delegate=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(kR(e))throw mD("ref() expected a child path but got a URL, use refFromURL instead.");return new FR(PR(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!kR(e))throw mD("refFromURL() expected a full URL but got a child path, use ref() instead.");try{LD.makeFromUrl(e)}catch(e){throw mD("refFromUrl() expected a valid full URL but got an invalid one.")}return new FR(PR(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal");return new jR(r,new NR(r,i,new OD,n,zu.SDK_VERSION))}!function(e){var t={TaskState:DD,TaskEvent:ND,StringFormat:TD,Storage:NR,Reference:FR};e.INTERNAL.registerComponent(new bu("storage",UR,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.4.5")}(zu);var qR,VR,BR,KR=((qR={})["trace started"]="Trace {$traceName} was started before.",qR["trace stopped"]="Trace {$traceName} is not running.",qR["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",qR["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",qR["no window"]="Window is not available.",qR["no app id"]="App id is not available.",qR["no project id"]="Project id is not available.",qR["no api key"]="Api key is not available.",qR["invalid cc log"]="Attempted to queue invalid cc event",qR["FB not default"]="Performance can only start when Firebase app instance is the default one.",qR["RC response not ok"]="RC response is not ok",qR["invalid attribute name"]="Attribute name {$attributeName} is invalid.",qR["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",qR["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",qR["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",qR),HR=new Zs("performance","Performance",KR),WR=new Ru("Performance");WR.logLevel=Iu.INFO;var GR,zR=function(){function e(e){if(this.window=e,!e)throw HR.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!$s()||(WR.info("IndexedDB is not supported by current browswer"),!1):(WR.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}})).observe({entryTypes:[e]})},e.getInstance=function(){return void 0===VR&&(VR=new e(BR)),VR},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function QR(e,t){var n=e.length-t.length;if(n<0||n>1)throw HR.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $R,YR,XR,JR=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=QR("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=QR("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw HR.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw HR.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw HR.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===GR&&(GR=new e),GR},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(){return $R}(XR=YR||(YR={}))[XR.UNKNOWN=0]="UNKNOWN",XR[XR.VISIBLE=1]="VISIBLE",XR[XR.HIDDEN=2]="HIDDEN";var eP=["firebase_","google_","ga_"],tP=new RegExp("^[a-zA-Z]\\w*$");function nP(){switch(zR.getInstance().document.visibilityState){case"visible":return YR.VISIBLE;case"hidden":return YR.HIDDEN;default:return YR.UNKNOWN}}function rP(){var e=zR.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var iP=!0;function oP(e){var t=function(){var e=zR.getInstance().localStorage;if(!e)return;var t=e.getItem("@firebase/performance/configexpire");if(!(t&&(n=t,Number(n)>Date.now())))return;var n;var r=e.getItem("@firebase/performance/config");if(!r)return;try{return JSON.parse(r)}catch(e){return}}();return t?(aP(t),Promise.resolve()):function(e){return(t=JR.getInstance().installationsService.getToken(),t.then((function(e){})),t).then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+JR.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+JR.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:JR.getInstance().getAppId(),app_version:"0.4.8",sdk_version:"0.0.1"})});return fetch(r).then((function(e){if(e.ok)return e.json();throw HR.create("RC response not ok")}))})).catch((function(){WR.info("Could not fetch config, will use default configs")}));var t;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(e).then(aP).then((function(e){return function(e){var t=zR.getInstance().localStorage;if(!e||!t)return;t.setItem("@firebase/performance/config",JSON.stringify(e)),t.setItem("@firebase/performance/configexpire",String(Date.now()+60*JR.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}function aP(e){if(!e)return e;var t=JR.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=iP,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=sP(t.tracesSamplingRate),t.logNetworkAfterSampling=sP(t.networkRequestsSamplingRate),e}function sP(e){return Math.random()<=e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uP,cP=1;function lP(){var e;return cP=2,uP=uP||(e=zR.getInstance().document,new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))).then((function(){return(e=JR.getInstance().installationsService.getId()).then((function(e){$R=e})),e;var e})).then((function(e){return oP(e)})).then((function(){return hP()}),(function(){return hP()}))}function hP(){cP=3}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fP,pP=3,dP=[],vP=!1;function gP(e){setTimeout((function(){var e,t;if(0!==pP)return dP.length?(e=dP.splice(0,1e3),t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}})),void function(e,t){return function(e){var t=JR.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||WR.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=1e4;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(dP=Rs(Rs([],t),dP),WR.info("Retry transport request later.")),pP=3,gP(r)}))}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:JR.getInstance().logSource,log_event:t},e).catch((function(){dP=Rs(Rs([],e),dP),pP--,WR.info("Tries left: "+pP+"."),gP(1e4)}))):gP(1e4)}),e)}function mP(e){if(!e.eventTime||!e.message)throw HR.create("invalid cc log");dP=Rs(Rs([],dP),[e])}function yP(e,t){var n;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fP||(n=_P,fP=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];mP({message:n.apply(void 0,e),eventTime:Date.now()})}),fP(e,t)}function bP(e){var t=JR.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&zR.getInstance().requiredApisAvailable()&&(e.isAuto&&nP()!==YR.VISIBLE||(3===cP?wP(e):lP().then((function(){return wP(e)}),(function(){return wP(e)}))))}function wP(e){if(ZR()){var t=JR.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return yP(e,1)}),0)}}function _P(e,t){return 0===t?(r={url:(n=e).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:TP(),network_request_metric:r},JSON.stringify(i)):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:TP(),trace_metric:t};return JSON.stringify(r)}(e);var n,r,i}function TP(){return{google_app_id:JR.getInstance().getAppId(),app_instance_id:ZR(),web_app_info:{sdk_version:"0.4.8",page_url:zR.getInstance().getUrl(),service_worker_status:(e=zR.getInstance().navigator,"serviceWorker"in e?e.serviceWorker.controller?2:3:1),visibility_state:nP(),effective_connection_type:rP()},application_process_state:0};var e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EP=["_fp","_fcp","_fid"];
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var IP=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=zR.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw HR.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw HR.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),bP(this)},e.prototype.record=function(e,t,n){if(e<=0)throw HR.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw HR.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=ks({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}bP(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(i=e,o=this.name,0===i.length||i.length>100||!(o&&o.startsWith("_wt_")&&EP.indexOf(i)>-1)&&i.startsWith("_"))throw HR.create("invalid custom metric name",{customMetricName:e});var n,r,i,o;this.counters[e]=(n=t,(r=Math.floor(n))<n&&WR.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>40||eP.some((function(e){return n.startsWith(e)}))||!n.match(tP)),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw HR.create("invalid attribute name",{attributeName:e});if(!i)throw HR.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return ks({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=zR.getInstance().getUrl();if(i){var o=new e("_wt_"+i,!0),a=Math.floor(1e3*zR.getInstance().getTimeOrigin());o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}bP(o)}},e.createUserTimingTrace=function(t){bP(new e(t,!1,t))},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(e){var t=e;if(t&&void 0!==t.responseStart){var n=zR.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=JR.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return yP(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(){ZR()&&(setTimeout((function(){return function(){var e=zR.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){IP.createOobTrace(t,n),r=void 0}),5e3);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),IP.createOobTrace(t,n,e))}))}else IP.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=zR.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){SP(r[n])}e.setupObserver("resource",SP)}()}),0),setTimeout((function(){return function(){for(var e=zR.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){kP(r[n])}e.setupObserver("measure",kP)}()}),0))}function kP(e){var t=e.name;"FB-PERF-TRACE-MEASURE"!==t.substring(0,"FB-PERF-TRACE-MEASURE".length)&&IP.createUserTimingTrace(t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xP=function(){function e(e){this.app=e,zR.getInstance().requiredApisAvailable()&&Ys().then((function(e){e&&(vP||(gP(5500),vP=!0),lP().then(CP,CP))})).catch((function(e){WR.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new IP(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return JR.getInstance().instrumentationEnabled},set:function(e){JR.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return JR.getInstance().dataCollectionEnabled},set:function(e){JR.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){var t=function(e,t){if("[DEFAULT]"!==e.name)throw HR.create("FB not default");if("undefined"==typeof window)throw HR.create("no window");var n;return n=window,BR=n,JR.getInstance().firebaseAppInstance=e,JR.getInstance().installationsService=t,new xP(e)};e.INTERNAL.registerComponent(new bu("performance",(function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return t(n,r)}),"PUBLIC")),e.registerVersion("@firebase/performance","0.4.8")}(zu);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var AP,NP,DP,RP,PP="https://www.googletagmanager.com/gtag/js";(NP=AP||(AP={})).EVENT="event",NP.SET="set",NP.CONFIG="config",(RP=DP||(DP={})).ADD_SHIPPING_INFO="add_shipping_info",RP.ADD_PAYMENT_INFO="add_payment_info",RP.ADD_TO_CART="add_to_cart",RP.ADD_TO_WISHLIST="add_to_wishlist",RP.BEGIN_CHECKOUT="begin_checkout",RP.CHECKOUT_PROGRESS="checkout_progress",RP.EXCEPTION="exception",RP.GENERATE_LEAD="generate_lead",RP.LOGIN="login",RP.PAGE_VIEW="page_view",RP.PURCHASE="purchase",RP.REFUND="refund",RP.REMOVE_FROM_CART="remove_from_cart",RP.SCREEN_VIEW="screen_view",RP.SEARCH="search",RP.SELECT_CONTENT="select_content",RP.SELECT_ITEM="select_item",RP.SELECT_PROMOTION="select_promotion",RP.SET_CHECKOUT_OPTION="set_checkout_option",RP.SHARE="share",RP.SIGN_UP="sign_up",RP.TIMING_COMPLETE="timing_complete",RP.VIEW_CART="view_cart",RP.VIEW_ITEM="view_item",RP.VIEW_ITEM_LIST="view_item_list",RP.VIEW_PROMOTION="view_promotion",RP.VIEW_SEARCH_RESULTS="view_search_results";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var OP,LP=new Ru("@firebase/analytics");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(e,t,n,r,i,o){return xs(this,void 0,void 0,(function(){var a,s,u,c;return As(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),(u=s.find((function(e){return e.measurementId===i})))?[4,t[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),LP.error(c),[3,8];case 8:return e(AP.CONFIG,i,o),[2]}}))}))}function FP(e,t,n,r,i){return xs(this,void 0,void 0,(function(){var o,a,s,u,c,l,h,f;return As(this,(function(p){switch(p.label){case 0:return p.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=p.sent(),u=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&(h=l[c],"break"!==u(h));c++);p.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return p.sent(),e(AP.EVENT,r,i||{}),[3,5];case 4:return f=p.sent(),LP.error(f),[3,5];case 5:return[2]}}))}))}function jP(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return xs(this,void 0,void 0,(function(){var s;return As(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==AP.EVENT?[3,2]:[4,FP(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==AP.CONFIG?[3,4]:[4,MP(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(AP.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),LP.error(s),[3,7];case 7:return[2]}}))}))}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}var UP=((OP={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",OP["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",OP["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",OP["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",OP["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",OP["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",OP["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",OP["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',OP["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',OP),qP=new Zs("analytics","Analytics",UP),VP=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function BP(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function KP(e){var t;return xs(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return As(this,(function(c){switch(c.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:BP(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(t=u.error)||void 0===t?void 0:t.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw qP.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function HP(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=VP),xs(this,void 0,void 0,(function(){var t,a,s,u,c,l,h;return As(this,(function(f){switch(f.label){case 0:t=e.appId,a=e.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,WP(n,i)];case 2:return f.sent(),[3,4];case 3:if(s=f.sent(),a)return LP.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:a}];throw s;case 4:return f.trys.push([4,6,,7]),[4,KP(e)];case 5:return u=f.sent(),r.deleteThrottleMetadata(t),[2,u];case 6:if(!function(e){if(!(e instanceof Js&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c=f.sent())){if(r.deleteThrottleMetadata(t),a)return LP.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:a}];throw c}return l=503===Number(c.customData.httpStatus)?yu(o,r.intervalMillis,30):yu(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(t,h),LP.debug("Calling attemptFetch again in "+l+" millis"),[2,HP(e,h,n,r)];case 7:return[2]}}))}))}function WP(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(qP.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var GP=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(e,t,n,r,i,o){return xs(this,void 0,void 0,(function(){var a,s,u,c,l,h,f;return As(this,(function(p){switch(p.label){case 0:return(a=function(e,t,n){return void 0===t&&(t=VP),xs(this,void 0,void 0,(function(){var r,i,o,a,s,u,c=this;return As(this,(function(l){if(r=e.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw qP.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw qP.create("no-api-key")}return s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new GP,setTimeout((function(){return xs(c,void 0,void 0,(function(){return As(this,(function(e){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,HP({appId:i,apiKey:o,measurementId:a},s,u,t)]}))}))}(e)).then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&LP.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return LP.error(e)})),t.push(a),s=function(){return xs(this,void 0,void 0,(function(){var e;return As(this,(function(t){switch(t.label){case 0:return $s()?[3,1]:(LP.warn(qP.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,Ys()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),LP.warn(qP.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return u=p.sent(),c=u[0],l=u[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(PP))return r}return null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()||function(e,t){var n=document.createElement("script");n.src=PP+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(f={}).origin="firebase",f.update=!0,h=f,null!=l&&(h.firebase_id=l),i(AP.CONFIG,c.measurementId,h),[2,c.measurementId]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QP,$P,YP={},XP=[],JP={},ZP="dataLayer",eO="gtag",tO=!1;function nO(e){if(tO)throw qP.create("already-initialized");e.dataLayerName&&(ZP=e.dataLayerName),e.gtagName&&(eO=e.gtagName)}function rO(e,t){!function(){var e=[];if(Gs()&&e.push("This is a browser extension environment."),Xs()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=qP.create("invalid-analytics-context",{errorInfo:t});LP.warn(n.message)}}();var n,r,i=e.options.appId;if(!i)throw qP.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw qP.create("no-api-key");LP.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=YP[i])throw qP.create("already-exists",{id:i});if(!tO){n=ZP,r=[],Array.isArray(window[n])?r=window[n]:window[n]=r;var o=jP(YP,XP,JP,ZP,eO),a=o.wrappedGtag,s=o.gtagCore;$P=a,QP=s,tO=!0}return YP[i]=zP(e,XP,JP,t,QP,ZP),{app:e,logEvent:function(e,t,n){(
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e,t,n,r,i){return xs(this,void 0,void 0,(function(){var o,a;return As(this,(function(s){switch(s.label){case 0:return i&&i.global?(e(AP.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=ks(ks({},r),{send_to:o}),e(AP.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})($P,YP[i],e,t,n).catch((function(e){return LP.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return xs(this,void 0,void 0,(function(){var i;return As(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(AP.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(AP.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})($P,YP[i],e,t).catch((function(e){return LP.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return xs(this,void 0,void 0,(function(){var i;return As(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(AP.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(AP.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})($P,YP[i],e,t).catch((function(e){return LP.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return xs(this,void 0,void 0,(function(){var i,o,a,s,u;return As(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(AP.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(AP.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})($P,YP[i],e,t).catch((function(e){return LP.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return xs(this,void 0,void 0,(function(){var n;return As(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(YP[i],e).catch((function(e){return LP.error(e)}))},INTERNAL:{delete:function(){return delete YP[i],Promise.resolve()}}}}function iO(){return xs(this,void 0,void 0,(function(){return As(this,(function(e){switch(e.label){case 0:if(Gs())return[2,!1];if(!Xs())return[2,!1];if(!$s())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Ys()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){e.INTERNAL.registerComponent(new bu("analytics",(function(e){return rO(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:nO,EventName:DP,isSupported:iO})),e.INTERNAL.registerComponent(new bu("analytics-internal",(function(e){try{return{logEvent:e.getProvider("analytics").getImmediate().logEvent}}catch(e){throw qP.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.6")}(zu);var oO,aO=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return xs(this,void 0,void 0,(function(){var t,n,r,i,o;return As(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},e}(),sO=((oO={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",oO["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",oO["registration-api-key"]="Undefined API key. Check Firebase app initialization.",oO["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",oO["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",oO["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",oO["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",oO["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",oO["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",oO["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',oO["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',oO["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",oO["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",oO),uO=new Zs("remoteconfig","Remote Config",sO);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var cO=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return xs(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,h,f,p,d,v,g,m,y,b;return As(this,(function(w){switch(w.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=w.sent(),n=t[0],r=t[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===_&&(_=navigator),_.languages&&_.languages[0]||_.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(o,u),l=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),w.label=2;case 2:return w.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return w.sent(),[4,c];case 4:return h=w.sent(),[3,6];case 5:throw f=w.sent(),p="fetch-client-network","AbortError"===f.name&&(p="fetch-timeout"),uO.create(p,{originalErrorMessage:f.message});case 6:if(d=h.status,v=h.headers.get("ETag")||void 0,200!==h.status)return[3,11];y=void 0,w.label=7;case 7:return w.trys.push([7,9,,10]),[4,h.json()];case 8:return y=w.sent(),[3,10];case 9:throw b=w.sent(),uO.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:g=y.entries,m=y.state,w.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===m?d=500:"NO_CHANGE"===m?d=304:"NO_TEMPLATE"!==m&&"EMPTY_CONFIG"!==m||(g={}),304!==d&&200!==d)throw uO.create("fetch-status",{httpStatus:d});return[2,{status:d,eTag:v,config:g}]}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _}))}))},e}(),lO=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),hO=["1","true","t","yes","y","on"],fO=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&hO.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),pO=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=Iu.DEBUG;break;case"silent":this._logger.logLevel=Iu.SILENT;break;default:this._logger.logLevel=Iu.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return xs(this,void 0,void 0,(function(){var e,t,n;return As(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return xs(this,void 0,void 0,(function(){var e,t,n,r=this;return As(this,(function(i){switch(i.label){case 0:e=new lO,setTimeout((function(){return xs(r,void 0,void 0,(function(){return As(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),n=function(e,t){return e instanceof Js&&-1!==e.code.indexOf(t)}(t,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}}))}))},e.prototype.fetchAndActivate=function(){return xs(this,void 0,void 0,(function(){return As(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e=this;return function(e,t){void 0===e&&(e={});void 0===t&&(t={});return Object.keys(ks(ks({},e),t))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new fO("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new fO("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new fO("static"))},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(e,t){var n=e.target.error||void 0;return uO.create(t,{originalErrorMessage:n&&n.message})}var vO=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(dO(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return xs(this,void 0,void 0,(function(){var t,n=this;return As(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(dO(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(e){i(uO.create("storage-get",{originalErrorMessage:e&&e.message}))}}))]}}))}))},e.prototype.set=function(e,t){return xs(this,void 0,void 0,(function(){var n,r=this;return As(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(dO(e,"storage-set"))},u.onsuccess=function(){i()}}catch(e){o(uO.create("storage-set",{originalErrorMessage:e&&e.message}))}}))]}}))}))},e.prototype.delete=function(e){return xs(this,void 0,void 0,(function(){var t,n=this;return As(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(dO(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(e){i(uO.create("storage-delete",{originalErrorMessage:e&&e.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),gO=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return xs(this,void 0,void 0,(function(){var e,t,n,r,i,o;return As(this,(function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function mO(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(uO.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var yO,bO=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return xs(this,void 0,void 0,(function(){var t;return As(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return xs(this,void 0,void 0,(function(){var t,i,o;return As(this,(function(a){switch(a.label){case 0:return[4,mO(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof Js&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+yu(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}}))}))},e}(),wO="@firebase/remote-config";(yO=zu).INTERNAL.registerComponent(new bu("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"==typeof window)throw uO.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw uO.create("registration-project-id");if(!s)throw uO.create("registration-api-key");if(!u)throw uO.create("registration-app-id");n=n||"firebase";var c=new vO(u,r.name,n),l=new gO(c),h=new Ru(wO);h.logLevel=Iu.ERROR;var f=new cO(i,yO.SDK_VERSION,n,a,s,u),p=new bO(f,c),d=new aO(p,c,l,h),v=new pO(r,d,l,c,h);return v.ensureInitialized(),v}),"PUBLIC").setMultipleInstances(!0)),yO.registerVersion(wO,"0.1.33");
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
zu.registerVersion("firebase","8.3.1","app");let _O;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),zu.registerVersion("firebase","8.3.1");zu.initializeApp({apiKey:"AIzaSyDOBWcXFiDOjFuFY8jtHtOdwYrftZ7BD94",authDomain:"egci427-assignment1.firebaseapp.com",projectId:"egci427-assignment1",storageBucket:"egci427-assignment1.appspot.com",messagingSenderId:"995373155417",appId:"1:995373155417:web:1d31c83f4a0a56e244dd48",measurementId:"G-TPPG9SNM7W"}),zu.auth().onAuthStateChanged((e=>{_O||(_O=si(li).use(Is).mount("#app"))}));
